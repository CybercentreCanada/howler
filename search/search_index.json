{"config":{"lang":["en","fr"],"separator":"[\\s\\-]+","pipeline":["stopWordFilter"],"fields":{"title":{"boost":1000.0},"text":{"boost":1.0},"tags":{"boost":1000000.0}}},"docs":[{"location":"","title":"Home","text":""},{"location":"migration/","title":"Migration Guides","text":""},{"location":"migration/#migration-guides","title":"Migration Guides","text":""},{"location":"migration/#migrating-howler-2120-to-300","title":"Migrating Howler 2.12.0 to 3.0.0","text":"<p>This guide will walk you through the process of migrating your Howler installation from version 2.12.0 to 3.0.0. Version 3.0.0 introduces breaking schema changes that require a complete reindexing of your Elasticsearch data.</p>"},{"location":"migration/#important-notice","title":"\u26a0\ufe0f Important Notice","text":"<p>This is a BREAKING CHANGE migration that requires complete data reindexing.</p> <ul> <li>Downtime Required: Your Howler instance will be unavailable during the migration process</li> <li>Data Backup: Create full backups of your Elasticsearch cluster before proceeding</li> </ul>"},{"location":"migration/#whats-changed-in-300","title":"What's Changed in 3.0.0","text":""},{"location":"migration/#schema-changes","title":"Schema Changes","text":"<p>Version 3.0.0 introduces several important schema modifications:</p> <ol> <li>New Long Data Type: Introduction of <code>odm.Long</code> for handling large integer values with proper Elasticsearch long     datatype mapping</li> <li>Byte Count Field Migration: <code>source.bytes</code> and <code>destination.bytes</code> fields migrated from <code>Integer</code> to <code>Long</code> type</li> <li>Case-Insensitive Keywords: Analytic and view titles/names migrated to <code>odm.CaseInsensitiveKeyword</code> for improved     search functionality</li> <li>Outline Field Changes: Hit outline values migrated from <code>odm.Text</code> to <code>odm.Keyword</code> for better indexing and     querying performance</li> </ol>"},{"location":"migration/#affected-indexes","title":"Affected Indexes","text":"<p>The following Elasticsearch indexes require reindexing:</p> <ul> <li><code>analytic</code> - Analytics data with updated (case-insensitive) name/title fields</li> <li><code>hit</code> - Hit data with updated byte counts and converting outline fields to keywords</li> <li><code>view</code> - View data with updated (case-insensitive) title fields</li> </ul>"},{"location":"migration/#pre-migration-checklist","title":"Pre-Migration Checklist","text":"<p>Before starting the migration process, ensure you have:</p> <ul> <li> Full system backup of your Elasticsearch cluster</li> <li> Sufficient disk space (at least 2x current data size)</li> <li> Maintenance window scheduled (migration time varies based on data size and cluster performance)</li> <li> Admin access to both Howler API and Elasticsearch cluster</li> </ul>"},{"location":"migration/#migration-process","title":"Migration Process","text":""},{"location":"migration/#step-1-backup-your-data","title":"Step 1: Backup Your Data","text":"<pre><code># Create Elasticsearch snapshot (adjust repository settings as needed)\ncurl -X PUT \"localhost:9200/_snapshot/migration_backup/howler_v2_backup?wait_for_completion=true\" -H 'Content-Type: application/json' -d'\n{\n  \"indices\": \"howler-*\",\n  \"ignore_unavailable\": true,\n  \"include_global_state\": false\n}'\n</code></pre>"},{"location":"migration/#step-2-stop-howler-services","title":"Step 2: Stop Howler Services","text":"<p>You should scale down all API pods to halt ingestion during the reindexing, while maintaining a single pod to trigger the reindexing script. You don't need to run the script from a pod, it's just the easiest way to guarantee connectivity to the elasticsearch cluster.</p>"},{"location":"migration/#step-3-update-howler-to-v3","title":"Step 3: Update Howler to v3","text":"<p>Update your images to Howler V3, and use this version to run the reindxing script.</p>"},{"location":"migration/#step-4-run-the-reindexing-script","title":"Step 4: Run the Reindexing Script","text":"<p>Howler 3.0.0 includes an improved reindexing script that allows selective index reindexing:</p> <pre><code># Navigate to the API directory\ncd /path/to/howler/api\n\n# Run the reindexing script\npython howler/external/reindex_data.py\n</code></pre> <p>The script will:</p> <ol> <li>Display a safety warning and countdown</li> <li>Ask for confirmation before proceeding</li> <li>Allow you to select which index to reindex</li> <li>Show which specific indexes will be affected</li> <li>Ask for final confirmation before starting the reindex</li> </ol> <p>Important: Run the script separately for each index type you need to migrate. The recommended order is:</p> <ol> <li><code>view</code> (typically smallest, good for testing)</li> <li><code>analytic</code></li> <li><code>hit</code> (typically largest, do this last)</li> </ol>"},{"location":"migration/#step-5-verify-migration","title":"Step 5: Verify Migration","text":"<p>After reindexing each index, verify the migration was successful:</p> <pre><code># Check index health\ncurl -X GET \"localhost:9200/_cluster/health?pretty\"\n\n# Verify index mappings include new Long type\ncurl -X GET \"localhost:9200/howler-hit-*/_mapping?pretty\" | grep -A 5 -B 5 \"long\"\n\n# Check document counts match expectations\ncurl -X GET \"localhost:9200/howler-*/_count?pretty\"\n</code></pre>"},{"location":"migration/#step-6-start-howler-services","title":"Step 6: Start Howler Services","text":"<p>Once all indexes have been successfully reindexed, you can scale the ingestion/api pods back up.</p>"},{"location":"migration/#step-7-post-migration-validation","title":"Step 7: Post-Migration Validation","text":"<p>Perform the following validation steps:</p> <ol> <li>API Health Check: Verify the API is responding correctly</li> </ol> <pre><code>curl -X GET \"http://your-howler-instance/healthz/\"\n</code></pre> <ol> <li>Search Functionality: Test search queries to ensure the Howler ODM works with the new schema</li> <li>Analytics: Verify that analytics with case-insensitive names work correctly</li> <li>Views: Test that view titles are searchable in a case-insensitive manner</li> <li>Data Integrity: Spot-check critical data to ensure it migrated correctly</li> </ol>"},{"location":"migration/#troubleshooting","title":"Troubleshooting","text":""},{"location":"migration/#common-issues","title":"Common Issues","text":""},{"location":"migration/#reindexing-fails-with-timeout-error","title":"Reindexing Fails with Timeout Error","text":"<ul> <li>Increase Elasticsearch timeout settings</li> <li>Monitor cluster resources (CPU, memory, disk I/O)</li> <li>Consider reindexing during off-peak hours</li> </ul>"},{"location":"migration/#insufficient-disk-space","title":"Insufficient Disk Space","text":"<ul> <li>Free up space or add more storage</li> <li>Consider temporary deletion of old log files</li> <li>Monitor disk usage during reindexing</li> </ul>"},{"location":"migration/#memory-issues-during-migration","title":"Memory Issues During Migration","text":"<ul> <li>Increase JVM heap size for Elasticsearch</li> <li>Reduce concurrent reindexing operations</li> <li>Monitor memory usage closely</li> </ul>"},{"location":"migration/#index-mapping-conflicts","title":"Index Mapping Conflicts","text":"<ul> <li>Verify no custom mappings conflict with new schema</li> <li>Check for any manual index modifications</li> <li>Ensure clean state before reindexing</li> </ul>"},{"location":"migration/#recovery-procedures","title":"Recovery Procedures","text":"<p>If migration fails:</p> <ol> <li>Stop all services immediately</li> <li>Restore from backup:</li> </ol> <pre><code>curl -X POST \"localhost:9200/_snapshot/migration_backup/howler_v2_backup/_restore\"\n</code></pre> <ol> <li>Investigate the failure cause</li> <li>Plan retry with fixes applied</li> </ol>"},{"location":"migration/#migration-time-expectations","title":"Migration Time Expectations","text":"<p>Production migrations should be expected to take several hours, with the exact duration depending on:</p> <ul> <li>Cluster Resources: CPU, memory, and disk I/O capacity</li> <li>Data Volume: Total size of indexes being reindexed</li> <li>Replica Configuration: Number of replicas configured for each index</li> <li>Network Performance: Speed between Elasticsearch nodes</li> <li>Concurrent Operations: Other activities running on the cluster</li> </ul> <p>Plan for extended maintenance windows and consider scheduling migrations during off-peak hours.</p>"},{"location":"migration/#elasticsearch-version-compatibility","title":"Elasticsearch Version Compatibility","text":"<p>No Elasticsearch version upgrade is required for Howler v3.0.0. The schema changes are compatible with your current Elasticsearch installation.</p>"},{"location":"migration/#plugin-compatibility","title":"Plugin Compatibility","text":"<p>No plugin updates are required. Existing Howler plugins (Sentinel, Evidence, etc.) will continue to work without modification as long as they remain enabled during the migration process.</p>"},{"location":"migration/#configuration-files","title":"Configuration Files","text":"<p>No configuration file changes are required. This migration only affects the database schema and does not require updates to Howler configuration files.</p>"},{"location":"migration/#rollback-procedure","title":"Rollback Procedure","text":"<p>If you need to revert to Howler v2.12.0 after migration:</p>"},{"location":"migration/#option-1-restore-from-backup-recommended","title":"Option 1: Restore from Backup (Recommended)","text":"<ol> <li>Stop Howler services</li> <li>Restore indexes from backup using Elasticsearch's stack management:</li> </ol> <pre><code>curl -X POST \"localhost:9200/_snapshot/migration_backup/howler_v2_backup/_restore\"\n</code></pre> <ol> <li>Revert Howler API to v2.x:</li> </ol> <pre><code># Docker method\ndocker pull cccs/howler-api:2.12.0\n# Update docker-compose.yml or deployment manifests\n</code></pre> <ol> <li>Restart services with v2.12.0</li> </ol>"},{"location":"migration/#option-2-manual-rollback","title":"Option 2: Manual Rollback","text":"<p>If you cannot restore from backup, you'll need to:</p> <ol> <li>Manually recreate the old schema mappings</li> <li>Re-migrate the data back to the old field types</li> <li>This is significantly more complex and time-consuming</li> </ol> <p>Always prefer Option 1 - maintain good backups before migration.</p>"},{"location":"migration/#api-compatibility","title":"API Compatibility","text":"<p>No API endpoint changes are included in this migration. This is a database-only change that does not affect:</p> <ul> <li>REST API endpoints</li> <li>Request/response formats</li> <li>Authentication mechanisms</li> <li>Client application integrations</li> </ul> <p>Your existing client applications and integrations will continue to work without modification.</p>"},{"location":"migration/#testing-strategy","title":"Testing Strategy","text":"<p>Testing in a staging environment is strongly recommended before production migration.</p>"},{"location":"migration/#staging-environment-setup","title":"Staging Environment Setup","text":"<ol> <li>Create staging cluster with production-like data volume</li> <li>Test the complete migration process using the reindexing script</li> <li>Validate application functionality after migration</li> <li>Measure migration timing to plan production windows</li> <li>Practice rollback procedures to ensure they work correctly</li> </ol>"},{"location":"migration/#test-scenarios","title":"Test Scenarios","text":"<ul> <li>Search functionality with new case-insensitive keywords</li> <li>Analytics queries involving byte count fields (now Long type)</li> <li>Plugin operations to ensure continued compatibility</li> <li>Performance testing to identify any query optimization needs</li> </ul>"},{"location":"migration/#pre-production-checklist","title":"Pre-Production Checklist","text":"<ul> <li> Staging migration completed successfully</li> <li> Application functionality validated in staging</li> <li> Migration timing documented for production planning</li> <li> Rollback procedure tested and validated</li> <li> Production maintenance window scheduled</li> <li> All stakeholders notified of the migration schedule</li> </ul>"},{"location":"migration/#summary","title":"Summary","text":"<p>This migration guide provides a comprehensive approach to upgrading Howler from v2.12.0 to v3.0.0. The key points to remember:</p> <ul> <li>Plan for several hours of downtime depending on your data size</li> <li>Always backup before starting the migration process</li> <li>Test in staging first to validate the process and timing</li> <li>Use the selective reindexing script to migrate indexes one at a time</li> <li>Monitor closely during and after the migration</li> <li>Have a rollback plan ready in case of issues</li> </ul> <p>With proper preparation and testing, this migration will provide improved search functionality and better data type handling for large integer values in your Howler deployment.</p>"},{"location":"developer/backend/","title":"Installation Procedure","text":""},{"location":"developer/backend/#installation-procedure","title":"Installation Procedure","text":"System dependencies <p>Before running these steps, ensure you have completed the installation steps for backend dependencies.</p> <p>Running the howler server, once dependencies are installed, is fairly simple. First, we start up the dependencies. These include:</p> <ol> <li>Elasticsearch 8</li> <li>A redis instance</li> <li>A minio instance</li> <li>Keycloak (for OAuth authentication)</li> </ol> <pre><code>cd ~/repos/howler/api/dev\ndocker compose up\n</code></pre> <p>Now we install the python packages Howler depends on using Poetry:</p> <pre><code>cd ~/repos/howler/api\n\n# Install poetry if you don't have it\npython3 -m pip install poetry\n\n# Configure poetry to create virtualenv in project directory\npoetry config virtualenvs.in-project true\n\n# Install dependencies (including test dependencies)\npoetry install --with test\n</code></pre> <p>We need to setup a few folders on the system howler will use:</p> <pre><code>sudo mkdir -p /etc/howler/conf\nsudo mkdir -p /etc/howler/lookups\nsudo mkdir -p /var/log/howler\n\nsudo chown -R $USER /etc/howler\nsudo chown -R $USER /var/log/howler\n</code></pre> <p>And then we initialize the configurations:</p> <pre><code># Copy configuration files\ncp build_scripts/classification.yml /etc/howler/conf/classification.yml\ncp build_scripts/mappings.yml /etc/howler/conf/mappings.yml\ncp test/unit/config.yml /etc/howler/conf/config.yml\n\n# Generate MITRE ATT&amp;CK lookups\npoetry run mitre /etc/howler/lookups\n\n# Generate Sigma rules\npoetry run sigma\n</code></pre> <p>Create default users for testing:</p> <pre><code>poetry run python howler/odm/random_data.py users\n</code></pre> <p>Finally, we can run howler!</p> <pre><code>poetry run server\n# Or alternatively: poetry run python howler/app.py\n</code></pre> <p>The API server will start on <code>http://localhost:5000</code> by default.</p>"},{"location":"developer/client/","title":"Client Development","text":""},{"location":"developer/client/#client-development","title":"Client Development","text":"<p>If you want to contribute to the Howler client development, you'll need to set up the development environment.</p>"},{"location":"developer/client/#development-setup","title":"Development Setup","text":"<p>The client code is located in the <code>client/</code> folder of the Howler monorepo. To set up for development:</p> <pre><code>cd ~/repos/howler/client\n\n# Install Poetry if you don't have it\npython3 -m pip install poetry\n\n# Configure Poetry to create virtualenv in project directory\npoetry config virtualenvs.in-project true\n\n# Install dependencies including test dependencies\npoetry install --with test\n</code></pre>"},{"location":"developer/client/#running-tests","title":"Running Tests","text":"<p>The client has a comprehensive test suite that runs against a live Howler instance:</p> <pre><code># Start test dependencies (API, Elasticsearch, Redis) using Docker Compose\ndocker compose -f test/docker-compose.yml up -d\n\n# Wait for services to be ready, then run tests\npoetry run test\n</code></pre> <p>The tests are located in <code>client/test/</code> and include:</p> <ul> <li>Unit tests for client functionality</li> <li>Integration tests against the API</li> </ul>"},{"location":"developer/client/#code-quality","title":"Code Quality","text":"<p>Before submitting changes, ensure your code passes all quality checks:</p> <pre><code># Run formatting checks\npoetry run ruff format howler_client --diff\n\n# Run linter checks\npoetry run ruff check howler_client\n\n# Run type checking\npoetry run type_check\n</code></pre>"},{"location":"developer/client/#running-specific-tests","title":"Running Specific Tests","text":"<p>You can run specific test files or test functions:</p> <pre><code># Run a specific test file\npoetry run pytest test/integration/test_hit.py\n\n# Run a specific test function\npoetry run pytest test/integration/test_hit.py::test_create\n\n# Run with verbose output\npoetry run pytest test/integration/test_hit.py -v\n</code></pre>"},{"location":"developer/client/#additional-resources","title":"Additional Resources","text":"<ul> <li>API Documentation: Explore the full API at <code>https://your-howler-instance.com/api/doc</code></li> <li>Howler Schema: View the hit schema in the UI under Help \u2192 Hit Schema</li> <li>GitHub Repository: https://github.com/CybercentreCanada/howler</li> <li>PyPI Package: https://pypi.org/project/howler-client/</li> <li>Issue Tracker: Report bugs or request features on GitHub Issues</li> </ul>"},{"location":"developer/frontend/","title":"Frontend Development","text":""},{"location":"developer/frontend/#frontend-development","title":"Frontend Development","text":"System dependencies <p>Before running these steps, ensure you have completed the installation steps here.</p>"},{"location":"developer/frontend/#running-the-development-server","title":"Running the Development Server","text":"<p>Running the Howler UI for development is straightforward:</p> <pre><code># Navigate to the UI directory\ncd ui\n\n# Install dependencies\npnpm install\n\n# Run the development server\npnpm dev\n</code></pre> <p>The development server will start on <code>http://localhost:5173</code> by default (Vite's default port).</p>"},{"location":"developer/frontend/#available-scripts","title":"Available Scripts","text":"<p>The UI provides several npm scripts for development:</p> <ul> <li><code>pnpm dev</code> or <code>pnpm start</code> - Start the Vite development server</li> <li><code>pnpm build</code> - Build the application for production (runs TypeScript compiler and Vite build)</li> <li><code>pnpm serve</code> - Preview the production build locally</li> <li><code>pnpm lint</code> - Format code using Prettier</li> <li><code>pnpm test</code> - Run tests with coverage using Vitest</li> <li><code>pnpm test-ui</code> - Run tests with UI and coverage</li> </ul>"},{"location":"developer/frontend/#key-dependencies","title":"Key Dependencies","text":"<p>The Howler UI is built with modern web technologies:</p>"},{"location":"developer/frontend/#core-framework","title":"Core Framework","text":"<ul> <li>React 18 - The UI framework powering the application</li> <li>React Router v6 - Client-side routing</li> <li>TypeScript - Type safety and improved developer experience</li> <li>Vite - Fast build tool and development server</li> </ul>"},{"location":"developer/frontend/#ui-components-styling","title":"UI Components &amp; Styling","text":"<ul> <li>Material-UI (MUI) v5 - Primary component library providing the design system</li> </ul>"},{"location":"developer/frontend/#state-management-data","title":"State Management &amp; Data","text":"<ul> <li>axios - HTTP client for API requests</li> <li>use-context-selector - Optimized React context for state management</li> <li>react-pluggable - Plugin system for extensibility</li> </ul>"},{"location":"developer/frontend/#code-content-editing","title":"Code &amp; Content Editing","text":"<ul> <li>Monaco Editor - VS Code's editor component (via @monaco-editor/react)</li> <li>react-markdown - Markdown rendering with GitHub-flavored markdown support</li> </ul>"},{"location":"developer/frontend/#utilities","title":"Utilities","text":"<ul> <li>dayjs - Lightweight date/time library</li> <li>lodash-es - Modern utility library (ES modules)</li> <li>i18next - Internationalization framework</li> </ul>"},{"location":"developer/frontend/#development-tools","title":"Development Tools","text":"<ul> <li>Vitest - Fast unit testing framework (Vite-native)</li> <li>ESLint - Code linting with TypeScript, React, and Prettier integration</li> <li>Prettier - Code formatting</li> <li>lint-staged - Run linters on staged files</li> </ul>"},{"location":"developer/frontend/#visual-studio-code","title":"Visual Studio Code","text":"<p>If developing in VS Code, it is recommended to install the workspace's recommended extensions for built-in Prettier and ESLint support. These can be found in the <code>.vscode/extensions.json</code> file.</p>"},{"location":"developer/getting_started/","title":"System Dependencies","text":""},{"location":"developer/getting_started/#system-dependencies","title":"System Dependencies","text":"<p>In order to contribute to Howler, you will first need to prepare your development environment.</p> Notes on Operating System <p>Please note that these commands were written for use in Ubuntu, either on Windows through WSL or a standalone Ubuntu OS. You will need to adapt the OS-specific instructions to your personal operating system.</p> <pre><code># Clone the Howler monorepo\nmkdir -p ~/repos &amp;&amp; cd ~/repos\ngit clone git@github.com:CybercentreCanada/howler.git\ncd howler\n</code></pre>"},{"location":"developer/getting_started/#frontend-dependencies","title":"Frontend Dependencies","text":""},{"location":"developer/getting_started/#nodejs","title":"Node.js","text":"<p>Howler's UI is developed using Vite, which requires Node.js v20 or higher. We recommend using Node Version Manager (nvm) to manage Node.js versions.</p> Installing without NVM <p>NVM isn't required - if you'd rather install Node.js yourself, you can do so. Just make sure the version you install is v20 or higher to be compatible with Vite.</p> <pre><code># Install nvm\ncurl -o- https://raw.githubusercontent.com/nvm-sh/nvm/v0.39.7/install.sh | bash\n\n# Restart your shell or run:\nexport NVM_DIR=\"$HOME/.nvm\"\n[ -s \"$NVM_DIR/nvm.sh\" ] &amp;&amp; \\. \"$NVM_DIR/nvm.sh\"\n[ -s \"$NVM_DIR/bash_completion\" ] &amp;&amp; \\. \"$NVM_DIR/bash_completion\"\n\n# Install and use Node.js v20 (as specified in ui/.nvmrc)\nnvm install v20\nnvm use v20\n\n# Optional: Set v20 as default\nnvm alias default v20\n</code></pre>"},{"location":"developer/getting_started/#pnpm","title":"pnpm","text":"<p>Howler's UI uses pnpm for package management. The project enforces the use of pnpm through a preinstall script.</p> <pre><code># Install pnpm globally\nnpm install -g pnpm\n\n# Verify installation\npnpm --version\n</code></pre>"},{"location":"developer/getting_started/#backend-dependencies","title":"Backend Dependencies","text":""},{"location":"developer/getting_started/#docker","title":"Docker","text":"<p>Howler's backend depends on Docker containers for services like databases, message queues, and other infrastructure components. You'll need Docker and Docker Compose installed.</p> <p>Follow the official Docker installation guide for your operating system: Docker Engine Installation</p> <p>For Ubuntu specifically, see: Install Docker on Ubuntu</p> Post-Installation Steps <p>After installing Docker, you may want to add your user to the <code>docker</code> group to run Docker commands without <code>sudo</code>:</p> <pre><code># Add the docker group (may already exist)\nsudo groupadd docker\n\n# Add the current user to the docker group\nsudo usermod -aG docker $USER\n\n# Log out and back in for the group change to take effect\n</code></pre> <p>Verify Docker is working:</p> <pre><code>docker run hello-world\n</code></pre>"},{"location":"developer/getting_started/#python","title":"Python","text":"<p>Howler's backend requires Python 3.12. We recommend using pyenv to manage Python versions, as it allows you to install and switch between multiple Python versions easily.</p>"},{"location":"developer/getting_started/#installing-pyenv","title":"Installing pyenv","text":"<p>For detailed installation instructions, see the pyenv installation guide.</p> <p>Quick installation for Ubuntu/WSL:</p> <pre><code># Install build dependencies\nsudo apt update\nsudo apt install -y build-essential libssl-dev zlib1g-dev \\\nlibbz2-dev libreadline-dev libsqlite3-dev curl git \\\nlibncursesw5-dev xz-utils tk-dev libxml2-dev libxmlsec1-dev libffi-dev liblzma-dev\n\n# Install pyenv\ncurl https://pyenv.run | bash\n\n# Add pyenv to your shell configuration\necho 'export PYENV_ROOT=\"$HOME/.pyenv\"' &gt;&gt; ~/.bashrc\necho 'command -v pyenv &gt;/dev/null || export PATH=\"$PYENV_ROOT/bin:$PATH\"' &gt;&gt; ~/.bashrc\necho 'eval \"$(pyenv init -)\"' &gt;&gt; ~/.bashrc\n\n# If using zsh instead of bash, replace ~/.bashrc with ~/.zshrc in the above commands\n</code></pre> <p>Restart your shell or run:</p> <pre><code>exec \"$SHELL\"\n</code></pre>"},{"location":"developer/getting_started/#installing-python-312","title":"Installing Python 3.12","text":"<pre><code># Install Python 3.12\npyenv install 3.12\n\n# Set Python 3.12 as global default\npyenv global 3.12\n\n# Verify installation\npython --version  # Should show Python 3.12.x\n</code></pre> Installing without pyenv <p>If you prefer not to use pyenv, you can install Python 3.12 directly. Just ensure you have Python 3.12 or higher available in your environment.</p>"},{"location":"developer/random_data/","title":"Generating Random Data","text":""},{"location":"developer/random_data/#generating-random-data","title":"Generating Random Data","text":"<p>To get an idea of what Howler looks like with data, and to test your code, you can use the helper script <code>api/howler/odm/random_data.py</code>. This script contains methods for generating realistic test data for all models used in Howler.</p>"},{"location":"developer/random_data/#basic-usage","title":"Basic Usage","text":"<pre><code>cd ~/repos/howler/api\n\n# Run without arguments - all indexes are wiped and populated with test data\npython howler/odm/random_data.py\n\n# Populate all indexes without wiping existing data\npython howler/odm/random_data.py all --no-wipe\n\n# Populate specific indexes only\npython howler/odm/random_data.py users hits analytics\n\n# Populate specific indexes without wiping\npython howler/odm/random_data.py users hits --no-wipe\n</code></pre>"},{"location":"developer/random_data/#available-indexes","title":"Available Indexes","text":"<p>The following indexes can be populated with test data:</p> <ul> <li>users - User accounts with various permission levels and API keys</li> <li>templates - Hit display templates for different analytics and detections</li> <li>overviews - Markdown-based overview templates with Handlebars support</li> <li>views - Saved search queries and filters</li> <li>hits - Alert/detection data including bundles</li> <li>analytics - Analytic definitions with rules and triage settings</li> <li>actions - Automated action configurations</li> <li>dossiers - Investigation case files</li> </ul>"},{"location":"developer/random_data/#generated-test-data","title":"Generated Test Data","text":""},{"location":"developer/random_data/#users","title":"Users","text":"<p>The script creates several predefined users for testing different scenarios:</p> Username Password Type Description <code>admin</code> <code>admin</code> (or <code>$DEV_ADMIN_PASS</code>) admin, user, automation_basic, automation_advanced Full admin access with multiple API keys <code>user</code> <code>user</code> (or <code>$DEV_USER_PASS</code>) user Standard user with impersonation keys <code>shawn-h</code> <code>shawn-h</code> admin, user Admin user for testing <code>goose</code> <code>goose</code> admin, user Admin user for testing <code>huey</code> <code>huey</code> user Standard user for testing Custom Passwords <p>You can customize the admin and user passwords by setting environment variables:</p> <pre><code>export DEV_ADMIN_PASS=\"my_secure_password\"\nexport DEV_USER_PASS=\"my_user_password\"\npython howler/odm/random_data.py users\n</code></pre>"},{"location":"developer/random_data/#hits","title":"Hits","text":"<p>By default, the script generates 200 random hits with realistic data including:</p> <ul> <li>Various detection types and analytics</li> <li>Different status levels (open, in-progress, resolved)</li> <li>Random assignments to users</li> <li>Assessment data (escalations and scrutiny levels)</li> <li>Event categories and metadata</li> </ul> <p>The script also creates bundles - groups of related hits linked together.</p>"},{"location":"developer/random_data/#analytics","title":"Analytics","text":"<p>The script generates analytics in several categories:</p> <ul> <li>Existing analytics from hits - Analytics are automatically created from generated hits</li> <li>Random analytics (10 by default) - Fully randomized analytic definitions</li> <li>Rule-based analytics - Analytics with Lucene, EQL, and Sigma rules</li> </ul> <p>Each analytic includes:</p> <ul> <li>Detections</li> <li>Comments (both analytic-level and detection-level)</li> <li>Notebooks (if enabled in configuration)</li> <li>Triage settings with valid assessments</li> <li>Contributors and owners</li> </ul> Sigma Rules <p>For better test data using Sigma rules, run the Sigma rule generator first:</p> <pre><code>python howler/external/generate_sigma_rules.py\n</code></pre>"},{"location":"developer/random_data/#templates","title":"Templates","text":"<p>Templates are generated for different analytics and detections, including:</p> <ul> <li>Global templates - Available to all users</li> <li>Personal templates - User-specific templates</li> </ul> <p>Each template defines which hit fields should be displayed and in what order.</p>"},{"location":"developer/random_data/#overviews","title":"Overviews","text":"<p>Overview templates use Handlebars syntax to create dynamic markdown-based views of hits. The generated overviews include examples of:</p> <ul> <li>Conditional rendering based on hit status</li> <li>Fetching external data via API calls</li> <li>Displaying user avatars</li> <li>Status badges and formatting</li> </ul>"},{"location":"developer/random_data/#actions","title":"Actions","text":"<p>Random automated actions are generated with various operations such as:</p> <ul> <li>Prioritization adjustments</li> <li>Status transitions</li> <li>Field updates</li> <li>Bulk operations</li> </ul> <p>Each action includes a query to match hits and a series of operations to perform.</p>"},{"location":"developer/random_data/#views","title":"Views","text":"<p>Saved views are created including:</p> <ul> <li>Global views - Shared queries for common use cases</li> <li>Personal views - User-specific saved searches</li> <li>Readonly views - Pre-configured filters (e.g., \"Assigned to me\")</li> </ul>"},{"location":"developer/random_data/#environment-variables","title":"Environment Variables","text":"<p>The script respects several environment variables:</p> <ul> <li><code>DEV_ADMIN_PASS</code> - Password for the admin user (default: <code>admin</code>)</li> <li><code>DEV_USER_PASS</code> - Password for the user account (default: <code>user</code>)</li> <li><code>HWL_PLUGIN_DIRECTORY</code> - Location of Howler plugins (default: <code>/etc/howler/plugins</code>)</li> <li><code>ELASTIC_HIT_SHARDS</code> - Number of shards for hits index (set to 1 during setup)</li> <li><code>ELASTIC_HIT_REPLICAS</code> - Number of replicas for hits index (set to 1 during setup)</li> <li><code>ELASTIC_USER_REPLICAS</code> - Number of replicas for user index (set to 1 during setup)</li> <li><code>ELASTIC_USER_AVATAR_REPLICAS</code> - Number of replicas for user avatar index (set to 1 during setup)</li> </ul>"},{"location":"developer/random_data/#plugin-integration","title":"Plugin Integration","text":"<p>The random data generator supports plugins through the <code>run_modifications</code> function. If you have custom plugins that extend Howler's data models, they will automatically be invoked during data generation to populate plugin-specific fields.</p>"},{"location":"developer/random_data/#use-cases","title":"Use Cases","text":""},{"location":"developer/random_data/#development-environment-setup","title":"Development Environment Setup","text":"<p>Quickly populate a fresh Howler instance with realistic test data:</p> <pre><code>python howler/odm/random_data.py all\n</code></pre>"},{"location":"developer/random_data/#testing-specific-features","title":"Testing Specific Features","text":"<p>Populate only the data needed for your feature:</p> <pre><code># Testing user permissions\npython howler/odm/random_data.py users --no-wipe\n\n# Testing hit processing\npython howler/odm/random_data.py hits analytics --no-wipe\n\n# Testing actions\npython howler/odm/random_data.py hits actions --no-wipe\n</code></pre>"},{"location":"developer/random_data/#continuous-integration","title":"Continuous Integration","text":"<p>Use the <code>--no-wipe</code> flag to add test data without destroying existing data during test runs.</p>"},{"location":"ingestion/authentication/","title":"Authentication","text":""},{"location":"ingestion/authentication/#howler-authentication","title":"Howler Authentication","text":"<p>Howler's API supports a number of authentication approaches when accessing the API. This document will outline the different approaches, and explain how to use each of them.</p>"},{"location":"ingestion/authentication/#types-of-authentication","title":"Types of Authentication","text":"<p>There are four methods of authentication one can use to connect to the howler API:</p> <ol> <li>Username and Password</li> <li>Username and API Key</li> <li>Username and app token (after login)</li> <li>OAuth Access Token</li> </ol> <p>We will outline the use case for each authentication type next.</p>"},{"location":"ingestion/authentication/#usernamepassword-authentication","title":"Username/Password Authentication","text":"<p>Username and password authentication is the simplest and least secure method of authentication. Unlikely to be enabled in a production environment, it allows users to easily connect to the Howler API and make changes as the given user, without having to worry about creating API keys or using an OAuth provider like Keycloak or Azure. Users can connect using username and password authentication in one of two ways:</p>"},{"location":"ingestion/authentication/#direct-call-to-the-requisite-endpoint-password","title":"Direct Call to the Requisite Endpoint (Password)","text":"<p>This is far and away the simplest method. Simply add a basic Authorization header to the HTTP request you want to make, and everything is taken care of:</p> <pre><code># Note that this format is &lt;username&gt;:&lt;password&gt;\necho -n \"user:user\" | base64 -w0\n# -&gt; dXNlcjp1c2Vy\n</code></pre> <pre><code>GET howler.example.com/api/v1/user/whoami\nAuthorization: Basic dXNlcjp1c2Vy\n</code></pre>"},{"location":"ingestion/authentication/#exchanging-for-an-app-token-password","title":"Exchanging for an App Token (Password)","text":"<p>This is a slightly more complex approach, but carries the benefit of not exposing the username and password on every request. You can leverage the <code>v1/auth/login</code> endpoint to exchange your username and password for an app token. The token works similarly to an OAuth access token - you provide it with each subsequent request, and it authenticates you until the token expires.</p> <pre><code>POST howler.example.com/api/v1/auth/login/\nContent-Type: application/json\n\n{\n  \"user\": \"user\",\n  \"password\": \"user\"\n}\n</code></pre> <p>Will return something like:</p> <pre><code>{\n  \"api_error_message\": \"\",\n  \"api_response\": {\n    \"app_token\": \"user:5791a142067745c3af51d6596da7da8f86357a9fa92ad78d1ce118ea7d89d34e\",\n    \"provider\": null,\n    \"refresh_token\": null\n  },\n  \"api_server_version\": \"0.0.0.dev0\",\n  \"api_status_code\": 200\n}\n</code></pre> <p>Using this token in another API call:</p> <pre><code>GET howler.example.com/api/v1/user/whoami\nAuthorization: Bearer user:5791a142067745c3af51d6596da7da8f86357a9fa92ad78d1ce118ea7d89d34e\n</code></pre>"},{"location":"ingestion/authentication/#usernameapi-key-authentication","title":"Username/API Key Authentication","text":"<p>The username and API Key authentication works largely the same as username/password from the perspective of the client. On the server side, however, API keys have several key advantages. Firstly, they can easily be revoked by the user. Secondly, their privileges can be limited, allowing only a subset of permissions.</p> <p>There are two methods of authentication, mirroring the username and password:</p>"},{"location":"ingestion/authentication/#direct-call-to-the-requisite-endpoint-api-key","title":"Direct Call to the Requisite Endpoint (API Key)","text":"<p>Simply add a basic Authorization header containing the username and API key to the HTTP request you want to make, and everything is taken care of:</p> <pre><code># note the format is &lt;username&gt;:&lt;apikeyname&gt;:&lt;secret&gt;\necho -n \"user:devkey:user\" | base64 -w0\n# -&gt; dXNlcjpkZXZrZXk6dXNlcg==\n</code></pre> <pre><code>GET howler.example.com/api/v1/user/whoami\nAuthorization: Basic dXNlcjpkZXZrZXk6dXNlcg==\n</code></pre>"},{"location":"ingestion/authentication/#exchanging-for-an-app-token-api-key","title":"Exchanging for an App Token (API Key)","text":"<p>You can also leverage the <code>v1/auth/login</code> endpoint to exchange your username and API key for an app token. The token works similarly to an OAuth access token - you provide it with each subsequent request, and it authenticates you until the token expires.</p> <pre><code>POST howler.example.com/api/v1/auth/login/\nContent-Type: application/json\n\n{\n  \"user\": \"user\",\n  \"apikey\": \"devkey:user\"\n}\n</code></pre> <p>Will return something like:</p> <pre><code>{\n  \"api_error_message\": \"\",\n  \"api_response\": {\n    \"app_token\": \"user:f220eb76ff8404abfece8c0c2f3368c7d89618c776bedcd3a506843dc4a952e4\",\n    \"provider\": null,\n    \"refresh_token\": null\n  },\n  \"api_server_version\": \"0.0.0.dev0\",\n  \"api_status_code\": 200\n}\n</code></pre> <p>Using this token in another API call:</p> <pre><code>GET howler.example.com/api/v1/user/whoami\nAuthorization: Bearer user:f220eb76ff8404abfece8c0c2f3368c7d89618c776bedcd3a506843dc4a952e4\n</code></pre> <p>Note that when logging in using an api key, the permissions of the api key continue to apply. So if you try and access an endpoint that requires the \"write\" permission with an API key that only has read permission, this will cause a 403 Forbidden error.</p>"},{"location":"ingestion/authentication/#access-token-authentication","title":"Access Token Authentication","text":"<p>In addition to the authentication methods provided internally by Howler, you can also authenticate with an external OAuth provider like Azure or Keycloak. To do this, you must obtain an access token from one of these providers. In order to get an access token, there are generally two flows - On-Behalf-Of, or the user login flow (see here for a rundown of that). In the case of Howler, the <code>v1/auth/login</code> endpoint is used for step D &amp; E in the linked user login flow, and it returns the following:</p> <pre><code>{\n    \"api_response\": {\n        \"app_token\": \"eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJ1c2VyIn0\",\n        \"provider\": \"keycloak\",\n        \"refresh_token\": \"eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJyZWZyZXNoIn0\"\n    }\n}\n</code></pre> <p>In this case, the <code>app_token</code> is the JSON Web Token the application uses as an access token. Similarly, the <code>refresh_token</code> is another JWT that is used to refresh the access token if needed. Finally, the <code>provider</code> field outlines which provider this access token corresponds to.</p> <p>Once you have that access token, you can simply pass it along in the Authorization header:</p> <pre><code>GET howler.example.com/api/v1/user/whoami\nAuthorization: Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJ1c2VyIn0\n</code></pre> <p>Howler will automatically detect this is a JWT, and treat it as such. If the token is valid, the user will be authenticated.</p> <p>In order to refresh an expired access token, you can use the following API call:</p> <pre><code>POST howler.example.com/api/v1/auth/login/\nContent-Type: application/json\n\n{\n  \"oauth_provider\": \"keycloak\",\n  \"refresh_token\": \"eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJyZWZyZXNoIn0\"\n}\n</code></pre> <p>And you'll get something like this back:</p> <pre><code>{\n    \"api_response\": {\n        \"app_token\": \"eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJ1c2VyMiJ9\",\n        \"provider\": \"keycloak\",\n        \"refresh_token\": \"eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJyZWZyZXNodG9rZW4yIn0\"\n    }\n}\n</code></pre>"},{"location":"ingestion/authentication/#impersonation","title":"Impersonation","text":"<p>The final important bit of the authentication flow is the impersonation functionality. In order for a service account or other user to impersonate you (i.e. to create alerts on your behalf), Howler allows users to provide a second API key in order to authenticate as another user.</p> <p>Before you use another user's API key to authenticate as them, it's important that the API key you're using has been marked as valid for impersonation - check with the user that provided it. If it has, you can use it by, formating your request as follows:</p> <pre><code># Your credentials\necho -n \"admin:devkey:admin\" | base64 -w0\n# -&gt; YWRtaW46ZGV2a2V5OmFkbWlu\n\n# Their credentials\necho -n \"user:impersonate_admin:user\" | base64 -w0\n# -&gt; dXNlcjppbXBlcnNvbmF0ZV9hZG1pbjp1c2Vy\n</code></pre> Note <p>Any form of authentication can be used by the impersonator, but validated API keys are the only permitted authentication method for the person you're impersonating.</p> <pre><code>GET howler.example.com/api/v1/user/whoami\nAuthorization: Basic YWRtaW46ZGV2a2V5OmFkbWlu\nX-Impersonating: Basic dXNlcjppbXBlcnNvbmF0ZV9hZG1pbjp1c2Vy\n</code></pre> <p>If set up correctly, the result will look like:</p> <pre><code>{\n  \"api_error_message\": \"\",\n  \"api_response\": {\n    \"avatar\": null,\n    \"classification\": \"TLP:W\",\n    \"email\": \"user@howler.example.com\",\n    \"groups\": [\n      \"USERS\"\n    ],\n    \"is_active\": true,\n    \"is_admin\": false,\n    \"name\": \"User\",\n    \"roles\": [\n      \"user\"\n    ],\n    \"username\": \"user\"\n  },\n  \"api_server_version\": \"0.0.0.dev0\",\n  \"api_status_code\": 200\n}\n</code></pre> <p>Note that the server returned this as if you were <code>user</code>, NOT <code>admin</code>. It is clearly marked in the logs, however, that you are making the request:</p> <pre><code>22/12/05 14:15:02 INFO howler.api.security | Authenticating user for path /api/v1/user/whoami/\n22/12/05 14:15:03 WARNING howler.api.security | admin is impersonating user\n22/12/05 14:15:03 INFO howler.api.security | Logged in as user from 127.0.0.1\n22/12/05 14:15:03 INFO howler.api | GET /api/v1/user/whoami/ - 200\n</code></pre>"},{"location":"ingestion/bundles/","title":"Bundles","text":""},{"location":"ingestion/bundles/#howler-hit-bundles","title":"Howler Hit Bundles","text":"<p>Hit bundles can be used to easily package together a large number of similar alerts, allowing analysts to easily triage them as a single incident. For example, consider a single computer that repeatedly makes a network call to <code>baddomain.ru</code> - while an alert may be generated for every instance of this computer hitting that domain, it makes sense for analysts to treat all these alerts as a single case.</p>"},{"location":"ingestion/bundles/#creating-bundles-through-the-howler-client","title":"Creating bundles through the Howler Client","text":"<p>There are a couple of ways to create a bundle through the howler client:</p> <pre><code>from howler_client import get_client\n\nhowler = get_client(\"https://howler.example.com\")\n\n\"\"\"Creating a howler bundle and the hits at the same time\"\"\"\nhowler.bundle.create(\n    # First argument is the bundle hit\n    {\n        \"howler.analytic\": \"example-test\",\n        \"howler.score\": 0\n    },\n    # Second argument is a hit or list of hits to include in the bundle\n    [\n        {\n            \"howler.analytic\": \"example-test\",\n            \"howler.score\": 0\n        },\n        {\n            \"howler.analytic\": \"example-test\",\n            \"howler.score\": 0\n        }\n    ]\n)\n\n\"\"\"Creating a howler bundle from existing hits\"\"\"\nhowler.bundle.create(\n    {\n        \"howler.analytic\": \"example-test\",\n        \"howler.score\": 0,\n        \"howler.hits\": [\"YcUsL8QsjmwwIdstieROk\", \"6s7MztwuSvz6tM0PgGJhvz\"]\n    },\n    # Note: In future releases, you won't need to include this argument\n    []\n)\n\n\n\"\"\"Creating from a map\"\"\"\nbundle_hit = {\n    \"score\": 0,\n    \"bundle\": True\n}\n\nmap = {\n    \"score\": [\"howler.score\"],\n    \"bundle\": [\"howler.is_bundle\"]\n}\n\nhowler.bundle.create_from_map(\"example-test\", bundle_hit, map, [{\"score\": 0}])\n</code></pre>"},{"location":"ingestion/bundles/#viewing-bundles-on-the-howler-ui","title":"Viewing bundles on the Howler UI","text":"<p>In order to view created bundles on the Howler UI, you can use the query <code>howler.is_bundle:true</code>. This will provide a list of created bundles you can look through.</p> <p>Clicking on a bundle will open up a slightly different search UI to normal. In this case, we automatically filter the search results to include only hits that are included in the bundle. To make this obvious, the header representing the bundle will appear above the search bar.</p> <p>You can continue to filter through hits using the same queries as usual, and view them as usual. When triaging a bundle, assessing it will apply this assessment to all hits in the bundle, except those that have already been triaged. That is, if the bundle is open, all open hits will be assessed when you assess it.</p> <p>Bundles also have a Summary tab not available for regular hits. This summary tab will aid you in aggregating data about all the hits in the bundle. Simply open the tab and click \"Create Summary\". Note that this may take some time, as a large number of queries are being run to aggregate the data.</p>"},{"location":"ingestion/client/","title":"Client","text":""},{"location":"ingestion/client/#howler-client-documentation","title":"Howler Client Documentation","text":"<p>The Howler Python client (<code>howler-client</code>) is a library that provides a simple and intuitive interface for programmatically interacting with the Howler API. It allows developers to:</p> <ul> <li>Create and ingest hits from various data sources</li> <li>Search and query hits with Lucene syntax</li> <li>Update, modify, and delete hits</li> <li>Manage hit comments and metadata</li> <li>Integrate Howler into automated workflows and pipelines</li> </ul> <p>The client handles authentication, request formatting, and response parsing, making it easy to build tools and integrations with Howler.</p> <p>The package is published on PyPI and the source code is located in the <code>client/</code> folder of the Howler monorepo.</p>"},{"location":"ingestion/client/#installation","title":"Installation","text":"<p>The Howler client requires Python 3.10 or higher. Install it using pip:</p> <pre><code>pip install howler-client\n</code></pre>"},{"location":"ingestion/client/#authentication-connection","title":"Authentication &amp; Connection","text":""},{"location":"ingestion/client/#generating-an-api-key","title":"Generating an API Key","text":"<p>To authenticate with the Howler API, you'll need to generate an API key:</p> <ol> <li>Open the Howler UI and log in</li> <li>Click your profile icon in the top right corner</li> <li>Select Settings from the user menu</li> <li>Under User Security, click the (+) icon next to API Keys</li> <li>Name your key and assign the appropriate permissions</li> <li>Click Create and copy the generated key</li> </ol> <p>Important: Store this key securely - you won't be able to see it again!</p>"},{"location":"ingestion/client/#connecting-to-howler","title":"Connecting to Howler","text":"<p>The client supports multiple authentication methods:</p>"},{"location":"ingestion/client/#using-an-api-key-recommended","title":"Using an API Key (Recommended)","text":"<p>Once you have your API key, connect to Howler using the <code>get_client()</code> function:</p> <pre><code>from howler_client import get_client\n\n# Your credentials\nUSERNAME = 'your_username'  # From the Howler UI user settings\nAPIKEY = 'apikey_name:apikey_data'  # The key you generated\n\n# Create the client\nclient = get_client(\"https://your-howler-instance.com\", apikey=(USERNAME, APIKEY))\n</code></pre>"},{"location":"ingestion/client/#using-a-jwt-token","title":"Using a JWT Token","text":"<p>If you have a JWT token (e.g., from an OAuth flow), you can authenticate by passing it to the <code>auth</code> parameter:</p> <pre><code>from howler_client import get_client\n\n# Your JWT token\nJWT_TOKEN = 'eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9...'  # Your JWT token\n\n# Create the client\nclient = get_client(\"https://your-howler-instance.com\", auth=JWT_TOKEN)\n</code></pre> <p>Now you can use the <code>client</code> object to interact with Howler!</p>"},{"location":"ingestion/client/#creating-hits","title":"Creating Hits","text":"<p>Creating hits is the primary use case for the Howler client. The client provides two main methods for ingesting data: <code>client.hit.create()</code> for data already in Howler's schema format, and <code>client.hit.create_from_map()</code> for custom data that needs to be mapped to Howler's schema.</p>"},{"location":"ingestion/client/#using-clienthitcreate","title":"Using <code>client.hit.create()</code>","text":"<p>The <code>create()</code> method accepts hit data in either nested or flat format. The data must conform to the Howler schema.</p>"},{"location":"ingestion/client/#nested-format","title":"Nested Format","text":"<p>This is the recommended format as it closely matches the Howler data model:</p> <pre><code>from hashlib import sha256\n\n# Create a hit with nested structure\nhit = {\n    \"howler\": {\n        \"analytic\": \"A test for creating a hit\",\n        \"score\": 0.8,\n        \"hash\": sha256(b\"unique_identifier\").hexdigest(),\n        \"outline\": {\n            \"threat\": \"10.0.0.1\",\n            \"target\": \"asdf123\",\n            \"indicators\": [\"me.ps1\"],\n            \"summary\": \"This is a summary\",\n        },\n    },\n}\n\n# Create the hit\nresponse = client.hit.create(hit)\n\n# Check the response\nprint(f\"Valid hits: {len(response['valid'])}\")\nprint(f\"Invalid hits: {len(response['invalid'])}\")\n</code></pre>"},{"location":"ingestion/client/#flat-format","title":"Flat Format","text":"<p>You can also provide hit data in a flat, dot-notation format:</p> <pre><code>from hashlib import sha256\n\n# Create a hit with flat structure\nhit = {\n    \"howler.analytic\": \"Test Dupes\",\n    \"howler.score\": 0.0,\n    \"howler.hash\": sha256(b\"unique_identifier\").hexdigest(),\n}\n\n# Create the hit\nresponse = client.hit.create(hit)\n</code></pre>"},{"location":"ingestion/client/#batch-creation","title":"Batch Creation","text":"<p>You can create multiple hits at once by passing a list:</p> <pre><code>hits = [\n    {\n        \"howler.analytic\": \"Batch Test\",\n        \"howler.score\": 0.5,\n        \"howler.outline.threat\": \"192.168.1.1\",\n        \"howler.outline.target\": \"server01\",\n        \"howler.outline.indicators\": [\"malware.exe\"],\n        \"howler.outline.summary\": \"First hit\",\n    },\n    {\n        \"howler.analytic\": \"Batch Test\",\n        \"howler.score\": 0.8,\n        \"howler.outline.threat\": \"192.168.1.2\",\n        \"howler.outline.target\": \"server02\",\n        \"howler.outline.indicators\": [\"suspicious.dll\"],\n        \"howler.outline.summary\": \"Second hit\",\n    },\n]\n\nresponse = client.hit.create(hits)\n</code></pre>"},{"location":"ingestion/client/#response-structure","title":"Response Structure","text":"<p>The <code>create()</code> method returns a dictionary with two keys:</p> <ul> <li><code>valid</code>: List of successfully created hits with their IDs</li> <li><code>invalid</code>: List of hits that failed validation with error messages</li> </ul> <pre><code>response = client.hit.create(hits)\n\n# Process valid hits\nfor hit in response['valid']:\n    print(f\"Created hit with ID: {hit['id']}\")\n\n# Handle invalid hits\nfor result in response['invalid']:\n    print(f\"Failed to create hit: {result['error']}\")\n    print(f\"Hit Data: {json.dumps(result['hit'], indent=2)}\")\n</code></pre>"},{"location":"ingestion/client/#using-clienthitcreate_from_map","title":"Using <code>client.hit.create_from_map()</code>","text":"<p>When you have data in a custom format, <code>create_from_map()</code> allows you to define a mapping from your data structure to Howler's schema. This is particularly useful for integrating with external systems or ingesting data from various sources.</p>"},{"location":"ingestion/client/#basic-example","title":"Basic Example","text":"<pre><code>import datetime\nfrom hashlib import sha256\n\n# Define the mapping from your data format to Howler's schema\n# Keys are your field paths, values are lists of Howler field paths\nmapping = {\n    \"file.sha256\": [\"file.hash.sha256\", \"howler.hash\"],\n    \"file.name\": [\"file.name\"],\n    \"src_ip\": [\"source.ip\", \"related.ip\"],\n    \"dest_ip\": [\"destination.ip\", \"related.ip\"],\n    \"time.created\": [\"event.start\"],\n    \"time.completed\": [\"event.end\"],\n}\n\n# Your custom data\nhits = [\n    {\n        \"src_ip\": \"43.228.141.216\",\n        \"dest_ip\": \"31.46.39.115\",\n        \"file\": {\n            \"name\": \"cool_file.exe\",\n            \"sha256\": sha256(b\"cool_file.exe\").hexdigest(),\n        },\n        \"time\": {\n            \"created\": datetime.datetime(2020, 5, 17).isoformat() + \"Z\",\n            \"completed\": datetime.datetime(2020, 5, 18).isoformat() + \"Z\",\n        },\n    },\n]\n\n# Create hits using the mapping\nresponse = client.hit.create_from_map(\"my_analytic_tool\", mapping, hits)\n\n# Check results\nfor hit in response:\n    if hit[\"error\"]:\n        print(f\"Error: {hit['error']}\")\n    else:\n        print(f\"Created hit: {hit['id']}\")\n        if hit[\"warn\"]:\n            print(f\"Warnings: {hit['warn']}\")\n</code></pre>"},{"location":"ingestion/client/#response-structure_1","title":"Response Structure","text":"<p>The <code>create_from_map()</code> method returns a list of dictionaries, one for each input hit:</p> <ul> <li><code>id</code>: The ID of the created hit (if successful)</li> <li><code>error</code>: Error message if creation failed (None if successful)</li> <li><code>warn</code>: List of warning messages (e.g., deprecated fields used)</li> </ul>"},{"location":"ingestion/client/#handling-validation-errors","title":"Handling Validation Errors","text":"<p>When creating hits, validation errors may occur. The client provides detailed error messages:</p> <pre><code>from howler_client.common.utils import ClientError\n\ntry:\n    hits = [\n        {\n            \"howler.analytic\": \"Test\",\n            \"howler.score\": 0.8,\n            # Missing required fields will cause validation to fail\n        },\n        {\n            \"howler.analytic\": \"Test\",\n            # Missing score field\n            \"howler.outline.threat\": \"10.0.0.1\",\n        },\n    ]\n\n    response = client.hit.create(hits)\nexcept ClientError as e:\n    print(f\"Error: {e}\")\n    print(f\"Valid hits: {len(e.api_response['valid'])}\")\n    print(f\"Invalid hits: {len(e.api_response['invalid'])}\")\n\n    for invalid_hit in e.api_response['invalid']:\n        print(f\"Validation error: {invalid_hit['error']}\")\n</code></pre>"},{"location":"ingestion/client/#duplicate-detection","title":"Duplicate Detection","text":"<p>Howler automatically detects duplicate hits based on the <code>howler.hash</code> field. If you attempt to create a hit with the same hash as an existing hit, it will be skipped:</p> <pre><code>from hashlib import sha256\n\n# Create a unique hash\nunique_hash = sha256(b\"unique_identifier\").hexdigest()\n\n# First creation succeeds\nhit1 = {\n    \"howler.analytic\": \"Test Dupes\",\n    \"howler.score\": 0,\n    \"howler.hash\": unique_hash,\n}\nclient.hit.create(hit1)\n\n# Second creation with same hash is skipped\nhit2 = {\n    \"howler.analytic\": \"Test Dupes\",\n    \"howler.score\": 0,\n    \"howler.hash\": unique_hash,  # Same hash!\n}\nresponse = client.hit.create(hit2)\n# This hit will not be created as a duplicate\n</code></pre>"},{"location":"ingestion/client/#basic-hit-operations","title":"Basic Hit Operations","text":""},{"location":"ingestion/client/#searching-for-hits","title":"Searching for Hits","text":"<p>The <code>client.search.hit()</code> method allows you to query hits using Lucene syntax:</p> <pre><code># Search for all hits\nresults = client.search.hit(\"howler.id:*\")\n\nprint(f\"Total hits: {results['total']}\")\nprint(f\"Returned: {len(results['items'])}\")\n\n# Access individual hits\nfor hit in results['items']:\n    print(f\"Hit ID: {hit['howler']['id']}\")\n    print(f\"Analytic: {hit['howler']['analytic']}\")\n    print(f\"Score: {hit['howler']['score']}\")\n</code></pre>"},{"location":"ingestion/client/#query-parameters","title":"Query Parameters","text":"<p>The <code>search.hit()</code> method supports several parameters:</p> <pre><code># Search with specific parameters\nresults = client.search.hit(\n    \"howler.analytic:my_analytic\",  # Lucene query\n    rows=50,                         # Number of results to return (default: 25)\n    offset=0,                        # Starting offset (default: 0)\n    sort=\"event.created desc\",       # Sort field and direction\n    fl=\"howler.id,howler.score\",    # Fields to return (comma-separated)\n    filters=[\"event.created:[now-7d TO now]\"],  # Additional filters\n)\n</code></pre>"},{"location":"ingestion/client/#updating-hits","title":"Updating Hits","text":"<p>The client provides multiple methods for updating hits, with <code>overwrite()</code> being the simplest for most use cases.</p>"},{"location":"ingestion/client/#overwriting-hit-data-recommended","title":"Overwriting Hit Data (Recommended)","text":"<p>The <code>client.hit.overwrite()</code> method is the easiest way to update a hit. Simply provide a partial hit object with the fields you want to change:</p> <pre><code># Get a hit to update\nhit = client.search.hit(\"howler.id:*\", rows=1, sort=\"event.created desc\")[\"items\"][0]\nhit_id = hit[\"howler\"][\"id\"]\n\n# Overwrite specific fields\nupdated_hit = client.hit.overwrite(\n    hit_id,\n    {\n        \"source.ip\": \"127.0.0.1\",\n        \"destination.ip\": \"8.8.8.8\",\n        \"howler.score\": 0.95,\n        \"howler.status\": \"resolved\",\n    }\n)\n\nprint(f\"Updated hit: {updated_hit['howler']['id']}\")\n</code></pre> <p>The overwrite method accepts both nested and flat formats:</p> <pre><code># Nested format\nclient.hit.overwrite(\n    hit_id,\n    {\n        \"howler\": {\n            \"score\": 0.9,\n            \"status\": \"open\"\n        },\n        \"source\": {\n            \"ip\": \"10.0.0.1\"\n        }\n    }\n)\n\n# Flat format (dot notation)\nclient.hit.overwrite(\n    hit_id,\n    {\n        \"howler.score\": 0.9,\n        \"howler.status\": \"open\",\n        \"source.ip\": \"10.0.0.1\"\n    }\n)\n</code></pre>"},{"location":"ingestion/client/#transactional-updates-for-bulk-operations","title":"Transactional Updates (For Bulk Operations)","text":"<p>For more complex scenarios like bulk updates or atomic operations (increment, append, etc.), use <code>client.hit.update()</code>:</p> <pre><code>from howler_client.module.hit import UPDATE_SET, UPDATE_INC\n\n# Get a hit to update\nhit = client.search.hit(\"howler.id:*\", rows=1)[\"items\"][0]\nhit_id = hit[\"howler\"][\"id\"]\n\n# Update the hit with operations\nupdated_hit = client.hit.update(\n    hit_id,\n    [\n        (UPDATE_SET, \"howler.score\", 0.95),\n        (UPDATE_INC, \"howler.escalation\", 1),\n    ]\n)\n\nprint(f\"Updated score: {updated_hit['howler']['score']}\")\n</code></pre> <p>Available Update Operations:</p> <p>List Operations:</p> <pre><code>from howler_client.module.hit import UPDATE_APPEND, UPDATE_APPEND_IF_MISSING, UPDATE_REMOVE\n\n# Append a value to a list\n(UPDATE_APPEND, \"howler.outline.indicators\", \"new_indicator.exe\")\n\n# Append only if not already present\n(UPDATE_APPEND_IF_MISSING, \"related.ip\", \"192.168.1.1\")\n\n# Remove a value from a list\n(UPDATE_REMOVE, \"howler.outline.indicators\", \"false_positive.exe\")\n</code></pre> <p>Numeric Operations:</p> <pre><code>from howler_client.module.hit import UPDATE_INC, UPDATE_DEC, UPDATE_MAX, UPDATE_MIN\n\n# Increment by amount\n(UPDATE_INC, \"howler.score\", 10)\n\n# Decrement by amount\n(UPDATE_DEC, \"howler.score\", 5)\n\n# Set to maximum of current and specified value\n(UPDATE_MAX, \"howler.score\", 50)\n\n# Set to minimum of current and specified value\n(UPDATE_MIN, \"howler.score\", 20)\n</code></pre> <p>General Operations:</p> <pre><code>from howler_client.module.hit import UPDATE_SET, UPDATE_DELETE\n\n# Set a field to a specific value\n(UPDATE_SET, \"howler.status\", \"resolved\")\n\n# Delete a field\n(UPDATE_DELETE, \"custom_field\", None)\n</code></pre>"},{"location":"ingestion/client/#bulk-update-by-query","title":"Bulk Update by Query","text":"<p>Use <code>client.hit.update_by_query()</code> to update multiple hits matching a query:</p> <pre><code>from howler_client.module.hit import UPDATE_INC\n\n# Increment score for all hits from a specific analytic\nclient.hit.update_by_query(\n    'howler.analytic:\"my_analytic\"',\n    [\n        (UPDATE_INC, \"howler.score\", 100),\n    ]\n)\n\n# Note: This operation is asynchronous and may take time to complete\n</code></pre>"},{"location":"ingestion/client/#deleting-hits","title":"Deleting Hits","text":"<p>Delete one or more hits by their IDs:</p> <pre><code># Delete a single hit\nclient.hit.delete([\"hit_id_1\"])\n\n# Delete multiple hits\nclient.hit.delete([\"hit_id_1\", \"hit_id_2\", \"hit_id_3\"])\n\n# Example: Delete all hits from a search\nresults = client.search.hit(\"howler.analytic:test_analytic\")\nhit_ids = [hit[\"howler\"][\"id\"] for hit in results[\"items\"]]\nclient.hit.delete(hit_ids)\n</code></pre>"},{"location":"ingestion/example/","title":"Example Ingestion Using Atomic Red Team","text":""},{"location":"ingestion/example/#example-ingestion-using-atomic-red-team","title":"Example Ingestion Using Atomic Red Team","text":"<p>This article will outline a very basic example of how to ingest hits into Howler, using Atomic Red Team to simulate Binary padding of a malicious file (T1027.001).</p>"},{"location":"ingestion/example/#preparing-a-docker-container","title":"Preparing a Docker Container","text":"<p>In order to run Atomic Red Team and detect the resulting files, we'll need to slightly modify the docker file, to install python 3.10. First, create a new folder to include the Dockerfile and dependent files in:</p> <pre><code>mkdir -p ~/atomic-red-team-custom\n\n# This is the test file we'll use to run the detection\necho \"Hello, world\\!\" &gt; test.txt\n\ntouch Dockerfile\ntouch detection.py\n</code></pre> <p>Put the following into the Dockerfile:</p> <pre><code>FROM redcanary/invoke-atomicredteam:latest\n\nRUN add-apt-repository ppa:deadsnakes/ppa &amp;&amp; \\\n    apt-get update\n\nRUN bash -c \"DEBIAN_FRONTEND=noninteractive TZ=Etc/UTC apt-get -y install tzdata\" &amp;&amp; \\\n    apt-get install -y python3.10 python3.10-distutils python3.10-venv\n\n\nRUN python3.10 -m ensurepip\n\nRUN python3.10 -m pip install howler-client==1.6.0.dev16137\n\nCOPY detection.py /root/detection.py\nCOPY test.txt /root/test.txt\nCOPY test.txt /root/test_control.txt\n\nWORKDIR /root\n</code></pre> <p>And this script into <code>detection.py</code>:</p> <pre><code>import sys\nimport hashlib\n\nfrom howler_client import get_client\n\nUSERPASS = ('&lt;USERNAME_HERE&gt;', '&lt;PASSWORD&gt;')\n\nhowler = get_client(\"&lt;HOWLER_URL_HERE&gt;\", auth=APIKEY)\nsha256 = hashlib.sha256()\n\nwith open(\"test_control.txt\", \"rb\") as f:\n    while True:\n        data = f.read(65536)\n        if not data:\n            break\n\n        sha256.update(data)\n\ncontrol_hash = sha256.hexdigest()\nprint(f\"Control hash value: {control_hash}\")\n\nsha256 = hashlib.sha256()\nwith open(\"test.txt\", \"rb\") as f:\n    while True:\n        data = f.read(65536)\n        if not data:\n            break\n\n        sha256.update(data)\n\npadded_hash = sha256.hexdigest()\nprint(f\"Padded hash value: {padded_hash}\")\n\nif padded_hash != control_hash:\n    print(\"Binary padding detected! Creating alert\")\n\n    howler.hit.create(\n        {\n            \"howler.analytic\": \"ATR Ingestion Example\",\n            \"howler.detection\": \"Binary Padding\",\n            \"howler.score\": 0,\n            \"threat.technique.id\": \"T1027.001\",\n            \"threat.technique.name\": \"Obfuscated Files or Information: Binary Padding\",\n            \"threat.technique.reference\": \"https://attack.mitre.org/techniques/T1027/001/\",\n            \"related.hash\": [control_hash, padded_hash],\n        }\n    )\nelse:\n    print(\"Binary padding not detected\")\n</code></pre> <p>For information on creating an API Key, see Generating an API Key. The API key should have Read and Write permissions.</p>"},{"location":"ingestion/example/#building-and-running-the-docker-container","title":"Building and Running the Docker Container","text":"<p>Now, you can run <code>docker build</code>:</p> <pre><code>docker build -t invoke-atomicredteam-custom:latest .\ndocker run --name test-howler-ingestion -it invoke-atomicredteam-custom:latest\n</code></pre> <p>After running this, you should see:</p> <pre><code>PowerShell 7.4.0\nLoading personal and system profiles took 700ms.\nPS /&gt;\n</code></pre>"},{"location":"ingestion/example/#executing-the-detection","title":"Executing the Detection","text":"<p>If you run the detection file:</p> <pre><code>PS /root&gt; python3.10 ./detection.py\nControl hash value: d9014c4624844aa5bac314773d6b689ad467fa4e1d1a50a1b8a99d5a95f72ff5\nPadded hash value: d9014c4624844aa5bac314773d6b689ad467fa4e1d1a50a1b8a99d5a95f72ff5\nBinary padding not detected\n</code></pre> <p>Now, we can run the atomic test:</p> <pre><code>Invoke-AtomicTest T1027.001-1 -PromptForInputArgs\n</code></pre> <p>You should be prompted like so:</p> <pre><code>Enter a value for file_to_pad, or press enter to accept the default.\nPath of binary to be padded [/tmp/evil-binary]:\n</code></pre> <p>Enter the path to the test file, and run. Now, rerunning the detection:</p> <pre><code>Control hash value: d9014c4624844aa5bac314773d6b689ad467fa4e1d1a50a1b8a99d5a95f72ff5\nPadded hash value: ea0283ed5c7d578fe229ca383def3d08c8d2bebb164671371ecb35279993be5e\nBinary padding detected! Creating alert\n</code></pre> <p>If you check your howler instance, you should now see a new alert!</p> Note on Reused Alerts <p>One caveat is that, if a hit is identical each time (like the above alert), the howler client will automatically reuse that alert. To circumvent this, simply add a random/custom <code>howler.hash</code> field.</p>"},{"location":"ingestion/example/#conclusion","title":"Conclusion","text":"<p>You've now created an extremely basic script that checks two files for mismatching hashes. In reality, you'd want to run heuristics to see if these files are similar and THEN alert, but this is more to illustrate a use case of Howler, and the basic process of ingestion.</p>"},{"location":"ingestion/key_generation/","title":"Generating an API key","text":""},{"location":"ingestion/key_generation/#generating-an-api-key","title":"Generating an API key","text":"<p>While integrating Howler into another system, you should not save your username and password into another app. Instead, you should create an API Key with only the appropriate requirements for that specific integration.</p>"},{"location":"ingestion/key_generation/#creating-an-api-key","title":"Creating an API key","text":"<ol> <li>Login to Howler's user interface with the user that will perform API requests</li> <li>Click on your avatar in the top-right corner of the Howler UI and select \"Settings\"</li> <li>Scroll down to the bottom to the \"User Security\" section and press the plus button.</li> <li>Add the API Key name, select access privileges and expiry dates then click the \"Create\" button.</li> <li>The API Key will only be displayed once and can't be recovered. Copy it somewhere safe so that you can use it later.</li> <li>Close the Drawer.</li> </ol>"},{"location":"ingestion/links/","title":"Links","text":""},{"location":"ingestion/links/#hit-links","title":"Hit Links","text":"<p>In order to facilitate the addition of additional tools one can use to triage a hit, Howler allows users to specify a set of links, along with a title and icon to show. This documentation will walk you through how to use these links.</p>"},{"location":"ingestion/links/#specification","title":"Specification","text":"<p>In order to add links, you can use the <code>howler.links</code> field. This field takes in a list of objects with three keys:</p> <pre><code>hit = {\n  \"howler.links\": [\n    {\n      \"title\": \"Link Title with Internal Image\",\n      \"href\": \"https://example.com\",\n      # Note that this specifies another application, not an image link\n      \"icon\": \"superset\",\n    },\n    {\n      \"title\": \"Link Title with External Image\",\n      \"href\": \"https://www.britannica.com/animal/goose-bird\",\n      # Note that this specifies an image link. We don't provide hosting, so you'll need to host it somewhere else!\n      \"icon\": \"https://cdn.britannica.com/76/76076-050-39DDCBA1/goose-Canada-North-America.jpg\",\n    },\n  ]\n}\n</code></pre>"},{"location":"ingestion/user/","title":"Creating Users in Howler","text":""},{"location":"ingestion/user/#creating-users-in-howler","title":"Creating Users in Howler","text":"<p>Howler does not currently have a graphical interface for creating users. The generally suggested manner of creating users is by connecting Howler to an OAuth 2.0 provider (azure, google, etc.) and creating a user based on the returned JWT authentication token. This is already handled in howler, and just requires setting up an external OAuth provider (see here for configuration information).</p> <p>If you'd like to create a user directly, without the use of OAuth creation, you can currently use the following script, on the same machine Howler is hosted on:</p> <pre><code>from howler.common.logging import get_logger\nfrom howler.odm.models.user import User\nfrom howler.security.utils import get_password_hash\nfrom howler.common.loader import datastore\n\nlogger = get_logger(__file__)\n\n\ndef create_user(name: str, email: str, username: str):\n    \"\"\"Create a basic user with username, email and password\"\"\"\n\n    ds = datastore()\n\n    user_data = User(\n        {\n            \"name\": name,\n            \"email\": email,\n            \"password\": get_password_hash(username),\n            \"uname\": f\"{username}\",\n        }\n    )\n    ds.user.save(username, user_data)\n    logger.info(f\"{username}:{username}\")\n\n    ds.user.commit()\n\n\nif __name__ == \"__main__\":\n    name = input(\"Enter Name:\\n&gt; \")\n    username = input(\"\\nEnter Username:\\n&gt; \")\n    email = input(\"\\nEnter Email:\\n&gt; \")\n\n    print(\n        f\"New user will be created.\\n\\tName: {name}\\n\\tUsername: {username}\\n\\tEmail: {email}\"\n    )\n\n    create_user(name, email, username)\n</code></pre> <p>A ticket for graphical user creation has been created.</p>"},{"location":"installation/configuration/","title":"Configuration","text":"Auto-Generated Documentation <p>This set of documentation is automatically generated from source, and will help ensure any change to functionality will always be documented and available on release.</p>"},{"location":"installation/configuration/#config","title":"Config","text":"<p>Main Howler configuration model.</p> <p>The root configuration object that aggregates all configuration sections including authentication, datastore, logging, system settings, UI, and core services. Configuration can be loaded from YAML files or environment variables with the HWL_ prefix.</p> <p>Environment variables use double underscores (__) for nested properties. For example: HWL_DATASTORE__TYPE=elasticsearch</p> Field Type Description Required Default <code>auth</code> <code>Auth</code> Authentication configuration for Howler.      Configures all authentication methods supported by Howler, including     internal username/password authentication and OAuth providers. Also     controls API key settings and restrictions.  Yes See Auth for details. <code>core</code> <code>Core</code> Core application configuration for Howler.      Aggregates all core service configurations including Redis, metrics,     and external integrations like Clue and nbgallery notebooks.     Also manages the loading of external plugins.  Yes See Core for details. <code>datastore</code> <code>Datastore</code> Datastore configuration for Howler.      Defines the backend datastore used by Howler for storing hits and metadata.     Currently supports Elasticsearch as the datastore type.  Yes See Datastore for details. <code>logging</code> <code>Logging</code> Logging configuration for Howler.      Defines how and where Howler logs should be output, including console,     file, and syslog destinations. Also controls log level, format, and     metric export intervals.  Yes See Logging for details. <code>system</code> <code>System</code> System-level configuration for Howler.      Defines global system settings including deployment type (production,     staging, or development) and configuration for automated maintenance     jobs like data retention and view cleanup.  Yes See System for details. <code>ui</code> <code>UI</code> User interface and web server configuration.      Defines settings for the Howler web UI including Flask configuration,     session validation, API auditing, static file locations, and WebSocket     integration for real-time updates.  Yes See UI for details. <code>mapping</code> <code>dict[str, str]</code> Mapping of alert keys to clue type  Yes <code>{}</code>"},{"location":"installation/configuration/#auth","title":"Auth","text":"<p>Authentication configuration for Howler.</p> <p>Configures all authentication methods supported by Howler, including internal username/password authentication and OAuth providers. Also controls API key settings and restrictions.</p> Field Type Description Required Default <code>allow_apikeys</code> <code>bool</code> Allow API keys?  Yes <code>True</code> <code>allow_extended_apikeys</code> <code>bool</code> Allow extended API keys?  Yes <code>True</code> <code>max_apikey_duration_amount</code> <code>int</code> Amount of unit of maximum duration for API keys  Optional <code>None</code> <code>max_apikey_duration_unit</code> <code>Literal[seconds, minutes, hours, days, weeks]</code> Unit of maximum duration for API keys  Optional <code>None</code> <code>internal</code> <code>Internal</code> Internal authentication configuration.      Defines settings for Howler's built-in username/password authentication,     including password requirements and brute-force protection via login     failure tracking.  Yes See Internal for details. <code>oauth</code> <code>OAuth</code> OAuth authentication configuration.      Top-level OAuth settings including enabling/disabling OAuth authentication,     Gravatar integration, and a dictionary of configured OAuth providers.     Also controls API key lifetime restrictions for OAuth-authenticated users.  Yes See OAuth for details."},{"location":"installation/configuration/#internal","title":"Internal","text":"<p>Internal authentication configuration.</p> <p>Defines settings for Howler's built-in username/password authentication, including password requirements and brute-force protection via login failure tracking.</p> Field Type Description Required Default <code>enabled</code> <code>bool</code> Internal authentication allowed?  Yes <code>True</code> <code>failure_ttl</code> <code>int</code> How long to wait after <code>max_failures</code> before re-attempting login?  Yes <code>60</code> <code>max_failures</code> <code>int</code> Maximum number of fails allowed before timeout  Yes <code>5</code> <code>password_requirements</code> <code>PasswordRequirement</code> Password complexity requirements for internal authentication.      Defines the rules for password creation and validation, including     character type requirements and minimum length.  Yes See PasswordRequirement for details."},{"location":"installation/configuration/#passwordrequirement","title":"PasswordRequirement","text":"<p>Password complexity requirements for internal authentication.</p> <p>Defines the rules for password creation and validation, including character type requirements and minimum length.</p> Field Type Description Required Default <code>lower</code> <code>bool</code> Password must contain lowercase letters  Yes <code>False</code> <code>number</code> <code>bool</code> Password must contain numbers  Yes <code>False</code> <code>special</code> <code>bool</code> Password must contain special characters  Yes <code>False</code> <code>upper</code> <code>bool</code> Password must contain uppercase letters  Yes <code>False</code> <code>min_length</code> <code>int</code> Minimum password length  Yes <code>12</code>"},{"location":"installation/configuration/#oauth","title":"OAuth","text":"<p>OAuth authentication configuration.</p> <p>Top-level OAuth settings including enabling/disabling OAuth authentication, Gravatar integration, and a dictionary of configured OAuth providers. Also controls API key lifetime restrictions for OAuth-authenticated users.</p> Field Type Description Required Default <code>enabled</code> <code>bool</code> Enable use of OAuth?  Yes <code>False</code> <code>gravatar_enabled</code> <code>bool</code> Enable gravatar?  Yes <code>True</code> <code>providers</code> <code>dict[str, OAuthProvider]</code> OAuth provider configuration  Yes <code>{}</code> <code>strict_apikeys</code> <code>bool</code> Only allow apikeys that last as long as the access token used to log in  Yes <code>False</code>"},{"location":"installation/configuration/#oauthprovider","title":"OAuthProvider","text":"<p>OAuth provider configuration.</p> <p>Defines the connection and authentication settings for an OAuth 2.0 provider. Includes user auto-creation, group mapping, JWT validation, and various OAuth endpoints required for the authentication flow.</p> Field Type Description Required Default <code>auto_create</code> <code>bool</code> Auto-create users if they are missing  Yes <code>True</code> <code>auto_sync</code> <code>bool</code> Should we automatically sync with OAuth provider?  Yes <code>False</code> <code>auto_properties</code> <code>list[OAuthAutoProperty]</code> Automatic role and classification assignments  Yes <code>[]</code> <code>uid_randomize</code> <code>bool</code> Should we generate a random username for the authenticated user?  Yes <code>False</code> <code>uid_randomize_digits</code> <code>int</code> How many digits should we add at the end of the username?  Yes <code>0</code> <code>uid_randomize_delimiter</code> <code>str</code> What is the delimiter used by the random name generator?  Yes <code>-</code> <code>uid_regex</code> <code>str</code> Regex used to parse an email address and capture parts to create a user ID out of it  Optional <code>None</code> <code>uid_format</code> <code>str</code> Format of the user ID based on the captured parts from the regex  Optional <code>None</code> <code>client_id</code> <code>str</code> ID of your application to authenticate to the OAuth provider  Optional <code>None</code> <code>client_secret</code> <code>str</code> Password to your application to authenticate to the OAuth provider  Optional <code>None</code> <code>request_token_url</code> <code>str</code> URL to request token  Optional <code>None</code> <code>request_token_params</code> <code>str</code> Parameters to request token  Optional <code>None</code> <code>required_groups</code> <code>list[str]</code> The groups the JWT must contain in order to allow access  Yes <code>[]</code> <code>role_map</code> <code>dict[str, str]</code> A mapping of OAuth groups to howler roles  Yes <code>{}</code> <code>access_token_url</code> <code>str</code> URL to get access token  Optional <code>None</code> <code>access_token_params</code> <code>str</code> Parameters to get access token  Optional <code>None</code> <code>authorize_url</code> <code>str</code> URL used to authorize access to a resource  Optional <code>None</code> <code>authorize_params</code> <code>str</code> Parameters used to authorize access to a resource  Optional <code>None</code> <code>api_base_url</code> <code>str</code> Base URL for downloading the user's and groups info  Optional <code>None</code> <code>audience</code> <code>str</code> The audience to validate against. Only must be set if audience is different than the client id.  Optional <code>None</code> <code>scope</code> <code>str</code> The scope to validate against  Yes <code>PydanticUndefined</code> <code>picture_url</code> <code>str</code> URL for downloading the user's profile  Optional <code>None</code> <code>groups_url</code> <code>str</code> URL for accessing additional data about the user's groups  Optional <code>None</code> <code>groups_key</code> <code>str</code> Path to the list of groups in the response returned from groups_url  Optional <code>None</code> <code>iss</code> <code>str</code> Optional issuer field for JWT validation  Optional <code>None</code> <code>jwks_uri</code> <code>str</code> URL used to verify if a returned JWKS token is valid  Yes <code>PydanticUndefined</code> <code>user_get</code> <code>str</code> Path from the base_url to fetch the user info  Optional <code>None</code>"},{"location":"installation/configuration/#oauthautoproperty","title":"OAuthAutoProperty","text":"<p>Automatic property assignment based on OAuth attributes.</p> <p>Defines rules for automatically assigning user properties (roles, classifications, or access levels) based on pattern matching against OAuth provider data.</p> Field Type Description Required Default <code>field</code> <code>str</code> Field to apply <code>pattern</code> to  Yes <code>PydanticUndefined</code> <code>pattern</code> <code>str</code> Regex pattern for auto-prop assignment  Yes <code>PydanticUndefined</code> <code>type</code> <code>Literal[access, classification, role]</code> Type of property assignment on pattern match  Yes <code>PydanticUndefined</code> <code>value</code> <code>str</code> Assigned property value  Yes <code>PydanticUndefined</code>"},{"location":"installation/configuration/#core","title":"Core","text":"<p>Core application configuration for Howler.</p> <p>Aggregates all core service configurations including Redis, metrics, and external integrations like Clue and nbgallery notebooks. Also manages the loading of external plugins.</p> Field Type Description Required Default <code>plugins</code> <code>set[str]</code> A list of external plugins to load  Yes <code>set()</code> <code>metrics</code> <code>Metrics</code> Metrics collection configuration.      Configures how Howler collects and exports application metrics,     including integration with external APM servers.  Yes See Metrics for details. <code>redis</code> <code>Redis</code> Redis configuration for Howler.      Defines connections to both persistent and non-persistent Redis instances.     The non-persistent instance is used for volatile data like caches, while     the persistent instance is used for data that needs to survive restarts.  Yes See Redis for details. <code>clue</code> <code>Clue</code> Clue enrichment service integration configuration.      Defines settings for integrating with Clue, an external enrichment     service that can provide additional context and status information for     hits displayed in the Howler UI.  Yes See Clue for details. <code>notebook</code> <code>Notebook</code> Jupyter notebook integration configuration.      Defines settings for integrating with nbgallery, a collaborative     Jupyter notebook platform, allowing users to access and share     notebooks related to their Howler analysis work.  Yes See Notebook for details."},{"location":"installation/configuration/#metrics","title":"Metrics","text":"<p>Metrics collection configuration.</p> <p>Configures how Howler collects and exports application metrics, including integration with external APM servers.</p> Field Type Description Required Default <code>apm_server</code> <code>APMServer</code> Application Performance Monitoring (APM) server configuration.      Defines the connection details for an external APM server used to     collect and analyze application performance metrics.  Yes See APMServer for details."},{"location":"installation/configuration/#apmserver","title":"APMServer","text":"<p>Application Performance Monitoring (APM) server configuration.</p> <p>Defines the connection details for an external APM server used to collect and analyze application performance metrics.</p> Field Type Description Required Default <code>server_url</code> <code>str</code> URL to API server  Optional <code>None</code> <code>token</code> <code>str</code> Authentication token for server  Optional <code>None</code>"},{"location":"installation/configuration/#redis","title":"Redis","text":"<p>Redis configuration for Howler.</p> <p>Defines connections to both persistent and non-persistent Redis instances. The non-persistent instance is used for volatile data like caches, while the persistent instance is used for data that needs to survive restarts.</p> Field Type Description Required Default <code>nonpersistent</code> <code>RedisServer</code> Configuration for a single Redis server instance.      Defines the connection parameters for a Redis server, including     the hostname and port number.  Yes See RedisServer for details. <code>persistent</code> <code>RedisServer</code> Configuration for a single Redis server instance.      Defines the connection parameters for a Redis server, including     the hostname and port number.  Yes See RedisServer for details."},{"location":"installation/configuration/#redisserver","title":"RedisServer","text":"<p>Configuration for a single Redis server instance.</p> <p>Defines the connection parameters for a Redis server, including the hostname and port number.</p> Field Type Description Required Default <code>host</code> <code>str</code> Hostname of Redis instance  Yes <code>PydanticUndefined</code> <code>port</code> <code>int</code> Port of Redis instance  Yes <code>PydanticUndefined</code>"},{"location":"installation/configuration/#redisserver_1","title":"RedisServer","text":"<p>Configuration for a single Redis server instance.</p> <p>Defines the connection parameters for a Redis server, including the hostname and port number.</p> Field Type Description Required Default <code>host</code> <code>str</code> Hostname of Redis instance  Yes <code>PydanticUndefined</code> <code>port</code> <code>int</code> Port of Redis instance  Yes <code>PydanticUndefined</code>"},{"location":"installation/configuration/#clue","title":"Clue","text":"<p>Clue enrichment service integration configuration.</p> <p>Defines settings for integrating with Clue, an external enrichment service that can provide additional context and status information for hits displayed in the Howler UI.</p> Field Type Description Required Default <code>enabled</code> <code>bool</code> Should clue integration be enabled?  Yes <code>False</code> <code>url</code> <code>str</code> What url should Howler connect to to interact with Clue?  Yes <code>http://enrichment-rest.enrichment.svc.cluster.local:5000</code> <code>status_checks</code> <code>list[str]</code> A list of clue fetchers that return status results given a Howler ID to show in the UI.  Yes <code>[]</code>"},{"location":"installation/configuration/#notebook","title":"Notebook","text":"<p>Jupyter notebook integration configuration.</p> <p>Defines settings for integrating with nbgallery, a collaborative Jupyter notebook platform, allowing users to access and share notebooks related to their Howler analysis work.</p> Field Type Description Required Default <code>enabled</code> <code>bool</code> Should nbgallery notebook integration be enabled?  Yes <code>False</code> <code>scope</code> <code>str</code> The scope expected by nbgallery for JWTs  Optional <code>None</code> <code>url</code> <code>str</code> The url to connect to nbgallery at  Yes <code>http://nbgallery.nbgallery.svc.cluster.local:3000</code>"},{"location":"installation/configuration/#datastore","title":"Datastore","text":"<p>Datastore configuration for Howler.</p> <p>Defines the backend datastore used by Howler for storing hits and metadata. Currently supports Elasticsearch as the datastore type.</p> Field Type Description Required Default <code>hosts</code> <code>list[Host]</code> List of hosts used for the datastore  Yes <code>[http://elastic:devpass@localhost:9200]</code> <code>type</code> <code>Literal[elasticsearch]</code> Type of application used for the datastore  Yes <code>elasticsearch</code>"},{"location":"installation/configuration/#host","title":"Host","text":"<p>Configuration for a remote host connection.</p> <p>Defines connection parameters for external services, including authentication credentials (username/password or API key) and connection details. Environment variables can override username and password using the pattern {NAME}_HOST_USERNAME and {NAME}_HOST_PASSWORD.</p> Field Type Description Required Default <code>name</code> <code>str</code> Name of the host  Yes <code>PydanticUndefined</code> <code>username</code> <code>str</code> Username to login with  Optional <code>None</code> <code>password</code> <code>str</code> Password to login with  Optional <code>None</code> <code>apikey_id</code> <code>str</code> ID of the API Key to use when connecting  Optional <code>None</code> <code>apikey_secret</code> <code>str</code> Secret data of the API Key to use when connecting  Optional <code>None</code> <code>scheme</code> <code>str</code> Scheme to use when connecting  Optional <code>http</code> <code>host</code> <code>str</code> URL to connect to  Yes <code>PydanticUndefined</code>"},{"location":"installation/configuration/#logging","title":"Logging","text":"<p>Logging configuration for Howler.</p> <p>Defines how and where Howler logs should be output, including console, file, and syslog destinations. Also controls log level, format, and metric export intervals.</p> Field Type Description Required Default <code>log_level</code> <code>Literal[DEBUG, INFO, WARNING, ERROR, CRITICAL, DISABLED]</code> What level of logging should we have?  Yes <code>INFO</code> <code>log_to_console</code> <code>bool</code> Should we log to console?  Yes <code>True</code> <code>log_to_file</code> <code>bool</code> Should we log to files on the server?  Yes <code>False</code> <code>log_directory</code> <code>str</code> If <code>log_to_file: true</code>, what is the directory to store logs?  Yes <code>/var/log/howler/</code> <code>log_to_syslog</code> <code>bool</code> Should logs be sent to a syslog server?  Yes <code>False</code> <code>syslog_host</code> <code>str</code> If <code>log_to_syslog: true</code>, provide hostname/IP of the syslog server?  Yes <code>localhost</code> <code>syslog_port</code> <code>int</code> If <code>log_to_syslog: true</code>, provide port of the syslog server?  Yes <code>514</code> <code>export_interval</code> <code>int</code> How often, in seconds, should counters log their values?  Yes <code>5</code> <code>log_as_json</code> <code>bool</code> Log in JSON format?  Yes <code>True</code>"},{"location":"installation/configuration/#system","title":"System","text":"<p>System-level configuration for Howler.</p> <p>Defines global system settings including deployment type (production, staging, or development) and configuration for automated maintenance jobs like data retention and view cleanup.</p> Field Type Description Required Default <code>type</code> <code>Literal[production, staging, development]</code> Type of system  Yes <code>development</code> <code>retention</code> <code>Retention</code> Hit retention policy configuration.      Defines the automatic data retention policy for hits, including     the maximum age of hits before they are purged and the schedule     for running the retention cleanup job.  Yes See Retention for details. <code>view_cleanup</code> <code>ViewCleanup</code> View cleanup job configuration.      Defines the schedule and behavior for cleaning up stale dashboard views     that reference non-existent backend data.  Yes See ViewCleanup for details."},{"location":"installation/configuration/#retention","title":"Retention","text":"<p>Hit retention policy configuration.</p> <p>Defines the automatic data retention policy for hits, including the maximum age of hits before they are purged and the schedule for running the retention cleanup job.</p> Field Type Description Required Default <code>enabled</code> <code>bool</code> Whether to enable the hit retention limit. If enabled, hits will be purged after the specified duration.  Yes <code>True</code> <code>limit_unit</code> <code>Literal[days, seconds, microseconds, milliseconds, minutes, hours, weeks]</code> The unit to use when computing the retention limit  Yes <code>days</code> <code>limit_amount</code> <code>int</code> The number of limit_units to use when computing the retention limit  Yes <code>350</code> <code>crontab</code> <code>str</code> The crontab that denotes how often to run the retention job  Yes <code>0 0 * * *</code>"},{"location":"installation/configuration/#viewcleanup","title":"ViewCleanup","text":"<p>View cleanup job configuration.</p> <p>Defines the schedule and behavior for cleaning up stale dashboard views that reference non-existent backend data.</p> Field Type Description Required Default <code>enabled</code> <code>bool</code> Whether to enable the view cleanup. If enabled, views pinned to the dashboard that no longer exist in the backend will be cleared.  Yes <code>True</code> <code>crontab</code> <code>str</code> The crontab that denotes how often to run the view_cleanup job  Yes <code>0 0 * * *</code>"},{"location":"installation/configuration/#ui","title":"UI","text":"<p>User interface and web server configuration.</p> <p>Defines settings for the Howler web UI including Flask configuration, session validation, API auditing, static file locations, and WebSocket integration for real-time updates.</p> Field Type Description Required Default <code>audit</code> <code>bool</code> Should API calls be audited and saved to a separate log file?  Yes <code>True</code> <code>debug</code> <code>bool</code> Enable debugging?  Yes <code>False</code> <code>static_folder</code> <code>str</code> The directory where static assets are stored.  Optional <code>/home/mdrafus/repos/howler/api/howler/odm/models/../../../static</code> <code>discover_url</code> <code>str</code> Discovery URL  Optional <code>None</code> <code>enforce_quota</code> <code>bool</code> Enforce the user's quotas?  Yes <code>True</code> <code>secret_key</code> <code>str</code> Flask secret key to store cookies, etc.  Yes <code>This is the default flask secret key... you should change this!</code> <code>validate_session_ip</code> <code>bool</code> Validate if the session IP matches the IP the session was created from  Yes <code>True</code> <code>validate_session_useragent</code> <code>bool</code> Validate if the session useragent matches the useragent the session was created with  Yes <code>True</code> <code>websocket_url</code> <code>str</code> The url to hit when emitting websocket events on the cluster  Optional <code>None</code>"},{"location":"installation/default_configuration/","title":"Default Configuration","text":""},{"location":"installation/default_configuration/#default-configuration","title":"Default Configuration","text":"Auto-Generated Documentation <p>This set of documentation is automatically generated from source, and will help ensure any change to functionality will always be documented and available on release.</p> <p>Below is the default configuration for Howler when unit tests are run. You can use it as a starting point for your installation. For more information, see Configuration.</p> <pre><code>auth:\n  allow_apikeys: true\n  allow_extended_apikeys: true\n  internal:\n    enabled: true\n    failure_ttl: 60\n    max_failures: 5\n    password_requirements:\n      lower: false\n      min_length: 12\n      number: false\n      special: false\n      upper: false\n  max_apikey_duration_amount: 180\n  max_apikey_duration_unit: days\n  oauth:\n    enabled: true\n    gravatar_enabled: true\n    providers:\n      keycloak:\n        access_token_params: null\n        access_token_url: http://localhost:9100/realms/HogwartsMini/protocol/openid-connect/token\n        api_base_url: http://localhost:9100/realms/HogwartsMini/protocol/openid-connect/\n        audience: howler\n        authorize_params: null\n        authorize_url: http://localhost:9100/realms/HogwartsMini/protocol/openid-connect/auth\n        auto_create: true\n        auto_properties: []\n        auto_sync: true\n        client_id: howler\n        client_secret: 09RhSF7tp0ShDdDMCszqI4zk8HMroTTZ\n        groups_key: null\n        groups_url: null\n        iss: null\n        jwks_uri: http://localhost:9100/realms/HogwartsMini/protocol/openid-connect/certs\n        picture_url: null\n        request_token_params: null\n        request_token_url: null\n        required_groups:\n        - howler_user\n        role_map:\n          admin: howler_admin\n          user: howler_user\n        scope: openid offline_access\n        uid_format: null\n        uid_randomize: false\n        uid_randomize_delimiter: '-'\n        uid_randomize_digits: 0\n        uid_regex: null\n        user_get: null\n    strict_apikeys: true\ncore:\n  clue:\n    enabled: false\n    status_checks: []\n    url: http://enrichment-rest.enrichment.svc.cluster.local:5000\n  metrics:\n    apm_server:\n      server_url: null\n      token: null\n  notebook:\n    enabled: false\n    scope: null\n    url: http://nbgallery.nbgallery.svc.cluster.local:3000\n  plugins: []\n  redis:\n    nonpersistent:\n      host: 127.0.0.1\n      port: 6379\n    persistent:\n      host: 127.0.0.1\n      port: 6380\ndatastore:\n  hosts:\n  - apikey_id: null\n    apikey_secret: null\n    host: localhost:9200\n    name: elastic\n    password: devpass\n    scheme: http\n    username: elastic\n  type: elasticsearch\nlogging:\n  export_interval: 5\n  log_as_json: false\n  log_directory: /var/log/howler/\n  log_level: INFO\n  log_to_console: true\n  log_to_file: false\n  log_to_syslog: false\n  syslog_host: localhost\n  syslog_port: 514\nmapping:\n  azure.upn: email_address\n  destination.address: domain\n  destination.domain: domain\n  destination.ip: ip\n  destination.nat.ip: ip\n  destination.nat.port: port\n  destination.port: port\n  destination.user.email: email_address\n  dns.answers.name: domain\n  dns.question.registered_domain: domain\n  dns.question.subdomain: domain\n  dns.question.top_level_domain: domain\n  dns.resolved_ip: ip\n  email.attachments.file.hash.md5: md5\n  email.attachments.file.hash.sha256: sha256\n  email.bcc.address: email_address\n  email.cc.address: email_address\n  email.from.address: email_address\n  email.parent.bcc.address: email_address\n  email.parent.cc.address: email_address\n  email.parent.destination: ip\n  email.parent.from.address: email_address\n  email.parent.source: ip\n  email.parent.to.address: email_address\n  email.reply_to.address: email_address\n  email.sender.address: email_address\n  email.to.address: email_address\n  event.url: url\n  file.hash.md5: md5\n  file.hash.sha256: sha256\n  host.domain: domain\n  host.ip: ip\n  howler.outline.indicators: email_address\n  process.parent.parent.user.email: email_address\n  process.parent.user.email: email_address\n  process.user.email: email_address\n  related.ip: ip\n  server.address: domain\n  server.domain: domain\n  server.ip: ip\n  source.address: domain\n  source.domain: domain\n  source.ip: ip\n  source.nat.ip: ip\n  source.nat.port: port\n  source.port: port\n  source.user.email: email_address\n  threat.indicator.email.address: email_address\n  threat.indicator.ip: ip\n  tls.client.ja3: sha256\n  tls.server.ja3s: sha256\n  url.domain: domain\n  url.port: port\n  url.registered_domain: domain\n  url.subdomain: domain\n  url.top_level_domain: domain\nsystem:\n  retention:\n    crontab: 0 0 * * *\n    enabled: true\n    limit_amount: 350\n    limit_unit: days\n  type: development\n  view_cleanup:\n    crontab: 0 0 * * *\n    enabled: true\nui:\n  audit: false\n  debug: true\n  discover_url: null\n  enforce_quota: true\n  secret_key: This is the default flask secret key... you should change this!\n  static_folder: /etc/howler/static\n  validate_session_ip: true\n  validate_session_useragent: false\n  websocket_url: null\n</code></pre>"},{"location":"installation/deployment/","title":"Deploying Howler","text":""},{"location":"installation/deployment/#deploying-howler","title":"Deploying Howler","text":"<p>Internally at the Cyber Centre, we use a helm chart to deploy howler to a kubernetes cluster. An open source version of this chart is available on GitHub. This article consists of a general discussion of dependencies. For an example of this helm chart in use, see Installing Howler on a New Ubuntu VM.</p>"},{"location":"installation/deployment/#prerequisites","title":"Prerequisites","text":"<p>Before deploying Howler, ensure you have the following tools:</p> <ul> <li><code>kubectl</code>: Kubernetes command-line tool (installation guide)</li> <li>You may also want to install <code>k9s</code> for an easier time administering the cluster. (installation guide)</li> <li><code>helm</code>: Helm 3.x or later (installation guide)</li> <li>Access to a Kubernetes cluster: With sufficient permissions to create namespaces, deployments, and services</li> </ul> <p>And the following permissions on the cluster:</p> <ul> <li>Cluster admin permissions or appropriate RBAC roles to:</li> <li>Create and manage namespaces</li> <li>Deploy applications via Helm charts</li> <li>Create secrets and config maps</li> <li>Configure ingress resources (if using ingress)</li> </ul>"},{"location":"installation/deployment/#architecture-overview","title":"Architecture Overview","text":"<p>For a comprehensive understanding of how Howler's components interact, see the System Architecture documentation. This will help you understand the relationships between Howler's services and its dependencies.</p>"},{"location":"installation/deployment/#dependencies","title":"Dependencies","text":"<p>Howler has dependencies on a number of other applications for its functionality:</p> <ol> <li>Elasticsearch 8 (Configuration)</li> <li>Two redis instances (Configuration)<ol> <li>A persistent instance</li> <li>A non-persistent instance</li> </ol> </li> <li>(Optional) An OAuth provider Google, Microsoft, Keycloak, etc.</li> </ol>"},{"location":"installation/deployment/#dependency-hosting-options","title":"Dependency Hosting Options","text":"<p>Howler is flexible in how you provide these dependencies. You have several options:</p>"},{"location":"installation/deployment/#co-located-dependencies-recommended-for-developmenttesting","title":"Co-located Dependencies (Recommended for Development/Testing)","text":"<p>The Howler Helm chart includes optional dependencies (Redis and MinIO) that can be deployed in the same Kubernetes namespace as Howler. This approach is convenient for development, testing, or smaller deployments.</p> <pre><code># In values.yaml - using included dependencies\nredis-persistent:\n  enabled: true\n\nredis-nonpersistent:\n  enabled: true\n</code></pre>"},{"location":"installation/deployment/#external-managed-services-recommended-for-production","title":"External Managed Services (Recommended for Production)","text":"<p>For production deployments, you can use externally managed services as long as they are accessible over the network from your Howler pods. This includes:</p> <ul> <li>Managed Elasticsearch/OpenSearch services (e.g., AWS OpenSearch, Elastic Cloud)</li> <li>Managed Redis services (e.g., AWS ElastiCache, Azure Cache for Redis)</li> </ul> <p>To use external services, configure the connection details in your <code>values.yaml</code>:</p> <pre><code># Example: Using external services\nhowlerRest:\n  datastore:\n    hosts:\n      - host: my-elasticsearch.example.com\n        port: 9200\n        scheme: https\n        username: elastic\n        password: secret\n\n  redis:\n    persistent:\n      host: my-redis-persistent.example.com\n      port: 6379\n    nonpersistent:\n      host: my-redis-cache.example.com\n      port: 6379\n</code></pre> Network Access Requirements <p>Ensure that:</p> <ul> <li>Your Howler pods can reach external services (check firewall rules, security groups, network policies)</li> <li>TLS/SSL certificates are properly configured if using encrypted connections</li> <li>Authentication credentials are stored securely (consider using Kubernetes Secrets)</li> <li>Network latency between Howler and dependencies is acceptable for your use case</li> </ul>"},{"location":"installation/deployment/#docker-images","title":"Docker Images","text":"<p>Howler provides official Docker images for both the API and UI components, available on Docker Hub:</p> <ul> <li>API Image: cccs/howler-api</li> <li>UI Image: cccs/howler-ui</li> </ul> <p>These images are regularly updated with new releases. You can pull specific versions using tags:</p> <pre><code># Pull latest versions\ndocker pull cccs/howler-api:latest\ndocker pull cccs/howler-ui:latest\n\n# Pull a specific version (e.g., 2.5.0)\ndocker pull cccs/howler-api:2.5.0\ndocker pull cccs/howler-ui:2.5.0\n</code></pre> <p>When using the Howler Helm chart, you can specify which images to use in your <code>values.yaml</code>:</p> <pre><code>howlerRest:\n  image:\n    repository: cccs/howler-api\n    tag: latest\n    pullPolicy: IfNotPresent\n\nhowlerUi:\n  image:\n    repository: cccs/howler-ui\n    tag: latest\n    pullPolicy: IfNotPresent\n</code></pre> Building Images from Source <p>If you need to build custom images or want to contribute to Howler development, see the Developer Getting Started Guide for instructions on setting up your development environment and building images locally.</p> <p>The guide covers:</p> <ul> <li>Installing required dependencies (Node.js, Python, Docker)</li> <li>Building the API and UI images from source</li> <li>Running Howler in development mode</li> </ul>"},{"location":"installation/deployment/#configuring-oauth-authentication","title":"Configuring OAuth Authentication","text":"<p>OAuth provides single sign-on (SSO) capabilities, allowing users to authenticate with Howler using their existing organizational credentials. This section shows how to configure an OAuth provider for Howler.</p> <p>In order to get OAuth authentication working, you need to configure the provider in Howler's <code>config.yml</code>. Below is a snippet explaining a sample configuration for connecting to a Keycloak server. Howler uses JSON Web Tokens for authentication in the case of OAuth.</p> <pre><code>auth:\n    # Other auth configuration here\n    oauth:\n        enabled: true\n        providers:\n            # Naming the provider\n            keycloak:\n\n                # The audience that should be accepted in the JWT\n                # https://datatracker.ietf.org/doc/html/rfc7519#section-4.1.3\n                audience: howler\n\n                # Should user data be synchronized on login with Howler?\n                auto_sync: true\n\n                # Where to connect to in order to fetch a token\n                access_token_url: https://example.com/realms/keycloak-realm/protocol/openid-connect/token\n\n                # The base URL of the OAuth provider, used for validation\n                api_base_url: https://example.com/realms/keycloak-realm/protocol/openid-connect/\n\n                # The client id and secret of the application in the OAuth provider\n                # https://www.oauth.com/oauth2-servers/client-registration/client-id-secret/\n                client_id: howler\n                client_secret: super_secret_key\n\n                # The scope denoting what data Howler will have access to on successful authentication\n                # https://oauth.net/2/scope/\n                scope: \"openid offline_access\"\n\n                # Where to fetch the keys necessary to validate the JWT returned from the server.\n                # https://auth0.com/docs/secure/tokens/json-web-tokens/json-web-key-sets\n                jwks_uri: https://example.com/realms/keycloak-realm/protocol/openid-connect/certs\n\n                # What groups the user must be a member of in order to have access to howler?\n                required_groups:\n                - howler_user\n\n                # What do the groups the user is a member of map to in terms of roles in Howler?\n                role_map:\n                    user: howler_user\n                    admin: howler_admin\n                    automation_basic: howler_admin\n                    automation_advanced: howler_admin\n</code></pre>"},{"location":"installation/deployment_minikube/","title":"Installing Howler on a New Ubuntu VM","text":""},{"location":"installation/deployment_minikube/#installing-howler-on-a-new-ubuntu-vm","title":"Installing Howler on a New Ubuntu VM","text":"<p>This setup document allows you to setup Howler and its dependencies on a new, standalone ubuntu distribution. While a dedicated kubernetes cluster is likely a better way to handle deployments, this approach is useful if you have only a single machine available.</p>"},{"location":"installation/deployment_minikube/#install-minikube-and-dependencies","title":"Install Minikube and Dependencies","text":"<p>In order to configure and run the minikube cluster, we need to install docker, minikube, kubectl, helm and k9s.</p> <pre><code># Install Docker\nsudo apt update\nsudo apt install -y docker.io\nsudo systemctl enable docker\nsudo systemctl start docker\nsudo docker run hello-world\nsudo usermod -aG docker $USER &amp;&amp; newgrp docker\n\n# Install minikube\ncurl -LO https://storage.googleapis.com/minikube/releases/latest/minikube-linux-amd64\nsudo install minikube-linux-amd64 /usr/local/bin/minikube\nminikube addons enable ingress\n\n# Install kubectl\n# https://kubernetes.io/docs/tasks/tools/install-kubectl-linux/\ncurl -LO \"https://dl.k8s.io/release/$(curl -L -s https://dl.k8s.io/release/stable.txt)/bin/linux/amd64/kubectl\"\ncurl -LO \"https://dl.k8s.io/release/$(curl -L -s https://dl.k8s.io/release/stable.txt)/bin/linux/amd64/kubectl.sha256\"\necho \"$(cat kubectl.sha256)  kubectl\" | sha256sum --check\nsudo install -o root -g root -m 0755 kubectl /usr/local/bin/kubectl\nkubectl version --client\n\n# Install helm\ncurl -fsSL -o get_helm.sh https://raw.githubusercontent.com/helm/helm/main/scripts/get-helm-3\nchmod 700 get_helm.sh\n./get_helm.sh\n\n# Install k9s\ncurl -sS https://webinstall.dev/k9s | bash\nsource ~/.config/envman/PATH.env\n</code></pre>"},{"location":"installation/deployment_minikube/#install-python-312-optional","title":"Install Python 3.12 (Optional)","text":"<p>If you need to work with the Howler source code or run custom scripts:</p> <pre><code># Install Python 3.12\nsudo apt install software-properties-common\nsudo add-apt-repository ppa:deadsnakes/ppa\nsudo apt update\nsudo apt install python3.12 python3.12-distutils python3.12-venv\nsudo update-alternatives --install /usr/bin/python python /usr/bin/python3.12 1\npython -m ensurepip\npython -m pip install wheel\n</code></pre>"},{"location":"installation/deployment_minikube/#configure-and-deploy-minikube","title":"Configure and Deploy Minikube","text":"<p>Howler uses published Docker images, so you don't need to build them locally.</p> <pre><code># Start minikube\nminikube start\n\n# Create the interpod secret\nkubectl create secret generic howler-interpod-comms-secret \\\n  --from-literal=secret=\"&lt;INTERPOD_COMMS_SECRET&gt;\"\n\n# Clone the howler monorepo to get the helm chart\nmkdir -p ~/repos &amp;&amp; cd ~/repos\ngit clone git@github.com:CybercentreCanada/howler.git\ncd howler/howler-helm\n\n# Update values.yaml to use published images\n# Change pullPolicy from \"Never\" to \"IfNotPresent\" or \"Always\"\nsed -i 's/pullPolicy: \"Never\"/pullPolicy: \"IfNotPresent\"/' values.yaml\n\n# Install the howler helm chart\nhelm install howler .\n\n# Check that everything loads correctly\nk9s\n\n# After everything loads, can we access the ingress?\ncurl $(minikube ip)\n\n# Install and configure nginx\nsudo apt install nginx\nsudo rm /etc/nginx/sites-enabled/default\n\n# Input the conf file below\nsudo vim /etc/nginx/sites-enabled/howler\n\nsudo service nginx restart\n\n# Is nginx working?\ncurl localhost\n</code></pre> <p>At this point, you should have an open port 80 on your machine serving a functional howler instance.</p>"},{"location":"installation/deployment_minikube/#required-files","title":"Required Files","text":"<p>nginx configuration:</p> <pre><code>server {\n    listen 80 default_server;\n    sendfile on;\n    server_name howler;\n\n    location / {\n        proxy_pass http://&lt;MINIKUBE_IP&gt;;\n        proxy_set_header Host $host:$server_port;\n    }\n}\n</code></pre>"},{"location":"odm/getting_started/","title":"Getting Started","text":""},{"location":"odm/getting_started/#howler-odm-documentation","title":"Howler ODM Documentation","text":"Auto-Generated Documentation <p>This set of documentation is automatically generated from source, and will help ensure any change to functionality will always be documented and available on release.</p> <p>This section of the site is useful for deciding what fields to place your raw data in when ingesting into Howler.</p>"},{"location":"odm/getting_started/#basic-field-types","title":"Basic Field Types","text":"<p>Here is a table of the basic types of fields in our data models and what they're used for:</p> Name Description <code>Any</code> A field that can hold any value whatsoever but which is stored as a <code>Boolean</code> A field storing a boolean value. <code>CaseInsensitiveKeyword</code> A field storing a string with a technical interpretation, but is case-insensitive when searching. <code>Classification</code> A field storing access control classification. <code>ClassificationString</code> A field storing the classification as a string only. <code>Date</code> A field storing a datetime value. <code>EmptyableKeyword</code> A keyword which allow to differentiate between empty and None values. <code>Enum</code> A field storing a short string that has predefined list of possible values <code>FlattenedListObject</code> A field storing a flattened object <code>FlattenedObject</code> A field storing a flattened object <code>Float</code> A field storing a floating point value. <code>IndexText</code> A special field with special processing rules to simplify searching. <code>Integer</code> A field storing an integer value. <code>Json</code> A field storing serializeable structure with their JSON encoded representations. <code>Keyword</code> A field storing a short string with a technical interpretation. <code>List</code> A field storing a sequence of typed elements. <code>LowerKeyword</code> A field storing a short lowercase string with a technical interpretation. <code>Mapping</code> A field storing a sequence of typed elements. <code>Optional</code> A wrapper field to allow simple types (int, float, bool) to take None values. <code>Text</code> A field storing human readable text data. <code>UUID</code> A field storing an auto-generated unique ID if None is provided <code>UpperKeyword</code> A field storing a short uppercase string with a technical interpretation. <code>ValidatedKeyword</code> Keyword field which the values are validated by a regular expression"},{"location":"odm/getting_started/#field-states","title":"Field States","text":"<p>In each table, there will be a \"Required\" column with different states about the field's status:</p> State Description  Yes This field is required to be set in the model  Optional This field isn't required to be set in the model  Deprecated This field has been deprecated in the model. See field's description for more details. <p>Note: Fields that are \" Deprecated\" that are still shown in the docs will still work as expected but you're encouraged to update your configuration as soon as possible to avoid future deployment issues.</p>"},{"location":"odm/class/account/","title":"Account","text":"Auto-Generated Documentation <p>This set of documentation is automatically generated from source, and will help ensure any change to functionality will always be documented and available on release.</p>"},{"location":"odm/class/account/#account","title":"Account","text":"<p>Cloud account information.</p> Field Type Description Required Default id Keyword The ID of the AWS Account.  Optional <code>None</code> name Keyword The name of the AWS Account.  Optional <code>None</code>"},{"location":"odm/class/address/","title":"Address","text":"Auto-Generated Documentation <p>This set of documentation is automatically generated from source, and will help ensure any change to functionality will always be documented and available on release.</p>"},{"location":"odm/class/address/#address","title":"Address","text":"<p>The email Address</p> Field Type Description Required Default address Email The email address.  Yes <code>None</code>"},{"location":"odm/class/agent/","title":"Agent","text":"Auto-Generated Documentation <p>This set of documentation is automatically generated from source, and will help ensure any change to functionality will always be documented and available on release.</p>"},{"location":"odm/class/agent/#agent","title":"Agent","text":"<p>The agent fields contain the data about the software entity, if any, that collects, detects, or observes events on a host, or takes measurements on a host.</p> Field Type Description Required Default id Keyword Unique identifier of this agent (if one exists).  Optional <code>None</code> name Keyword Custom name of the agent.  Optional <code>None</code> type Keyword Type of the agent.  Optional <code>None</code> version Keyword Version of the agent.  Optional <code>None</code>"},{"location":"odm/class/as/","title":"As","text":"Auto-Generated Documentation <p>This set of documentation is automatically generated from source, and will help ensure any change to functionality will always be documented and available on release.</p>"},{"location":"odm/class/as/#as","title":"AS","text":"<p>Observer is defined as a special network, security, or application device used to detect, observe, or create network, sercurity, or application event metrics</p> Field Type Description Required Default number Integer Unique number allocated to the autonomous system  Optional <code>None</code> organization_name Keyword Organization name  Optional <code>None</code>"},{"location":"odm/class/assemblyline/","title":"Assemblyline","text":"Auto-Generated Documentation <p>This set of documentation is automatically generated from source, and will help ensure any change to functionality will always be documented and available on release.</p>"},{"location":"odm/class/assemblyline/#assemblyline","title":"AssemblyLine","text":"<p>The AssemblyLine fields contain any data obtained from AssemblyLine relating to the alert.</p> Field Type Description Required Default antivirus List [ALRecord] None  Yes <code>[]</code> attribution List [ALRecord] None  Yes <code>[]</code> behaviour List [ALRecord] None  Yes <code>[]</code> domain List [ALRecord] None  Yes <code>[]</code> heuristic List [ALRecord] None  Yes <code>[]</code> mitre Mitre None  Optional See Mitre for more details. uri List [ALRecord] None  Yes <code>[]</code> yara List [ALRecord] None  Yes <code>[]</code>"},{"location":"odm/class/attachment/","title":"Attachment","text":"Auto-Generated Documentation <p>This set of documentation is automatically generated from source, and will help ensure any change to functionality will always be documented and available on release.</p>"},{"location":"odm/class/attachment/#attachment","title":"Attachment","text":"<p>An attachment file sent along with an email message.</p> Field Type Description Required Default file File Information about the file sent.  Optional <code>None</code>"},{"location":"odm/class/aws/","title":"Aws","text":"Auto-Generated Documentation <p>This set of documentation is automatically generated from source, and will help ensure any change to functionality will always be documented and available on release.</p>"},{"location":"odm/class/aws/#aws","title":"AWS","text":"<p>Fields related to AWS.</p> Field Type Description Required Default account Account AWS account information.  Optional <code>None</code> organization Organization Organization information.  Optional <code>None</code>"},{"location":"odm/class/azure/","title":"Azure","text":"Auto-Generated Documentation <p>This set of documentation is automatically generated from source, and will help ensure any change to functionality will always be documented and available on release.</p>"},{"location":"odm/class/azure/#azure","title":"Azure","text":"<p>Fields related to Azure.</p> Field Type Description Required Default subscription_id Keyword The unique identifier for the Azure subscription.  Optional <code>None</code> tenant_id Keyword The unique identifier for the Azure tenant.  Optional <code>None</code> resource_group Keyword The name of the Azure resource group.  Optional <code>None</code> upn Keyword The user principal name (UPN) in Azure, used for authentication. Alias of user.name.  Optional <code>None</code> resource_id Keyword The unique Azure Resource Identifier (AzureRI).  Optional <code>None</code>"},{"location":"odm/class/body/","title":"Body","text":"Auto-Generated Documentation <p>This set of documentation is automatically generated from source, and will help ensure any change to functionality will always be documented and available on release.</p>"},{"location":"odm/class/body/#body","title":"Body","text":"<p>Defines the body of a request/response.</p> Field Type Description Required Default bytes Integer Size in bytes of the body.  Optional <code>None</code> content Keyword The full HTTP body.  Optional <code>None</code>"},{"location":"odm/class/cbs/","title":"Cbs","text":"Auto-Generated Documentation <p>This set of documentation is automatically generated from source, and will help ensure any change to functionality will always be documented and available on release.</p>"},{"location":"odm/class/cbs/#cbs","title":"CBS","text":"<p>The cbs fields contain any data obtained from CBS relating to the alert.</p> Field Type Description Required Default sharepoint Sharepoint Sharepoint metadata  Optional <code>None</code>"},{"location":"odm/class/chardevice/","title":"Chardevice","text":"Auto-Generated Documentation <p>This set of documentation is automatically generated from source, and will help ensure any change to functionality will always be documented and available on release.</p>"},{"location":"odm/class/chardevice/#chardevice","title":"CharDevice","text":"<p>Information about the char device.</p> Field Type Description Required Default major Integer The major number identifies the driver associated with the device.  Optional <code>None</code> minor Integer The minor number is used only by the driver specified by the major number; other parts of the kernel don't use it, and merely pass it along to the driver.  Optional <code>None</code>"},{"location":"odm/class/client/","title":"Client","text":"Auto-Generated Documentation <p>This set of documentation is automatically generated from source, and will help ensure any change to functionality will always be documented and available on release.</p>"},{"location":"odm/class/client/#client","title":"Client","text":"<p>A client is defined as the initiator of a network connection for events regarding sessions, connections, or bidirectional flow records.</p> Field Type Description Required Default address Keyword Some event client addresses are defined ambiguously. The event will sometimes list an IP, a domain or a unix socket. You should always store the raw address in the .address field.  Optional <code>None</code> autonomous_systems AS Collection of connected Internal Protocol routing prefixes  Optional <code>None</code> bytes Integer Bytes sent from the client to the server.  Optional <code>None</code> domain Keyword The domain name of the client system.  Optional <code>None</code> geo Geo Geo fields can carry data about a specific location related to an event.  Optional <code>None</code> ip IP IP address of the client (IPv4 or IPv6).  Optional <code>None</code> mac MAC MAC address of the client.  Optional <code>None</code> nat Nat Translated NAT sessions (e.g. internal client to internet).  Optional <code>None</code> packets Integer Packets sent from the destination to the source.  Optional <code>None</code> port Integer Port of the client.  Optional <code>None</code> user User The user fields describe information about the user that is relevant to the event.  Optional <code>None</code> original OriginalClient Original Client Data.  Optional <code>None</code>"},{"location":"odm/class/cloud/","title":"Cloud","text":"Auto-Generated Documentation <p>This set of documentation is automatically generated from source, and will help ensure any change to functionality will always be documented and available on release.</p>"},{"location":"odm/class/cloud/#cloud","title":"Cloud","text":"<p>Fields related to the cloud or infrastructure the events are coming from.</p> Field Type Description Required Default account Account Cloud account information.  Optional  Deprecated - Instead of using this more general field, use a platform-specific field. For more information, see Disambiguated Cloud Ontology <code>None</code> availability_zone Keyword Availability zone in which this host, resource, or service is located.  Optional  Deprecated - Instead of using this more general field, use a platform-specific field. For more information, see Disambiguated Cloud Ontology <code>None</code> instance Instance Instance information.  Optional <code>None</code> machine Machine Machine information.  Optional <code>None</code> project Project Project information.  Optional  Deprecated - Instead of using this more general field, use a platform-specific field. For more information, see Disambiguated Cloud Ontology <code>None</code> provider Keyword Name of the cloud provider. Example values are aws, azure, gcp, or digitalocean.  Optional <code>None</code> region Keyword Region in which this host, resource, or service is located.  Optional <code>None</code> service Service Service information.  Optional <code>None</code> tenant_id Keyword The tenant id associated with this alert.  Optional  Deprecated - Instead of using this more general field, use a platform-specific field. For more information, see Disambiguated Cloud Ontology <code>None</code>"},{"location":"odm/class/codesignature/","title":"Codesignature","text":"Auto-Generated Documentation <p>This set of documentation is automatically generated from source, and will help ensure any change to functionality will always be documented and available on release.</p>"},{"location":"odm/class/codesignature/#codesignature","title":"CodeSignature","text":"<p>These fields contain information about binary code signatures.</p> Field Type Description Required Default digest_algorithm Enum The hashing algorithm used to sign the process.Values:<code>\"md5\", \"sha1\", \"sha256\", \"sha384\", \"sha512\"</code>  Optional <code>None</code> exists Boolean Boolean to capture if a signature is present.  Optional <code>None</code> signing_id Keyword The identifier used to sign the process.  Optional <code>None</code> status Keyword Additional information about the certificate status.  Optional <code>None</code> subject_name Keyword Subject name of the code signer.  Optional <code>None</code> team_id Keyword The team identifier used to sign the process.  Optional <code>None</code> timestamp Date Date and time when the code signature was generated and signed.  Optional <code>None</code> trusted Boolean Stores the trust status of the certificate chain.  Optional <code>None</code> valid Boolean Boolean to capture if the digital signature is verified against the binary content.  Optional <code>None</code>"},{"location":"odm/class/comment/","title":"Comment","text":"Auto-Generated Documentation <p>This set of documentation is automatically generated from source, and will help ensure any change to functionality will always be documented and available on release.</p>"},{"location":"odm/class/comment/#comment","title":"Comment","text":"<p>Comment definition.</p> Field Type Description Required Default id UUID A unique ID for the comment.  Yes <code>None</code> timestamp Date Timestamp at which the comment took place.  Yes <code>NOW</code> modified Date Timestamp at which the comment was last edited.  Yes <code>NOW</code> value Text The comment itself.  Yes <code>None</code> user Keyword User ID who created the comment.  Yes <code>None</code> reactions Mapping [Keyword] A list of reactions to the comment.  Yes <code>{}</code>"},{"location":"odm/class/container/","title":"Container","text":"Auto-Generated Documentation <p>This set of documentation is automatically generated from source, and will help ensure any change to functionality will always be documented and available on release.</p>"},{"location":"odm/class/container/#container","title":"Container","text":"<p>Fields related to the cloud or infrastructure the events are coming from.</p> Field Type Description Required Default id Keyword Unique container id.  Optional <code>None</code> image Image Cloud account information.  Optional <code>None</code> labels Mapping [Keyword] Image labels.  Optional <code>None</code> name Keyword Container name.  Optional <code>None</code> runtime Keyword Runtime managing this container.  Optional <code>None</code>"},{"location":"odm/class/device/","title":"Device","text":"Auto-Generated Documentation <p>This set of documentation is automatically generated from source, and will help ensure any change to functionality will always be documented and available on release.</p>"},{"location":"odm/class/device/#device","title":"Device","text":"<p>Information about the device.</p> Field Type Description Required Default name Keyword Name of the device.  Optional <code>None</code>"},{"location":"odm/class/dns/","title":"Dns","text":"Auto-Generated Documentation <p>This set of documentation is automatically generated from source, and will help ensure any change to functionality will always be documented and available on release.</p>"},{"location":"odm/class/dns/#dns","title":"DNS","text":"<p>Fields describing DNS queries and answers.</p> Field Type Description Required Default answers List [DNSAnswer] An array containing an object for each answer section returned by the server.  Optional <code>None</code> header_flags List [Keyword] Array of 2 letter DNS header flags.  Optional <code>None</code> id Keyword The DNS packet identifier assigned by the program that generated the query.  Optional <code>None</code> op_code Keyword The DNS operation code that specifies the kind of query in the message.  Optional <code>None</code> question DNSQuestion An object encapsulating the question asked to the server.  Optional <code>None</code> resolved_ip List [IP] Array containing all IPs seen in answers.data.  Optional <code>None</code> response_code Keyword The DNS response code.  Optional <code>None</code> type Keyword The type of DNS event captured, query or answer.  Optional <code>None</code>"},{"location":"odm/class/dnsanswer/","title":"Dnsanswer","text":"Auto-Generated Documentation <p>This set of documentation is automatically generated from source, and will help ensure any change to functionality will always be documented and available on release.</p>"},{"location":"odm/class/dnsanswer/#dnsanswer","title":"DNSAnswer","text":"<p>An answer section returned by the server.</p> Field Type Description Required Default class Keyword The class of DNS data contained in this resource record.  Optional <code>None</code> data Keyword The data describing the resource.  Optional <code>None</code> name Keyword The domain name to which this resource record pertains.  Optional <code>None</code> ttl Integer The time interval in seconds that this resource record may be cached before it should be discarded.  Optional <code>None</code> type Keyword The type of data contained in this resource record.  Optional <code>None</code>"},{"location":"odm/class/dnsquestion/","title":"Dnsquestion","text":"Auto-Generated Documentation <p>This set of documentation is automatically generated from source, and will help ensure any change to functionality will always be documented and available on release.</p>"},{"location":"odm/class/dnsquestion/#dnsquestion","title":"DNSQuestion","text":"<p>An object encapsulating the question asked to the server.</p> Field Type Description Required Default class Keyword The class of records being queried.  Optional <code>None</code> name Keyword The name being queried.  Optional <code>None</code> registered_domain Domain The highest registered domain, stripped of the subdomain.  Optional <code>None</code> subdomain Keyword The subdomain is all of the labels under the registered_domain.  Optional <code>None</code> top_level_domain Keyword The effective top level domain (eTLD), also known as the domain suffix, is the last part of the domain name.  Optional <code>None</code> type Keyword The type of record being queried.  Optional <code>None</code>"},{"location":"odm/class/ecsversion/","title":"Ecsversion","text":"Auto-Generated Documentation <p>This set of documentation is automatically generated from source, and will help ensure any change to functionality will always be documented and available on release.</p>"},{"location":"odm/class/ecsversion/#ecsversion","title":"ECSVersion","text":"<p>ECS model version</p> Field Type Description Required Default version Keyword Additional information about the certificate status.  Yes <code>8.3.0</code>"},{"location":"odm/class/egress/","title":"Egress","text":"Auto-Generated Documentation <p>This set of documentation is automatically generated from source, and will help ensure any change to functionality will always be documented and available on release.</p>"},{"location":"odm/class/egress/#egress","title":"Egress","text":"<p>Holds information like interface number, name, vlan, and zone to classify egress traffic</p> Field Type Description Required Default zone Keyword Network zone of outbound traffic  Optional <code>None</code>"},{"location":"odm/class/elf/","title":"Elf","text":"Auto-Generated Documentation <p>This set of documentation is automatically generated from source, and will help ensure any change to functionality will always be documented and available on release.</p>"},{"location":"odm/class/elf/#elf","title":"ELF","text":"<p>These fields contain Linux Executable Linkable Format (ELF) metadata.</p> Field Type Description Required Default architecture Keyword Machine architecture of the ELF file.  Optional <code>None</code> byte_order Keyword Byte sequence of ELF file.  Optional <code>None</code> cpu_type Keyword CPU type of the ELF file.  Optional <code>None</code> creation_date Keyword Extracted when possible from the file\u2019s metadata.  Optional <code>None</code> exports List [Keyword] List of exported element names and types.  Yes <code>[]</code> header Header Header information about the ELF file.  Optional <code>None</code> imports List [Keyword] List of imported element names and types.  Optional <code>None</code> sections List [Section] None  Optional <code>None</code> segments List [Section] None  Optional <code>None</code> shared_libraries List [Keyword] List of shared libraries used by this ELF object.  Optional <code>None</code> telfhash Keyword telfhash symbol hash for ELF file.  Optional <code>None</code>"},{"location":"odm/class/email/","title":"Email","text":"Auto-Generated Documentation <p>This set of documentation is automatically generated from source, and will help ensure any change to functionality will always be documented and available on release.</p>"},{"location":"odm/class/email/#email","title":"Email","text":"<p>Event details relating to an email transaction.</p> Field Type Description Required Default attachments List [Attachment] None  Optional <code>None</code> bcc Address The email address of BCC recipient.  Optional <code>None</code> cc Address The email address of CC recipient.  Optional <code>None</code> content_type Keyword Information about how the message is to be displayed.  Optional <code>None</code> delivery_timestamp Date The date and time when the email message was received by the service or client.  Optional <code>None</code> direction Keyword The direction of the message based on the sending and receiving domains.  Optional <code>None</code> from Address The email address of the sender, typically from the RFC 5322 From: header field.  Optional <code>None</code> local_id Keyword Unique identifier given to the email by the source that created the event.  Optional <code>None</code> message_id Keyword Identifier from the RFC 5322 Message-ID: email header that refers to a particular email message.  Optional <code>None</code> origination_timestamp Date The date and time the email message was composed.  Optional <code>None</code> reply_to Address The address that replies should be delivered to based on the value in the RFC 5322 Reply-To: header.  Optional <code>None</code> sender Address Per RFC 5322, specifies the address responsible for the actual transmission of the message.  Optional <code>None</code> subject Keyword A brief summary of the topic of the message.  Optional <code>None</code> to Address The email address of recipient.  Optional <code>None</code> x_mailer Keyword The name of the application that was used to draft and send the original email message.  Optional <code>None</code> parent ParentEmail Metadata about the parent email.  Optional <code>None</code>"},{"location":"odm/class/enrichments/","title":"Enrichments","text":"Auto-Generated Documentation <p>This set of documentation is automatically generated from source, and will help ensure any change to functionality will always be documented and available on release.</p>"},{"location":"odm/class/enrichments/#enrichments","title":"Enrichments","text":"<p>List of enrichments</p> Field Type Description Required Default indicator Indicator None  Optional <code>None</code> matched Matched None  Optional <code>None</code>"},{"location":"odm/class/entrymeta/","title":"Entrymeta","text":"Auto-Generated Documentation <p>This set of documentation is automatically generated from source, and will help ensure any change to functionality will always be documented and available on release.</p>"},{"location":"odm/class/entrymeta/#entrymeta","title":"EntryMeta","text":"<p>Entry Meta-Information.</p> Field Type Description Required Default type Keyword SESSIONNAME from Process Environment Variable  Optional <code>None</code>"},{"location":"odm/class/error/","title":"Error","text":"Auto-Generated Documentation <p>This set of documentation is automatically generated from source, and will help ensure any change to functionality will always be documented and available on release.</p>"},{"location":"odm/class/error/#error","title":"Error","text":"<p>These fields can represent errors of any kind. Use them for errors that happen while fetching events or in cases where the event itself contains an error.</p> Field Type Description Required Default code Keyword Identifier specific to the error.  Optional <code>None</code> message Keyword Error message provided.  Optional <code>None</code>"},{"location":"odm/class/event/","title":"Event","text":"Auto-Generated Documentation <p>This set of documentation is automatically generated from source, and will help ensure any change to functionality will always be documented and available on release.</p>"},{"location":"odm/class/event/#event","title":"Event","text":"<p>The event fields are used for context information about the log or metric event itself.</p> Field Type Description Required Default action Keyword The action captured by the event.  Optional <code>None</code> category List [Enum] Represents the \"big buckets\" of ECS categories. For example, filtering on event.category:process yields all events relating to process activity. This field is closely related to event.type, which is used as a subcategory.  Optional <code>None</code> code Keyword Identification code for this event, if one exists.  Optional <code>None</code> count Integer Count of events  Optional <code>None</code> created Date Contains the date/time when the event was first read by an agent, or by your pipeline.  Optional <code>None</code> dataset Keyword Name of the dataset.  Optional <code>None</code> duration Integer Duration of the event in nanoseconds.  Optional <code>None</code> end Date Contains the date when the event ended or when the activity was last observed.  Optional <code>None</code> hash Keyword Hash (perhaps logstash fingerprint) of raw field to be able to demonstrate log integrity.  Optional <code>None</code> id Keyword Unique ID to describe the event.  Optional <code>None</code> ingested Date Timestamp when an event arrived in the central data store.  Yes <code>NOW</code> kind Enum Gives high-level information about what type of information the event contains, without being specific to the contents of the event. Values:<code>\"alert\", \"enrichment\", \"event\", \"metric\", \"pipeline_error\", \"signal\", \"state\"</code>  Optional <code>None</code> module Keyword Name of the module this data is coming from.  Optional <code>None</code> original Keyword Raw text message of entire event. Used to demonstrate log integrity or where the full log message (before splitting it up in multiple parts) may be required, e.g. for reindex.  Optional <code>None</code> outcome Enum Simply denotes whether the event represents a success or a failure from the perspective of the entity that produced the event.Values:<code>\"failure\", \"success\", \"unknown\"</code>  Optional <code>None</code> provider Keyword Source of the event.  Optional <code>None</code> reason Keyword Reason why this event happened, according to the source.  Optional <code>None</code> reference Keyword Reference URL linking to additional information about this event.  Optional <code>None</code> risk_score Float Risk score or priority of the event (e.g. security solutions).  Optional <code>None</code> risk_score_norm Float Normalized risk score or priority of the event, on a scale of 0 to 100.  Optional <code>None</code> sequence Integer Sequence number of the event.  Optional <code>None</code> severity Integer The numeric severity of the event according to your event source.  Optional <code>None</code> start Date Contains the date when the event started or when the activity was first observed.  Optional <code>None</code> timezone Keyword This field should be populated when the event\u2019s timestamp does not include timezone information already (e.g. default Syslog timestamps).  Optional <code>None</code> type List [Enum] Represents a categorization \"sub-bucket\" that, when used along with the event.category field values, enables filtering events down to a level appropriate for single visualization.  Optional <code>None</code> url Keyword URL linking to an external system to continue investigation of this event.  Optional <code>None</code>"},{"location":"odm/class/faas/","title":"Faas","text":"Auto-Generated Documentation <p>This set of documentation is automatically generated from source, and will help ensure any change to functionality will always be documented and available on release.</p>"},{"location":"odm/class/faas/#faas","title":"FAAS","text":"<p>The user fields describe information about the function as a service (FaaS) that is relevant to the event.</p> Field Type Description Required Default coldstart Boolean Boolean value indicating a cold start of a function.  Optional <code>None</code> execution Keyword The execution ID of the current function execution.  Optional <code>None</code> id Keyword The unique identifier of a serverless function.  Optional <code>None</code> name Keyword The name of a serverless function.  Optional <code>None</code> trigger Trigger Details about the function trigger.  Optional <code>None</code> version Keyword The version of a serverless function.  Optional <code>None</code>"},{"location":"odm/class/feed/","title":"Feed","text":"Auto-Generated Documentation <p>This set of documentation is automatically generated from source, and will help ensure any change to functionality will always be documented and available on release.</p>"},{"location":"odm/class/feed/#feed","title":"Feed","text":"<p>Threat feed information.</p> Field Type Description Required Default dashboard_id Keyword The saved object ID of the dashboard belonging to the threat feed for displaying dashboard links to threat feeds in Kibana.  Optional <code>None</code> description Keyword Description of the threat feed in a UI friendly format.  Optional <code>None</code> name Keyword The name of the threat feed in UI friendly format.  Optional <code>None</code> reference Keyword Reference information for the threat feed in a UI friendly format.  Optional <code>None</code>"},{"location":"odm/class/file/","title":"File","text":"Auto-Generated Documentation <p>This set of documentation is automatically generated from source, and will help ensure any change to functionality will always be documented and available on release.</p>"},{"location":"odm/class/file/#file","title":"File","text":"<p>A file is defined as a set of information that has been created on, or has existed on a filesystem.</p> Field Type Description Required Default accessed Date Last time the file was accessed.  Optional <code>None</code> attributes List [Keyword] Array of file attributes.  Optional <code>None</code> created Date File creation time.  Optional <code>None</code> ctime Date Last time the file attributes or metadata changed.  Optional <code>None</code> device Keyword Device that is the source of the file.  Optional <code>None</code> directory Keyword Directory where the file is located. It should include the drive letter, when appropriate.  Optional <code>None</code> drive_letter Keyword Drive letter where the file is located. This field is only relevant on Windows.  Optional <code>None</code> extension Keyword File extension, excluding the leading dot.  Optional <code>None</code> fork_name Keyword A fork is additional data associated with a filesystem object.  Optional <code>None</code> gid Keyword Primary group ID (GID) of the file.  Optional <code>None</code> group Keyword Primary group name of the file.  Optional <code>None</code> inode Keyword Inode representing the file in the filesystem.  Optional <code>None</code> mime_type Keyword MIME type should identify the format of the file or stream of bytes using IANA official types, where possible.  Optional <code>None</code> mode Keyword Mode of the file in octal representation.  Optional <code>None</code> mtime Date Last time the file content was modified.  Optional <code>None</code> name Keyword Name of the file including the extension, without the directory.  Optional <code>None</code> owner Keyword File owner\u2019s username.  Optional <code>None</code> path Keyword Full path to the file, including the file name. It should include the drive letter, when appropriate.  Optional <code>None</code> size Integer File size in bytes.  Optional <code>None</code> target_path Keyword Target path for symlinks.  Optional <code>None</code> type Enum File type (file, dir, or symlink).Values:<code>\"dir\", \"file\", \"symlink\"</code>  Optional <code>None</code> uid Keyword The user ID (UID) or security identifier (SID) of the file owner.  Optional <code>None</code> code_signature CodeSignature These fields contain information about binary code signatures.  Optional <code>None</code> elf ELF These fields contain Linux Executable Linkable Format (ELF) metadata.  Optional <code>None</code> hash Hashes These fields contain Windows Portable Executable (PE) metadata.  Optional <code>None</code> pe PE Hashes, usually file hashes.  Optional <code>None</code>"},{"location":"odm/class/gcp/","title":"Gcp","text":"Auto-Generated Documentation <p>This set of documentation is automatically generated from source, and will help ensure any change to functionality will always be documented and available on release.</p>"},{"location":"odm/class/gcp/#gcp","title":"GCP","text":"<p>Fields related to Google Cloud Platform.</p> Field Type Description Required Default project_id Keyword The unique identifier for the GCP project.  Optional <code>None</code> network_id Keyword The unique identifier for a Google Cloud Platform (GCP) network.  Optional <code>None</code> zone Keyword The GCP zone of the instance.  Optional <code>None</code> service_account_id Keyword Unique identifier for a GCP service account.  Optional <code>None</code> resource_id Keyword Unique GCP resource identifier.  Optional <code>None</code>"},{"location":"odm/class/geo/","title":"Geo","text":"Auto-Generated Documentation <p>This set of documentation is automatically generated from source, and will help ensure any change to functionality will always be documented and available on release.</p>"},{"location":"odm/class/geo/#geo","title":"Geo","text":"<p>Geo fields can carry data about a specific location related to an event.</p> Field Type Description Required Default city_name Keyword City name.  Optional <code>None</code> continent_code Keyword Two-letter code representing continent\u2019s name.  Optional <code>None</code> continent_name Keyword Name of the continent.  Optional <code>None</code> country_iso_code Keyword Country ISO code.  Optional <code>None</code> country_name Keyword Country name.  Optional <code>None</code> location GeoPoint Longitude and latitude.  Optional <code>None</code> name Keyword User-defined description of a location, at the level of granularity they care about.  Optional <code>None</code> postal_code Keyword Postal code associated with the location.  Optional <code>None</code> region_iso_code Keyword Region ISO code.  Optional <code>None</code> region_name Keyword Region name.  Optional <code>None</code> timezone Keyword The time zone of the location, such as IANA time zone name.  Optional <code>None</code>"},{"location":"odm/class/geopoint/","title":"Geopoint","text":"Auto-Generated Documentation <p>This set of documentation is automatically generated from source, and will help ensure any change to functionality will always be documented and available on release.</p>"},{"location":"odm/class/geopoint/#geopoint","title":"GeoPoint","text":"<p>Longitude and latitude.</p> Field Type Description Required Default lon Float Longitude  Yes <code>None</code> lat Float Latitude  Yes <code>None</code>"},{"location":"odm/class/group/","title":"Group","text":"Auto-Generated Documentation <p>This set of documentation is automatically generated from source, and will help ensure any change to functionality will always be documented and available on release.</p>"},{"location":"odm/class/group/#group","title":"Group","text":"<p>The group fields are meant to represent groups that are relevant to the event.</p> Field Type Description Required Default domain Keyword Name of the directory the group is a member of.  Optional <code>None</code> id Keyword Unique identifier for the group on the system/platform.  Optional <code>None</code> name Keyword Name of the group.  Optional <code>None</code>"},{"location":"odm/class/hash/","title":"Hash","text":"Auto-Generated Documentation <p>This set of documentation is automatically generated from source, and will help ensure any change to functionality will always be documented and available on release.</p>"},{"location":"odm/class/hash/#hash","title":"Hash","text":"<p>Container hashes information.</p> Field Type Description Required Default all List [Keyword] An array of digests of the image the container was built on.  Yes <code>[]</code>"},{"location":"odm/class/hashes/","title":"Hashes","text":"Auto-Generated Documentation <p>This set of documentation is automatically generated from source, and will help ensure any change to functionality will always be documented and available on release.</p>"},{"location":"odm/class/hashes/#hashes","title":"Hashes","text":"<p>The hash fields represent different bitwise hash algorithms and their values.</p> Field Type Description Required Default md5 MD5 MD5 hash.  Optional <code>None</code> sha1 SHA1 SHA1 hash.  Optional <code>None</code> sha256 SHA256 SHA256 hash.  Optional <code>None</code> sha384 ValidatedKeyword SHA384 hash.  Optional <code>None</code> sha512 ValidatedKeyword SHA512 hash.  Optional <code>None</code> ssdeep SSDeepHash SSDEEP hash.  Optional <code>None</code> tlsh Keyword TLSH hash.  Optional <code>None</code>"},{"location":"odm/class/header/","title":"Header","text":"Auto-Generated Documentation <p>This set of documentation is automatically generated from source, and will help ensure any change to functionality will always be documented and available on release.</p>"},{"location":"odm/class/header/#header","title":"Header","text":"<p>Hit outline header.</p> Field Type Description Required Default threat Text The IP of the threat.  Optional <code>None</code> target Text The target of the hit.  Optional <code>None</code> indicators List [Text] None  Yes <code>[]</code> summary Text Summary of the hit.  Optional <code>None</code>"},{"location":"odm/class/hit/","title":"Hit","text":"Auto-Generated Documentation <p>This set of documentation is automatically generated from source, and will help ensure any change to functionality will always be documented and available on release.</p>"},{"location":"odm/class/hit/#hit","title":"Hit","text":"<p>Howler Outline schema which is an extended version of Elastic Common Schema (ECS)</p> Field Type Description Required Default timestamp Date Date/time when the event originated.Reference Link  Yes <code>NOW</code> labels Mapping [Keyword] Custom key/value pairs.Reference Link  Yes <code>{}</code> tags List [Keyword] List of keywords used to tag each event.Reference Link  Yes <code>[]</code> message Keyword Log message for log events, optimized for viewing in a log viewerReference Link  Yes `` howler HowlerData Howler specific definition of the hit that matches the outline.Reference Link  Yes <code>None</code> assemblyline AssemblyLine AssemblyLine metadata associated with this alert.  Optional <code>None</code> agent Agent The agent fields contain the data about the software entity, if any, that collects, detects, or observes events on a host, or takes measurements on a host.Reference Link  Optional <code>None</code> aws AWS Fields related to AWS.  Optional <code>None</code> azure Azure Fields related to Azure.  Optional <code>None</code> cbs CBS CBS metadata associated with this alert.  Optional <code>None</code> cloud Cloud Fields related to the cloud or infrastructure the events are coming from.Reference Link  Optional <code>None</code> container Container Container fields are used for meta information about the specific container that is the source of information.Reference Link  Optional <code>None</code> destination Client Destination fields capture details about the receiver of a network exchange/packet.Reference Link  Optional <code>None</code> dns DNS Fields describing DNS queries and answers.Reference Link  Optional <code>None</code> ecs ECSVersion Meta-information specific to ECS.Reference Link  Yes See ECSVersion for more details. error Error These fields can represent errors of any kind.Reference Link  Optional <code>None</code> event Event The event fields are used for context information about the log or metric event itself.  Optional <code>None</code> email Email Event details relating to an email transaction.Reference Link  Optional <code>None</code> faas FAAS The user fields describe information about the function as a service (FaaS) that is relevant to the event.Reference Link  Optional <code>None</code> file File A file is defined as a set of information that has been created on, or has existed on a filesystem.Reference Link  Optional <code>None</code> gcp GCP Fields related to Google Cloud Platform.  Optional <code>None</code> group Group The group fields are meant to represent groups that are relevant to the event.Reference Link  Optional <code>None</code> host Host A host is defined as a general computing instance. ECS host.* fields should be populated with details about the host on which the event happened, or from which the measurement was taken. Host types include hardware, virtual machines, Docker containers, and Kubernetes nodes.Reference Link  Optional <code>None</code> http HTTP Fields related to HTTP activity. Use the url field set to store the url of the request.Reference Link  Optional <code>None</code> observer Observer Observer is defined as a special network, security, or application device used to detect, observe, or create network, sercurity, or application event metrics  Optional <code>None</code> interface Interface The interface fields are used to record ingress and egress interface information when reported by an observer (e.g. firewall, router, load balancer) in the context of the observer handling a network connection. Reference Link  Optional <code>None</code> network Network The network is defined as the communication path over which a host or network event happens.Reference Link  Optional <code>None</code> organization Organization The organization fields enrich data with information about the company or entity the data is associated with.Reference Link  Optional <code>None</code> process Process These fields contain information about a process.Reference Link  Optional <code>None</code> registry Registry Fields related to Windows Registry operations.Reference Link  Optional <code>None</code> related Related Fields related to Windows Registry operations.Reference Link  Optional <code>None</code> rule Rule Capture the specifics of any observer or agent rules  Optional <code>None</code> server Server A Server is defined as the responder in a network connection for events regarding sessions, connections, or bidirectional flow records.Reference Link  Optional <code>None</code> source Client Source fields capture details about the sender of a network exchange/packet.Reference Link  Optional <code>None</code> threat Threat Fields to classify events and alerts according to a threat taxonomy such as the MITRE ATT&amp;CK\u00ae framework.Reference Link  Optional <code>None</code> tls TLS Fields related to a TLS connection. These fields focus on the TLS protocol itself and intentionally avoids in-depth analysis of the related x.509 certificate files.Reference Link  Optional <code>None</code> url URL URL fields provide support for complete or partial URLs, and supports the breaking down into scheme, domain, path, and so on.Reference Link  Optional <code>None</code> user User The user fields describe information about the user that is relevant to the event.Reference Link  Optional <code>None</code> user_agent UserAgent The user_agent fields normally come from a browser request.Reference Link  Optional <code>None</code> vulnerability Vulnerability The vulnerability fields describe information about a vulnerability that is relevant to an event.Reference Link  Optional <code>None</code>"},{"location":"odm/class/host/","title":"Host","text":"Auto-Generated Documentation <p>This set of documentation is automatically generated from source, and will help ensure any change to functionality will always be documented and available on release.</p>"},{"location":"odm/class/host/#host","title":"Host","text":"<p>A host is defined as a general computing instance.</p> Field Type Description Required Default id Keyword Unique host id. Use Agent ID for HBS.  Optional <code>None</code> ip List [IP] Host ip addresses.  Yes <code>[]</code> mac List [Keyword] Host MAC addresses.  Yes <code>[]</code> name Keyword Name of the host.  Optional <code>None</code> domain Keyword Domain the host is a member of.  Optional <code>None</code> type Keyword As described by CSP.  Optional <code>None</code>"},{"location":"odm/class/howlerdata/","title":"Howlerdata","text":"Auto-Generated Documentation <p>This set of documentation is automatically generated from source, and will help ensure any change to functionality will always be documented and available on release.</p>"},{"location":"odm/class/howlerdata/#howlerdata","title":"HowlerData","text":"<p>Howler specific definition of the hit that matches the outline.</p> Field Type Description Required Default id UUID A UUID for this hit.  Yes <code>None</code> analytic CaseInsensitiveKeyword Title of the analytic.  Yes <code>None</code> assignment Keyword Unique identifier of the assigned user.  Yes <code>unassigned</code> bundles List [Keyword] None  Yes <code>[]</code> data List [Keyword] None  Yes <code>[]</code> links List [Link] A list of links associated with this hit.  Yes <code>[]</code> detection CaseInsensitiveKeyword The detection that produced this hit.  Optional <code>None</code> hash HowlerHash A hash of the event used for deduplicating hits. Supports any hexadecimal string between 1 and 64 characters long.  Yes <code>None</code> hits List [Keyword] None  Yes <code>[]</code> bundle_size Integer Number of hits in bundle  Yes <code>0</code> is_bundle Boolean Is this hit a bundle or a normal hit?  Yes <code>False</code> related List [Keyword] None  Yes <code>[]</code> reliability Float Metric decoupled from the value in the detection information.  Optional <code>None</code> severity Float Metric decoupled from the value in the detection information.  Optional <code>None</code> volume Float Metric decoupled from the value in the detection information.  Optional <code>None</code> confidence Float Metric decoupled from the value in the detection information.  Optional <code>None</code> score Float A score assigned by an enrichment to help prioritize triage.  Optional <code>0</code> status Enum Status of the hit.Values:<code>\"in-progress\", \"on-hold\", \"open\", \"resolved\"</code>  Yes <code>open</code> scrutiny Enum Level of scrutiny done to this hit.Values:<code>\"inspected\", \"investigated\", \"scanned\", \"surveyed\", \"unseen\"</code>  Yes <code>unseen</code> escalation Enum Level of escalation of this hit.Values:<code>\"alert\", \"evidence\", \"hit\", \"miss\"</code>  Yes <code>hit</code> expiry Date User selected time for hit expiry  Optional <code>None</code> assessment Enum Assessment of the hit.Values:<code>\"ambiguous\", \"attempt\", \"compromise\", \"development\", \"false-positive\", \"legitimate\", \"mitigated\", \"recon\", \"security\", \"trivial\"</code>  Optional <code>None</code> rationale Text The rationale behind the hit assessment. Allows it to be understood and verified by other analysts.  Optional <code>None</code> comment List [Comment] A list of comments with timestamps and attribution.  Yes <code>[]</code> log List [Log] A list of changes to the hit with timestamps and attribution.  Yes <code>[]</code> monitored Keyword Link to the incident monitoring dashboard.  Optional <code>None</code> reported Keyword Link to the incident report.  Optional <code>None</code> mitigated Keyword Link to the mitigation record (tool dependent).  Optional <code>None</code> outline Header The user specified header of the hit  Optional <code>None</code> incidents List [Incident] Fields describing an incident associated with this alert.  Yes <code>[]</code> labels Label List of labels relating to the hit  Optional See Label for more details. votes Votes Votes relating to the hit  Optional See Votes for more details. dossier List [Lead] A list of leads forming the dossier associated with this hit  Yes <code>[]</code> viewers List [Keyword] None  Yes <code>[]</code>"},{"location":"odm/class/http/","title":"Http","text":"Auto-Generated Documentation <p>This set of documentation is automatically generated from source, and will help ensure any change to functionality will always be documented and available on release.</p>"},{"location":"odm/class/http/#http","title":"HTTP","text":"<p>These fields can represent errors of any kind.</p> Field Type Description Required Default request Request Request data.  Optional <code>None</code> response Response Response data.  Optional <code>None</code> version Keyword HTTP version.  Optional <code>None</code>"},{"location":"odm/class/image/","title":"Image","text":"Auto-Generated Documentation <p>This set of documentation is automatically generated from source, and will help ensure any change to functionality will always be documented and available on release.</p>"},{"location":"odm/class/image/#image","title":"Image","text":"<p>Information about the container Image.</p> Field Type Description Required Default hash Hash Container hashes information.  Optional <code>None</code> name Keyword Name of the image the container was built on.  Optional <code>None</code> tag List [Keyword] Container image tags.  Yes <code>[]</code>"},{"location":"odm/class/incident/","title":"Incident","text":"Auto-Generated Documentation <p>This set of documentation is automatically generated from source, and will help ensure any change to functionality will always be documented and available on release.</p>"},{"location":"odm/class/incident/#incident","title":"Incident","text":"<p>Fields describing the location where this alert has been retained.</p> Field Type Description Required Default platform Keyword The name of the platform for this incident.  Yes <code>None</code> incident_id Keyword The ID of the incident.  Optional <code>None</code> url Keyword The url where the incident can be found.  Optional <code>None</code>"},{"location":"odm/class/indicator/","title":"Indicator","text":"Auto-Generated Documentation <p>This set of documentation is automatically generated from source, and will help ensure any change to functionality will always be documented and available on release.</p>"},{"location":"odm/class/indicator/#indicator","title":"Indicator","text":"<p>Object containing associated indicators enriching the event.</p> Field Type Description Required Default confidence Keyword Identifies the vendor-neutral confidence rating using the None/Low/Medium/High scale defined in Appendix A of the STIX 2.1 framework. Vendor-specific confidence scales may be added as custom fields.  Optional <code>None</code> description Text Describes the type of action conducted by the threat.  Optional <code>None</code> email Email None  Optional <code>None</code> file File None  Optional <code>None</code> provider Keyword The name of the indicator\u2019s provider.  Optional <code>None</code> reference Keyword Reference URL linking to additional information about this indicator.  Optional <code>None</code> scanner_stats Integer Count of AV/EDR vendors that successfully detected malicious file or URL.  Optional <code>None</code> sightings Integer Number of times this indicator was observed conducting threat activity.  Optional <code>None</code> ip IP Identifies a threat indicator as an IP address (irrespective of direction).  Optional <code>None</code> type Keyword Type of indicator as represented by Cyber Observable in STIX 2.0.  Optional <code>None</code> first_seen Date The date and time when intelligence source first reported sighting this indicator.  Optional <code>None</code> last_seen Date The date and time when intelligence source last reported sighting this indicator.  Optional <code>None</code> port Integer Identifies a threat indicator as a port number  Optional <code>None</code>"},{"location":"odm/class/ingress/","title":"Ingress","text":"Auto-Generated Documentation <p>This set of documentation is automatically generated from source, and will help ensure any change to functionality will always be documented and available on release.</p>"},{"location":"odm/class/ingress/#ingress","title":"Ingress","text":"<p>Holds information like interface number, name, vlan, and zone to classify ingress traffic</p> Field Type Description Required Default zone Keyword Network zone of incoming traffic as reported by observer  Optional <code>None</code> interface Interface Ingress Interface  Optional <code>None</code>"},{"location":"odm/class/instance/","title":"Instance","text":"Auto-Generated Documentation <p>This set of documentation is automatically generated from source, and will help ensure any change to functionality will always be documented and available on release.</p>"},{"location":"odm/class/instance/#instance","title":"Instance","text":"<p>Instance information.</p> Field Type Description Required Default id Keyword Instance ID of the host machine.  Optional <code>None</code> name Keyword Instance name of the host machine.  Optional <code>None</code>"},{"location":"odm/class/interface/","title":"Interface","text":"Auto-Generated Documentation <p>This set of documentation is automatically generated from source, and will help ensure any change to functionality will always be documented and available on release.</p>"},{"location":"odm/class/interface/#interface","title":"Interface","text":"<p>The interface fields are used to record ingress and egress interface information when reported by an observer (e.g. firewall, router, load balancer) in the context of the observer handling a network connection.</p> Field Type Description Required Default id Integer Interface ID as reported by an observer (typically SNMP interface ID).  Optional <code>None</code> name Keyword Name of interface  Optional <code>None</code>"},{"location":"odm/class/label/","title":"Label","text":"Auto-Generated Documentation <p>This set of documentation is automatically generated from source, and will help ensure any change to functionality will always be documented and available on release.</p>"},{"location":"odm/class/label/#label","title":"Label","text":"<p>Labels for the hit</p> Field Type Description Required Default assignments List [Text] None  Yes <code>[]</code> generic List [Text] None  Yes <code>[]</code> insight List [Text] None  Yes <code>[]</code> mitigation List [Text] None  Yes <code>[]</code> victim List [Text] None  Yes <code>[]</code> campaign List [Text] None  Yes <code>[]</code> threat List [Text] None  Yes <code>[]</code> tuning List [Text] None  Yes <code>[]</code> operation List [Text] None  Yes <code>[]</code>"},{"location":"odm/class/lead/","title":"Lead","text":"Auto-Generated Documentation <p>This set of documentation is automatically generated from source, and will help ensure any change to functionality will always be documented and available on release.</p>"},{"location":"odm/class/lead/#lead","title":"Lead","text":"<p>The dossier object stores individual tabs/fields for a given alert.</p> Field Type Description Required Default icon Text An optional icon to use in the tab display for this dossier.  Optional <code>None</code> label LocalizedLabel Labels for the lead in the UI.  Yes <code>None</code> format Text The format of the lead.  Yes <code>None</code> content Text The data for the content. Could be a link, raw markdown text, or other valid lead format.  Yes <code>None</code> metadata Json Metadata associated with this dossier. Use varies based on format.  Optional <code>None</code>"},{"location":"odm/class/link/","title":"Link","text":"Auto-Generated Documentation <p>This set of documentation is automatically generated from source, and will help ensure any change to functionality will always be documented and available on release.</p>"},{"location":"odm/class/link/#link","title":"Link","text":"<p>Howler Link definition.</p> Field Type Description Required Default href Keyword Timestamp at which the comment was last edited.  Yes <code>None</code> title Text The title to use for the link.  Optional <code>None</code> icon Keyword The icon to show. Either an ID corresponding to an analytical platform application, or an external link.  Optional <code>None</code>"},{"location":"odm/class/log/","title":"Log","text":"Auto-Generated Documentation <p>This set of documentation is automatically generated from source, and will help ensure any change to functionality will always be documented and available on release.</p>"},{"location":"odm/class/log/#log","title":"Log","text":"<p>Log definition.</p> Field Type Description Required Default timestamp Date Timestamp at which the Log event took place.  Yes <code>None</code> key Keyword The key whose value changed.  Optional <code>None</code> explanation Text A manual description of the changes made.  Optional <code>None</code> previous_version Keyword The version this action was applied to.  Optional <code>None</code> new_value Keyword The value the key is changing to.  Optional <code>None</code> type Enum The operation performed on the value.Values:<code>\"appended\", \"removed\", \"set\"</code>  Optional <code>None</code> previous_value Keyword The value the key is changing from.  Optional <code>None</code> user Keyword User ID who created the log event.  Yes <code>None</code>"},{"location":"odm/class/machine/","title":"Machine","text":"Auto-Generated Documentation <p>This set of documentation is automatically generated from source, and will help ensure any change to functionality will always be documented and available on release.</p>"},{"location":"odm/class/machine/#machine","title":"Machine","text":"<p>Machine information.</p> Field Type Description Required Default type Keyword Machine type of the host machine.  Optional <code>None</code>"},{"location":"odm/class/matched/","title":"Matched","text":"Auto-Generated Documentation <p>This set of documentation is automatically generated from source, and will help ensure any change to functionality will always be documented and available on release.</p>"},{"location":"odm/class/matched/#matched","title":"Matched","text":"<p>None</p> Field Type Description Required Default atomic Keyword Identifies the atomic indicator value that matched a extended local envirnment endpoint or network event  Optional <code>None</code>"},{"location":"odm/class/nat/","title":"Nat","text":"Auto-Generated Documentation <p>This set of documentation is automatically generated from source, and will help ensure any change to functionality will always be documented and available on release.</p>"},{"location":"odm/class/nat/#nat","title":"Nat","text":"<p>Translated NAT sessions (e.g. internal client to internet).</p> Field Type Description Required Default ip IP Translated IP of source based NAT sessions.  Optional <code>None</code> port Integer Translated port of source based NAT sessions.  Optional <code>None</code>"},{"location":"odm/class/network/","title":"Network","text":"Auto-Generated Documentation <p>This set of documentation is automatically generated from source, and will help ensure any change to functionality will always be documented and available on release.</p>"},{"location":"odm/class/network/#network","title":"Network","text":"<p>The network is defined as the communication path over which a host or network event happens.</p> Field Type Description Required Default direction Keyword The direction of network traffic relative to the host it was collected on. (values: \"OUTBOUND\", \"INBOUND\", \"LISTENING\", \"UNKNOWN\")  Optional <code>None</code> protocol Keyword Application layer protocol in the OSI Model  Optional <code>None</code> transport LowerKeyword Transport layer protocol of the network traffic. (values: \"udp\", \"udp_listener\", \"tcp\", \"tcp_listener\", \"unknown\")  Optional <code>None</code>"},{"location":"odm/class/observer/","title":"Observer","text":"Auto-Generated Documentation <p>This set of documentation is automatically generated from source, and will help ensure any change to functionality will always be documented and available on release.</p>"},{"location":"odm/class/observer/#observer","title":"Observer","text":"<p>Observer is defined as a special network, security, or application device used to detect, observe, or create network, sercurity, or application event metrics</p> Field Type Description Required Default egress Egress Holds information like interface number, name, vlan, and zone to classify ingress traffic  Optional <code>None</code> hostname Keyword Hostname of the observer  Optional <code>None</code> ingress Ingress Holds information like interface number, name, vlan, and zone to classify ingress traffic  Optional <code>None</code> interface Interface Interface being observed  Optional <code>None</code> ip List [IP] None  Yes <code>[]</code> mac List [Keyword] None  Yes <code>[]</code> name Keyword Custom name of the observer  Optional <code>None</code> product Keyword Product name of the observer  Optional <code>None</code> serial_number Keyword Observer serial number  Optional <code>None</code> type Keyword Type of the observer the data is coming from  Optional <code>None</code> vendor Keyword Vendor name of the observer  Optional <code>None</code> version Keyword Observer version  Optional <code>None</code>"},{"location":"odm/class/organization/","title":"Organization","text":"Auto-Generated Documentation <p>This set of documentation is automatically generated from source, and will help ensure any change to functionality will always be documented and available on release.</p>"},{"location":"odm/class/organization/#organization","title":"Organization","text":"<p>The organization fields enrich data with information about the company or entity the data is associated with.</p> Field Type Description Required Default id Keyword Unique identifier for the organization.  Optional <code>None</code> name Keyword Organization name.  Yes <code>None</code>"},{"location":"odm/class/originalclient/","title":"Originalclient","text":"Auto-Generated Documentation <p>This set of documentation is automatically generated from source, and will help ensure any change to functionality will always be documented and available on release.</p>"},{"location":"odm/class/originalclient/#originalclient","title":"OriginalClient","text":"<p>A client is defined as the initiator of a network connection for events regarding sessions, connections, or bidirectional flow records.</p> Field Type Description Required Default address Keyword The original client in a session that has changed clients. Some event client addresses are defined ambiguously. The event will sometimes list an IP, a domain or a unix socket. You should always store the raw address in the .address field.  Optional <code>None</code> autonomous_systems AS The original client in a session that has changed clients. Collection of connected Internal Protocol routing prefixes  Optional <code>None</code> bytes Integer The original client in a session that has changed clients. Bytes sent from the client to the server.  Optional <code>None</code> domain Domain The original client in a session that has changed clients. The domain name of the client system.  Optional <code>None</code> geo Geo The original client in a session that has changed clients. Geo fields can carry data about a specific location related to an event.  Optional <code>None</code> ip IP The original client in a session that has changed clients. IP address of the client (IPv4 or IPv6).  Optional <code>None</code> mac MAC The original client in a session that has changed clients. MAC address of the client.  Optional <code>None</code> nat Nat The original client in a session that has changed clients. Translated NAT sessions (e.g. internal client to internet).  Optional <code>None</code> packets Integer The original client in a session that has changed clients. Packets sent from the destination to the source.  Optional <code>None</code> port Integer The original client in a session that has changed clients. Port of the client.  Optional <code>None</code>"},{"location":"odm/class/os/","title":"Os","text":"Auto-Generated Documentation <p>This set of documentation is automatically generated from source, and will help ensure any change to functionality will always be documented and available on release.</p>"},{"location":"odm/class/os/#os","title":"OS","text":"<p>The OS fields contain information about the operating system.</p> Field Type Description Required Default family Keyword OS family (such as redhat, debian, freebsd, windows).  Optional <code>None</code> full Keyword Operating system name, including the version or code name.  Optional <code>None</code> kernel Keyword Operating system kernel version as a raw string.  Optional <code>None</code> name Keyword Operating system name, without the version.  Optional <code>None</code> platform Keyword Operating system platform (such centos, ubuntu, windows).  Optional <code>None</code> type Keyword Use the os.type field to categorize the operating system into one of the broad commercial families.  Optional <code>None</code> version Keyword Operating system version as a raw string.  Optional <code>None</code>"},{"location":"odm/class/parentemail/","title":"Parentemail","text":"Auto-Generated Documentation <p>This set of documentation is automatically generated from source, and will help ensure any change to functionality will always be documented and available on release.</p>"},{"location":"odm/class/parentemail/#parentemail","title":"ParentEmail","text":"<p>Metadata about the parent email.</p> Field Type Description Required Default bcc Address The email address of BCC recipient.  Optional <code>None</code> cc Address The email address of CC recipient.  Optional <code>None</code> from Address The email address of the sender, typically from the RFC 5322 From: header field.  Optional <code>None</code> message_id Keyword Identifier from the RFC 5322 Message-ID: email header that refers to a particular email message.  Optional <code>None</code> origination_timestamp Date The date and time the email message was composed.  Optional <code>None</code> subject Keyword A brief summary of the topic of the message.  Optional <code>None</code> to Address The email address of recipient.  Optional <code>None</code> source IP The ip the email originated from.  Optional <code>None</code> destination IP The ip the email was sent to.  Optional <code>None</code>"},{"location":"odm/class/parentparentprocess/","title":"Parentparentprocess","text":"Auto-Generated Documentation <p>This set of documentation is automatically generated from source, and will help ensure any change to functionality will always be documented and available on release.</p>"},{"location":"odm/class/parentparentprocess/#parentparentprocess","title":"ParentParentProcess","text":"<p>These fields contain information about a process.</p> Field Type Description Required Default args List [Keyword] Array of process arguments, starting with the absolute path to the executable.  Optional <code>None</code> args_count Integer Length of the process.args array.  Optional <code>None</code> code_signature CodeSignature Information about binary code signatures.  Optional <code>None</code> command_line Keyword Full command line that started the process, including the absolute path to the executable, and all arguments.  Optional <code>None</code> end Date The time the process ended.  Optional <code>None</code> entity_id Keyword OID Hash of the process.  Optional <code>None</code> entry_meta EntryMeta Process Meta Information.  Optional <code>None</code> env_vars Mapping [Keyword] Environment variables (env_vars) set at the time of the event. May be filtered to protect sensitive information.  Optional <code>None</code> executable Keyword Absolute path to the process executable.  Optional <code>None</code> exit_code Integer The exit code of the process, if this is a termination event.  Optional <code>None</code> hash Hashes Hashes, usually file hashes  Optional <code>None</code> interactive Boolean Whether the process is connected to an interactive shell.  Optional <code>None</code> name Keyword Process name.  Optional <code>None</code> pe PE Windows Portable Executable (PE) metadata.  Optional <code>None</code> pid Integer Process id.  Optional <code>None</code> same_as_process Boolean This boolean is used to identify if a leader process is the same as the top level process.  Optional <code>None</code> start Date The time the process started.  Optional <code>None</code> title Keyword Process title.  Optional <code>None</code> uptime Integer Seconds the process has been up.  Optional <code>None</code> user ShortUser The effective user (euid).  Optional <code>None</code> working_directory Keyword The working directory of the process.  Optional <code>None</code>"},{"location":"odm/class/parentprocess/","title":"Parentprocess","text":"Auto-Generated Documentation <p>This set of documentation is automatically generated from source, and will help ensure any change to functionality will always be documented and available on release.</p>"},{"location":"odm/class/parentprocess/#parentprocess","title":"ParentProcess","text":"<p>These fields contain information about a process.</p> Field Type Description Required Default args List [Keyword] Array of process arguments, starting with the absolute path to the executable.  Optional <code>None</code> args_count Integer Length of the process.args array.  Optional <code>None</code> code_signature CodeSignature Information about binary code signatures.  Optional <code>None</code> command_line Keyword Full command line that started the process, including the absolute path to the executable, and all arguments.  Optional <code>None</code> end Date The time the process ended.  Optional <code>None</code> entity_id Keyword OID Hash of the process.  Optional <code>None</code> entry_meta EntryMeta Process Meta Information.  Optional <code>None</code> env_vars Mapping [Keyword] Environment variables (env_vars) set at the time of the event. May be filtered to protect sensitive information.  Optional <code>None</code> executable Keyword Absolute path to the process executable.  Optional <code>None</code> exit_code Integer The exit code of the process, if this is a termination event.  Optional <code>None</code> hash Hashes Hashes, usually file hashes  Optional <code>None</code> interactive Boolean Whether the process is connected to an interactive shell.  Optional <code>None</code> name Keyword Process name.  Optional <code>None</code> parent ParentParentProcess Information about the parent process.  Optional <code>None</code> pe PE Windows Portable Executable (PE) metadata.  Optional <code>None</code> pid Integer Process id.  Optional <code>None</code> same_as_process Boolean This boolean is used to identify if a leader process is the same as the top level process.  Optional <code>None</code> start Date The time the process started.  Optional <code>None</code> title Keyword Process title.  Optional <code>None</code> uptime Integer Seconds the process has been up.  Optional <code>None</code> user ShortUser The effective user (euid).  Optional <code>None</code> working_directory Keyword The working directory of the process.  Optional <code>None</code>"},{"location":"odm/class/pe/","title":"Pe","text":"Auto-Generated Documentation <p>This set of documentation is automatically generated from source, and will help ensure any change to functionality will always be documented and available on release.</p>"},{"location":"odm/class/pe/#pe","title":"PE","text":"<p>These fields contain Windows Portable Executable (PE) metadata.</p> Field Type Description Required Default architecture Keyword CPU architecture target for the file.  Optional <code>None</code> company Keyword Internal company name of the file, provided at compile-time.  Optional <code>None</code> description Keyword Internal description of the file, provided at compile-time.  Optional <code>None</code> file_version Keyword Internal version of the file, provided at compile-time.  Optional <code>None</code> imphash Keyword A hash of the imports in a PE file.  Optional <code>None</code> original_file_name Keyword Internal name of the file, provided at compile-time.  Optional <code>None</code> pehash Keyword A hash of the PE header and data from one or more PE sections.  Optional <code>None</code> product Keyword Internal product name of the file, provided at compile-time.  Optional <code>None</code>"},{"location":"odm/class/previousprocess/","title":"Previousprocess","text":"Auto-Generated Documentation <p>This set of documentation is automatically generated from source, and will help ensure any change to functionality will always be documented and available on release.</p>"},{"location":"odm/class/previousprocess/#previousprocess","title":"PreviousProcess","text":"<p>These fields contain information about a previous process.</p> Field Type Description Required Default args List [Keyword] Array of process arguments, starting with the absolute path to the executable.  Optional <code>None</code> args_count Integer Length of the process.args array.  Optional <code>None</code> executable Keyword Absolute path to the process executable.  Optional <code>None</code>"},{"location":"odm/class/process/","title":"Process","text":"Auto-Generated Documentation <p>This set of documentation is automatically generated from source, and will help ensure any change to functionality will always be documented and available on release.</p>"},{"location":"odm/class/process/#process","title":"Process","text":"<p>These fields contain information about a process.</p> Field Type Description Required Default args List [Keyword] Array of process arguments, starting with the absolute path to the executable.  Optional <code>None</code> args_count Integer Length of the process.args array.  Optional <code>None</code> code_signature CodeSignature Information about binary code signatures.  Optional <code>None</code> command_line Keyword Full command line that started the process, including the absolute path to the executable, and all arguments.  Optional <code>None</code> end Date The time the process ended.  Optional <code>None</code> entity_id Keyword OID Hash of the process.  Optional <code>None</code> entry_meta EntryMeta Process Meta Information.  Optional <code>None</code> env_vars Mapping [Keyword] Environment variables (env_vars) set at the time of the event. May be filtered to protect sensitive information.  Optional <code>None</code> executable Keyword Absolute path to the process executable.  Optional <code>None</code> exit_code Integer The exit code of the process, if this is a termination event.  Optional <code>None</code> hash Hashes Hashes, usually file hashes  Optional <code>None</code> interactive Boolean Whether the process is connected to an interactive shell.  Optional <code>None</code> name Keyword Process name.  Optional <code>None</code> parent ParentProcess Information about the parent process.  Optional <code>None</code> pe PE Windows Portable Executable (PE) metadata.  Optional <code>None</code> pid Integer Process id.  Optional <code>None</code> same_as_process Boolean This boolean is used to identify if a leader process is the same as the top level process.  Optional <code>None</code> start Date The time the process started.  Optional <code>None</code> title Keyword Process title.  Optional <code>None</code> uptime Integer Seconds the process has been up.  Optional <code>None</code> user ShortUser The effective user (euid).  Optional <code>None</code> working_directory Keyword The working directory of the process.  Optional <code>None</code>"},{"location":"odm/class/project/","title":"Project","text":"Auto-Generated Documentation <p>This set of documentation is automatically generated from source, and will help ensure any change to functionality will always be documented and available on release.</p>"},{"location":"odm/class/project/#project","title":"Project","text":"<p>Project information.</p> Field Type Description Required Default id Keyword The cloud project identifier.  Optional  Deprecated - Instead of using this more general field, use a platform-specific field. For more information, see Disambiguated Cloud Ontology <code>None</code> name Keyword The cloud project name.  Optional  Deprecated - Instead of using this more general field, use a platform-specific field. For more information, see Disambiguated Cloud Ontology <code>None</code>"},{"location":"odm/class/registry/","title":"Registry","text":"Auto-Generated Documentation <p>This set of documentation is automatically generated from source, and will help ensure any change to functionality will always be documented and available on release.</p>"},{"location":"odm/class/registry/#registry","title":"Registry","text":"<p>Fields related to Windows Registry operations.</p> Field Type Description Required Default data RegistryData Fields related to data written to Windows Registry.  Optional <code>None</code> hive Keyword Abbreviated name for the hive.  Optional <code>None</code> key Keyword Hive-relative path of keys.  Optional <code>None</code> path Keyword Full path, including hive, key and value.  Optional <code>None</code> value Keyword Name of the value written.  Optional <code>None</code>"},{"location":"odm/class/registrydata/","title":"Registrydata","text":"Auto-Generated Documentation <p>This set of documentation is automatically generated from source, and will help ensure any change to functionality will always be documented and available on release.</p>"},{"location":"odm/class/registrydata/#registrydata","title":"RegistryData","text":"<p>Fields related to data written to Windows Registry.</p> Field Type Description Required Default bytes Keyword Original bytes written with base64 encoding.  Optional <code>None</code> strings List [Keyword] Content when writing string types.  Optional <code>None</code> type Keyword Standard registry type for encoding contents.  Optional <code>None</code>"},{"location":"odm/class/related/","title":"Related","text":"Auto-Generated Documentation <p>This set of documentation is automatically generated from source, and will help ensure any change to functionality will always be documented and available on release.</p>"},{"location":"odm/class/related/#related","title":"Related","text":"<p>This field set is meant to facilitate pivoting around a piece of data.</p> Field Type Description Required Default hash List [Keyword] All the hashes seen on your event. Populating this field, then using it to search for hashes can help in situations where you're unsure what the hash algorithm is (and therefore which key name to search).  Yes <code>[]</code> hosts List [Keyword] All hostnames or other host identifiers seen on your event. Example identifiers include FQDNs, domain names, workstation names, or aliases.  Yes <code>[]</code> ip List [IP] All of the IPs seen on your event.  Yes <code>[]</code> user List [Keyword] All the user names or other user identifiers seen on the event.  Yes <code>[]</code> ids List [Keyword] Any identifier that doesn't fit in other related fields like a GUID.  Yes <code>[]</code> id Keyword The id related to the event.  Optional <code>None</code> uri List [URI] All of the URIs related to the event.  Optional <code>None</code> signature List [Keyword] All the signatures/rules that were triggered by the event.  Optional <code>None</code>"},{"location":"odm/class/request/","title":"Request","text":"Auto-Generated Documentation <p>This set of documentation is automatically generated from source, and will help ensure any change to functionality will always be documented and available on release.</p>"},{"location":"odm/class/request/#request","title":"Request","text":"<p>These fields can represent errors of any kind.</p> Field Type Description Required Default body Body Defines the body of a request  Optional <code>None</code> bytes Integer Total size in bytes of the request (body and headers).  Optional <code>None</code> id Keyword A unique identifier for each HTTP request to correlate logs between clients and servers in transactions.  Optional <code>None</code> method Keyword HTTP request method.  Optional <code>None</code> mime_type Keyword Mime type of the body of the request.  Optional <code>None</code> referrer Keyword Referrer for this HTTP request.  Optional <code>None</code>"},{"location":"odm/class/response/","title":"Response","text":"Auto-Generated Documentation <p>This set of documentation is automatically generated from source, and will help ensure any change to functionality will always be documented and available on release.</p>"},{"location":"odm/class/response/#response","title":"Response","text":"<p>These fields can represent errors of any kind.</p> Field Type Description Required Default body Body Defines the body of a response  Optional <code>None</code> bytes Integer Total size in bytes of the request (body and headers).  Optional <code>None</code> mime_type Keyword Mime type of the body of the request.  Optional <code>None</code> status_code Integer HTTP response status code.  Optional <code>None</code>"},{"location":"odm/class/rule/","title":"Rule","text":"Auto-Generated Documentation <p>This set of documentation is automatically generated from source, and will help ensure any change to functionality will always be documented and available on release.</p>"},{"location":"odm/class/rule/#rule","title":"Rule","text":"<p>Rule fields are used to capture the specifics of any observer or agent rules that generate alerts or other notable events.</p> Field Type Description Required Default author Keyword Name, organization, or pseudonym of the author or authors who created the rule used to generate this event.  Optional <code>None</code> category Keyword A categorization value keyword used by the entity using the rule for detection of this event.  Optional <code>None</code> description Keyword The description of the rule generating the event.  Optional <code>None</code> id Keyword A rule ID that is unique within the scope of an agent, observer, or other entity using the rule for detection of this event.  Optional <code>None</code> license Keyword Name of the license under which the rule used to generate this event is made available.  Optional <code>None</code> name Keyword The name of the rule or signature generating the event.  Optional <code>None</code> reference Keyword Reference URL to additional information about the rule used to generate this event.  Optional <code>None</code> ruleset Keyword Name of the ruleset, policy, group, or parent category in which the rule used to generate this event is a member.  Optional <code>None</code> uuid Keyword A rule ID that is unique within the scope of a set or group of agents, observers, or other entities using the rule for detection of this event.  Optional <code>None</code> version Keyword The version / revision of the rule being used for analysis.  Optional <code>None</code>"},{"location":"odm/class/section/","title":"Section","text":"Auto-Generated Documentation <p>This set of documentation is automatically generated from source, and will help ensure any change to functionality will always be documented and available on release.</p>"},{"location":"odm/class/section/#section","title":"Section","text":"<p>Definition of an ELF file section.</p> Field Type Description Required Default chi2 Integer Chi-square probability distribution of the section.  Optional <code>None</code> entropy Integer Shannon entropy calculation from the section.  Optional <code>None</code> flags Keyword ELF Section List flags.  Optional <code>None</code> name Keyword ELF Section List name.  Optional <code>None</code> physical_offset Keyword ELF Section List offset.  Optional <code>None</code> physical_size Integer ELF Section List physical size.  Optional <code>None</code> type Keyword ELF Section List type.  Optional <code>None</code> virtual_address Integer ELF Section List virtual address.  Optional <code>None</code> virtual_size Integer ELF Section List virtual size.  Optional <code>None</code>"},{"location":"odm/class/segment/","title":"Segment","text":"Auto-Generated Documentation <p>This set of documentation is automatically generated from source, and will help ensure any change to functionality will always be documented and available on release.</p>"},{"location":"odm/class/segment/#segment","title":"Segment","text":"<p>Definition of an ELF file segment.</p> Field Type Description Required Default sections Keyword ELF object segment sections.  Optional <code>None</code> type Keyword ELF object segment type.  Optional <code>None</code>"},{"location":"odm/class/server/","title":"Server","text":"Auto-Generated Documentation <p>This set of documentation is automatically generated from source, and will help ensure any change to functionality will always be documented and available on release.</p>"},{"location":"odm/class/server/#server","title":"Server","text":"<p>A Server is defined as the responder in a network connection for events regarding sessions, connections, or bidirectional flow records.</p> Field Type Description Required Default ip IP IP address of the server (IPv4 or IPv6).  Optional <code>None</code> address Keyword Some event server addresses are defined ambiguously. The event will sometimes list an IP, a domain or a unix socket. You should always store the raw address in the .address field.  Optional <code>None</code> domain Keyword The domain name of the server system.  Optional <code>None</code>"},{"location":"odm/class/service/","title":"Service","text":"Auto-Generated Documentation <p>This set of documentation is automatically generated from source, and will help ensure any change to functionality will always be documented and available on release.</p>"},{"location":"odm/class/service/#service","title":"Service","text":"<p>Service information.</p> Field Type Description Required Default name Keyword The cloud service name is intended to distinguish services running on different platforms within a provider, eg AWS EC2 vs Lambda, GCP GCE vs App Engine, Azure VM vs App Server.  Optional <code>None</code>"},{"location":"odm/class/sharepoint/","title":"Sharepoint","text":"Auto-Generated Documentation <p>This set of documentation is automatically generated from source, and will help ensure any change to functionality will always be documented and available on release.</p>"},{"location":"odm/class/sharepoint/#sharepoint","title":"Sharepoint","text":"<p>None</p> Field Type Description Required Default created SharepointData Information about how the item was created.  Optional <code>None</code> modified SharepointData Information about how the item was modified.  Optional <code>None</code>"},{"location":"odm/class/sharepointdata/","title":"Sharepointdata","text":"Auto-Generated Documentation <p>This set of documentation is automatically generated from source, and will help ensure any change to functionality will always be documented and available on release.</p>"},{"location":"odm/class/sharepointdata/#sharepointdata","title":"SharepointData","text":"<p>None</p> Field Type Description Required Default application Keyword The associated application.  Optional <code>None</code> user Keyword The associated application.  Optional <code>None</code>"},{"location":"odm/class/sharepointuser/","title":"Sharepointuser","text":"Auto-Generated Documentation <p>This set of documentation is automatically generated from source, and will help ensure any change to functionality will always be documented and available on release.</p>"},{"location":"odm/class/sharepointuser/#sharepointuser","title":"SharepointUser","text":"<p>None</p> Field Type Description Required Default email Email The email of the sharepoint user associated with this item.  Optional <code>None</code> full_name Keyword The full name of the sharepoint user associated with this item.  Optional <code>None</code> id Keyword The id of the sharepoint user associated with this item.  Optional <code>None</code>"},{"location":"odm/class/shortgroup/","title":"Shortgroup","text":"Auto-Generated Documentation <p>This set of documentation is automatically generated from source, and will help ensure any change to functionality will always be documented and available on release.</p>"},{"location":"odm/class/shortgroup/#shortgroup","title":"ShortGroup","text":"<p>Shorter representation of a group.</p> Field Type Description Required Default id Keyword Unique identifier for the group on the system/platform.  Optional <code>None</code> name Keyword Name of the group.  Optional <code>None</code>"},{"location":"odm/class/shortuser/","title":"Shortuser","text":"Auto-Generated Documentation <p>This set of documentation is automatically generated from source, and will help ensure any change to functionality will always be documented and available on release.</p>"},{"location":"odm/class/shortuser/#shortuser","title":"ShortUser","text":"<p>Shorter representation of a user.</p> Field Type Description Required Default id Keyword Unique identifier of the user.  Optional <code>None</code> name Keyword Short name or login of the user.  Optional <code>None</code> domain Keyword Name of the directory the user is a member of.  Optional <code>None</code> email Email User email address.  Optional <code>None</code>"},{"location":"odm/class/software/","title":"Software","text":"Auto-Generated Documentation <p>This set of documentation is automatically generated from source, and will help ensure any change to functionality will always be documented and available on release.</p>"},{"location":"odm/class/software/#software","title":"Software","text":"<p>Information about the software used by this threat.</p> Field Type Description Required Default alias List [Keyword] The alias(es) of the software for a set of related intrusion activity that are tracked by a common name in the security community.  Optional <code>None</code> id Keyword The id of the software used by this threat to conduct behavior commonly modeled using MITRE ATT&amp;CK\u00ae.  Optional <code>None</code> name Keyword The name of the software used by this threat to conduct behavior commonly modeled using MITRE ATT&amp;CK\u00ae.  Optional <code>None</code> platform List [Keyword] The platforms of the software used by this threat to conduct behavior commonly modeled using MITRE ATT&amp;CK\u00ae.  Optional <code>None</code> reference Keyword The reference URL of the software used by this threat to conduct behavior commonly modeled using MITRE ATT&amp;CK\u00ae.  Optional <code>None</code> type Keyword The type of software used by this threat to conduct behavior commonly modeled using MITRE ATT&amp;CK\u00ae.  Optional <code>None</code>"},{"location":"odm/class/subtechnique/","title":"Subtechnique","text":"Auto-Generated Documentation <p>This set of documentation is automatically generated from source, and will help ensure any change to functionality will always be documented and available on release.</p>"},{"location":"odm/class/subtechnique/#subtechnique","title":"SubTechnique","text":"<p>Information about the subtechnique used by this threat.</p> Field Type Description Required Default id Keyword The id of subtechnique used by this threat.  Optional <code>None</code> name Keyword Name of the type of subtechnique used by this threat.  Optional <code>None</code> reference Keyword The reference url of subtechnique used by this threat.  Optional <code>None</code>"},{"location":"odm/class/tactic/","title":"Tactic","text":"Auto-Generated Documentation <p>This set of documentation is automatically generated from source, and will help ensure any change to functionality will always be documented and available on release.</p>"},{"location":"odm/class/tactic/#tactic","title":"Tactic","text":"<p>Information about the tactic used by this threat.</p> Field Type Description Required Default id Keyword The id of tactic used by this threat.  Optional <code>None</code> name Keyword Name of the type of tactic used by this threat.  Optional <code>None</code> reference Keyword The reference url of tactic used by this threat.  Optional <code>None</code>"},{"location":"odm/class/technique/","title":"Technique","text":"Auto-Generated Documentation <p>This set of documentation is automatically generated from source, and will help ensure any change to functionality will always be documented and available on release.</p>"},{"location":"odm/class/technique/#technique","title":"Technique","text":"<p>Information about the technique used by this threat.</p> Field Type Description Required Default id Keyword The id of technique  used by this threat.  Optional <code>None</code> name Keyword Name of the type of technique used by this threat.  Optional <code>None</code> reference Keyword The reference url of technique used by this threat.  Optional <code>None</code> subtechnique SubTechnique Information about the subtechnique used by this threat.  Optional <code>None</code>"},{"location":"odm/class/thread/","title":"Thread","text":"Auto-Generated Documentation <p>This set of documentation is automatically generated from source, and will help ensure any change to functionality will always be documented and available on release.</p>"},{"location":"odm/class/thread/#thread","title":"Thread","text":"<p>Thread Information.</p> Field Type Description Required Default id Integer Thread ID.  Optional <code>None</code> name Keyword Thread name.  Optional <code>None</code>"},{"location":"odm/class/threat/","title":"Threat","text":"Auto-Generated Documentation <p>This set of documentation is automatically generated from source, and will help ensure any change to functionality will always be documented and available on release.</p>"},{"location":"odm/class/threat/#threat","title":"Threat","text":"<p>Fields to classify events and alerts according to a threat taxonomy such as the MITRE ATT&amp;CK\u00ae framework.</p> Field Type Description Required Default enrichments List [Enrichments] None  Optional <code>None</code> feed Feed Threat feed information.  Optional <code>None</code> framework Keyword Name of the threat framework used to further categorize and classify the tactic and technique of the reported threat.  Optional <code>None</code> group Group Information about the group related to this threat.  Optional <code>None</code> indicator Indicator Object containing associated indicators enriching the event.  Optional <code>None</code> software Software Information about the software used by this threat.  Optional <code>None</code> tactic Tactic Information about the tactic used by this threat.  Optional <code>None</code> technique Tactic Information about the technique used by this threat.  Optional <code>None</code>"},{"location":"odm/class/tls/","title":"Tls","text":"Auto-Generated Documentation <p>This set of documentation is automatically generated from source, and will help ensure any change to functionality will always be documented and available on release.</p>"},{"location":"odm/class/tls/#tls","title":"TLS","text":"<p>A Server is defined as the responder in a network connection for events regarding sessions, connections, or bidirectional flow records.</p> Field Type Description Required Default version Keyword Numeric part of the version parsed from the original string.  Optional <code>None</code> version_protocol Keyword Normalized lowercase protocol name parsed from original string.  Optional <code>None</code> client Client None  Optional <code>None</code> server Server None  Optional <code>None</code>"},{"location":"odm/class/trigger/","title":"Trigger","text":"Auto-Generated Documentation <p>This set of documentation is automatically generated from source, and will help ensure any change to functionality will always be documented and available on release.</p>"},{"location":"odm/class/trigger/#trigger","title":"Trigger","text":"<p>Details about the function trigger.</p> Field Type Description Required Default request_id Keyword The ID of the trigger request , message, event, etc.  Optional <code>None</code> type Enum The trigger for the function execution.Values:<code>\"datasource\", \"http\", \"other\", \"pubsub\", \"timer\"</code>  Optional <code>None</code>"},{"location":"odm/class/tty/","title":"Tty","text":"Auto-Generated Documentation <p>This set of documentation is automatically generated from source, and will help ensure any change to functionality will always be documented and available on release.</p>"},{"location":"odm/class/tty/#tty","title":"TTY","text":"<p>Information about the controlling TTY device.</p> Field Type Description Required Default char_device CharDevice Information about the char device.  Optional <code>None</code>"},{"location":"odm/class/url/","title":"Url","text":"Auto-Generated Documentation <p>This set of documentation is automatically generated from source, and will help ensure any change to functionality will always be documented and available on release.</p>"},{"location":"odm/class/url/#url","title":"URL","text":"<p>URL fields provide support for complete or partial URLs, and supports the breaking down into scheme, domain, path, and so on.</p> Field Type Description Required Default domain Domain Domain of the url, such as \"www.elastic.co\".  Optional <code>None</code> extension Keyword The field contains the file extension from the original request url, excluding the leading dot.  Optional <code>None</code> fragment Keyword Portion of the url after the #, such as \"top\".  Optional <code>None</code> full Keyword If full URLs are important to your use case, they should be stored in url.full, whether this field is reconstructed or present in the event source.  Optional <code>None</code> original Keyword Unmodified original url as seen in the event source.  Optional <code>None</code> password Keyword Password of the request.  Optional <code>None</code> path Keyword Path of the request, such as \"/search\".  Optional <code>None</code> port Integer Port of the request, such as 443.  Optional <code>None</code> query Keyword The query field describes the query string of the request, such as \"q=elasticsearch\".  Optional <code>None</code> registered_domain Keyword The highest registered url domain, stripped of the subdomain.  Optional <code>None</code> scheme Keyword Scheme of the request, such as \"https\".  Optional <code>None</code> subdomain Keyword The subdomain portion of a fully qualified domain name includes all of the names except the host name under the registered_domain.  Optional <code>None</code> top_level_domain Keyword The effective top level domain (eTLD), also known as the domain suffix, is the last part of the domain name.  Optional <code>None</code> username Keyword Username of the request.  Optional <code>None</code>"},{"location":"odm/class/user/","title":"User","text":"Auto-Generated Documentation <p>This set of documentation is automatically generated from source, and will help ensure any change to functionality will always be documented and available on release.</p>"},{"location":"odm/class/user/#user","title":"User","text":"<p>The user fields describe information about the user that is relevant to the event.</p> Field Type Description Required Default domain Keyword Name of the directory the user is a member of.  Optional <code>None</code> email Email User email address.  Optional <code>None</code> full_name Keyword User's full name, if available.  Optional <code>None</code> group Group User's group relevant to the event.  Optional <code>None</code> hash Keyword Unique user hash to correlate information for a user in anonymized form.  Optional <code>None</code> id Keyword Unique identifier of the user.  Optional <code>None</code> name Keyword Short name or login of the user.  Optional <code>None</code> roles List [Keyword] Array of user roles at the time of the event.  Optional <code>[]</code>"},{"location":"odm/class/useragent/","title":"Useragent","text":"Auto-Generated Documentation <p>This set of documentation is automatically generated from source, and will help ensure any change to functionality will always be documented and available on release.</p>"},{"location":"odm/class/useragent/#useragent","title":"UserAgent","text":"<p>The user_agent fields normally come from a browser request.</p> Field Type Description Required Default device Device Information about the device.  Optional <code>None</code> name Keyword Name of the user agent.  Optional <code>None</code> original Keyword Unparsed user_agent string.  Optional <code>None</code> os OS OS fields contain information about the operating system.  Optional <code>None</code> version Keyword Version of the user agent.  Optional <code>None</code>"},{"location":"odm/class/usernested/","title":"Usernested","text":"Auto-Generated Documentation <p>This set of documentation is automatically generated from source, and will help ensure any change to functionality will always be documented and available on release.</p>"},{"location":"odm/class/usernested/#usernested","title":"UserNested","text":"<p>The user fields describe information about the user that is relevant to the event.</p> Field Type Description Required Default domain Keyword Name of the directory the user is a member of.  Optional <code>None</code> email Email User email address.  Optional <code>None</code> full_name Keyword User\u2019s full name, if available.  Optional <code>None</code> hash Keyword Unique user hash to correlate information for a user in anonymized form.  Optional <code>None</code> id Keyword Unique identifier of the user.  Optional <code>None</code> name Keyword Short name or login of the user.  Optional <code>None</code> roles List [Keyword] Array of user roles at the time of the event.  Optional <code>[]</code>"},{"location":"odm/class/votes/","title":"Votes","text":"Auto-Generated Documentation <p>This set of documentation is automatically generated from source, and will help ensure any change to functionality will always be documented and available on release.</p>"},{"location":"odm/class/votes/#votes","title":"Votes","text":"<p>Votes for the hit</p> Field Type Description Required Default benign List [Keyword] List of users who voted benign.  Yes <code>[]</code> obscure List [Keyword] List of users who voted obscure.  Yes <code>[]</code> malicious List [Keyword] List of users who voted malicious.  Yes <code>[]</code>"},{"location":"odm/class/vulnerability/","title":"Vulnerability","text":"Auto-Generated Documentation <p>This set of documentation is automatically generated from source, and will help ensure any change to functionality will always be documented and available on release.</p>"},{"location":"odm/class/vulnerability/#vulnerability","title":"Vulnerability","text":"<p>The user_agent fields normally come from a browser request.</p> Field Type Description Required Default category List [Keyword] The type of system or architecture that the vulnerability affects. These may be platform-specific (for example, Debian or SUSE) or general (for example, Database or Firewall).  Optional <code>None</code> classification Keyword The classification of the vulnerability scoring system. For example (https://www.first.org/cvss/)  Optional <code>None</code> description Keyword The description of the vulnerability that provides additional context of the vulnerability.  Optional <code>None</code> enumeration Keyword The type of identifier used for this vulnerability.  Optional <code>None</code> id Keyword The identification (ID) is the number portion of a vulnerability entry. It includes a unique identification number for the vulnerability.  Optional <code>None</code> reference Keyword A resource that provides additional information, context, and mitigations for the identified vulnerability.  Optional <code>None</code> report_id Keyword The report or scan identification number.  Optional <code>None</code>"},{"location":"overview/architecture/","title":"System Architecture","text":""},{"location":"overview/architecture/#system-architecture","title":"System Architecture","text":"<p>Here's the system architecture</p>"},{"location":"overview/detection_engineers/","title":"Detection Engineers","text":""},{"location":"overview/detection_engineers/#detection-engineers","title":"Detection Engineers","text":"<p>You have just written an analytic that detects some suspicious activity and you would like your Security Operations Center (SOC) to benefit from it. In Howler, an event of interest is called a hit. The term alert is reserved for hits that require triage.</p> <p>To create a new hit, produce a JSON object in which you have normalized the event data to Elastic Common Schema (ECS). We do this so that triage analysts have a single schema to learn regardless of the source of alerts - this will make their job much easier.</p>"},{"location":"overview/detection_engineers/#howler-specific-fields","title":"Howler-Specific Fields","text":"<p>Next, you need to populate some fields specific to Howler:</p>"},{"location":"overview/detection_engineers/#required-fields","title":"Required Fields","text":"Field Description Notes <code>howler.analytic</code> The actual product doing detection. Some analytics will run many distinct detections. Must contain only letters and spaces for best practices"},{"location":"overview/detection_engineers/#auto-generated-fields","title":"Auto-Generated Fields","text":"<p>These fields are automatically populated by Howler if not provided:</p> Field Description Default Behavior <code>howler.id</code> A unique identifier for the hit Automatically generated UUID <code>howler.hash</code> A hash used for deduplicating hits Auto-generated from analytic, detection, and raw data if not provided <code>event.created</code> Timestamp when the event was created Set to current time if not provided"},{"location":"overview/detection_engineers/#recommended-fields","title":"Recommended Fields","text":"<p>While not strictly required, these fields are strongly recommended for effective triage:</p> Field Description Default Notes <code>howler.detection</code> A short, unique identifier for the specific detection None Should contain only letters and spaces for best practices <code>howler.outline.threat</code> The identifier that best represents the attacker None Could be an IP, email address, etc. <code>howler.outline.target</code> The identifier that best represents the victim None An IP, domain, email address, etc. <code>howler.outline.indicators</code> A free-form list of indicators of compromise (IoC) Empty list Typically IPs, domains, and hashes <code>howler.outline.summary</code> An executive summary explaining the detected activity None Describe the event assuming the detection is correct <code>howler.data</code> A list of raw event data before normalization Empty list Makes it easier for analysts to investigate outside of Howler <code>howler.escalation</code> The escalation level of the hit <code>hit</code> Valid values: <code>miss</code>, <code>hit</code>, <code>alert</code>, <code>evidence</code> <code>howler.status</code> The current status of the hit <code>open</code> Valid values: <code>open</code>, <code>in-progress</code>, <code>on-hold</code>, <code>resolved</code> <code>howler.scrutiny</code> Level of scrutiny applied to the hit <code>unseen</code> Valid values: <code>unseen</code>, <code>surveyed</code>, <code>scanned</code>, <code>inspected</code>, <code>investigated</code>"},{"location":"overview/detection_engineers/#escalation-levels","title":"Escalation Levels","text":"<p>Howler uses escalation levels (<code>howler.escalation</code>) to categorise hits:</p> <ul> <li><code>miss</code> - The event is assessed to not be related to detection (false-positive).</li> <li><code>hit</code> - (default) The event might not be very reliable without additional context.</li> <li><code>alert</code> - The event should be assessed by a triage analyst.</li> <li><code>evidence</code> - The event was assessed as related to the detection (true-positive).</li> </ul> <p>You may promote some hits to alert immediately at creation time if the expectation is that all hits will be worth triaging.</p> <p>Once you have completed the JSON object, use the Howler client to create a new hit. That hit will be immediately available to triage analysts from the Howler UI.</p>"},{"location":"overview/detection_engineers/#example-creating-a-hit","title":"Example: Creating a Hit","text":"<p>First, ensure you have the Howler client installed and some way to authenticate with Howler (see Authentication &amp; Connection for details).</p> <pre><code>from howler_client import get_client\nfrom hashlib import sha256\n\n# Connect to Howler\nclient = get_client(\"https://your-howler-instance.com\", apikey=(USERNAME, APIKEY))\n\n# Create a hit\nhit = {\n    \"howler\": {\n        \"analytic\": \"Suspicious Login Detector\",\n        \"detection\": \"Spike in Failed Logins\",\n        \"hash\": sha256(b\"user123-2024-10-22-failed-logins\").hexdigest(),\n        \"escalation\": \"alert\",  # Promote to alert for triage\n        \"outline\": {\n            \"threat\": \"203.0.113.42\",\n            \"target\": \"user123@example.com\",\n            \"indicators\": [\"203.0.113.42\"],\n            \"summary\": \"User account experienced 15 failed login attempts from a single IP in 5 minutes\",\n        },\n        \"data\": [{\"raw_event\": \"original_log_data_here\"}],\n    },\n    \"source\": {\"ip\": \"203.0.113.42\"},\n    \"user\": {\"email\": \"user123@example.com\"},\n    \"event\": {\"category\": [\"authentication\"], \"outcome\": \"failure\"},\n}\n\nresponse = client.hit.create(hit)\nprint(f\"Created hit: {response['valid'][0]['id']}\")\n</code></pre> <p>For more examples and detailed usage, see the Client Development Guide.</p>"},{"location":"overview/detection_engineers/#bundles","title":"Bundles","text":"<p>A bundle is a logical grouping of hits that should be assessed together. For example, if a series of multiple hits happen on the same host within a short window of time, a triage analyst should perform a single investigation that takes them all into account. The Howler UI provides a workflow for intuitively working with these bundles.</p> <p>Bundles are implemented as special hits that have the <code>howler.is_bundle</code> field set to true, and <code>howler.hits</code> contains a list of <code>howler.id</code> values from the child hits. This means that analytics can be created to look for related hits and bundle them together.</p> Creating Bundles <p>Do not manually set <code>howler.is_bundle</code> or <code>howler.hits</code> fields when creating hits. Bundles must be created through the bundle API endpoint to ensure proper validation and relationship management. Attempting to create a bundle by directly setting these fields may result in inconsistent state or validation errors.</p>"},{"location":"overview/detection_engineers/#creating-a-bundle-programmatically","title":"Creating a Bundle Programmatically","text":"<p>Detection engineers should create bundles through the Howler client's bundle API rather than relying on automatic creation. This gives you explicit control over which hits are grouped together.</p>"},{"location":"overview/detection_engineers/#example-1-create-a-bundle-with-new-hits","title":"Example 1: Create a Bundle with New Hits","text":"<p>This example creates a bundle and its child hits in a single operation:</p> <pre><code>from howler_client import get_client\n\nclient = get_client(\"https://your-howler-instance.com\", apikey=(USERNAME, APIKEY))\n\n# Define the bundle hit\nbundle_hit = {\n    \"howler\": {\n        \"analytic\": \"Multi-Stage Attack Detector\",\n        \"detection\": \"Credential Access Chain\",\n        \"outline\": {\n            \"threat\": \"192.168.1.100\",\n            \"target\": \"corporate-server-01\",\n            \"summary\": \"Multiple related suspicious activities detected on the same host\",\n        },\n    },\n}\n\n# Define child hits\nchild_hits = [\n    {\n        \"howler\": {\n            \"analytic\": \"Multi-Stage Attack Detector\",\n            \"detection\": \"Unusual Process\",\n            \"outline\": {\n                \"threat\": \"192.168.1.100\",\n                \"target\": \"corporate-server-01\",\n                \"indicators\": [\"suspicious.exe\"],\n                \"summary\": \"Suspicious process execution detected\",\n            },\n        },\n    },\n    {\n        \"howler\": {\n            \"analytic\": \"Multi-Stage Attack Detector\",\n            \"detection\": \"Registry Modification\",\n            \"outline\": {\n                \"threat\": \"192.168.1.100\",\n                \"target\": \"corporate-server-01\",\n                \"indicators\": [\"HKLM\\\\Software\\\\Persistence\"],\n                \"summary\": \"Persistence mechanism added to registry\",\n            },\n        },\n    },\n]\n\n# Create the bundle with its children\nresponse = client.bundle.create(bundle_hit, child_hits)\nprint(f\"Created bundle: {response['howler']['id']}\")\nprint(f\"Contains {len(response['howler']['hits'])} child hits\")\n</code></pre>"},{"location":"overview/detection_engineers/#example-2-create-a-bundle-from-existing-hits","title":"Example 2: Create a Bundle from Existing Hits","text":"<p>If you've already created individual hits and want to group them later:</p> <pre><code># Search for related hits\nrelated_hits = client.search.hit('source.ip:\"192.168.1.100\" AND event.created:[now-1h TO now]')\n\n# Extract the hit IDs\nhit_ids = [hit[\"howler\"][\"id\"] for hit in related_hits[\"items\"]]\n\n# Create a bundle from existing hits\nbundle_hit = {\n    \"howler\": {\n        \"analytic\": \"Correlation Engine\",\n        \"detection\": \"Related Activity\",\n        \"hits\": hit_ids,  # Reference existing hit IDs\n        \"outline\": {\n            \"threat\": \"192.168.1.100\",\n            \"summary\": f\"Bundle of {len(hit_ids)} related events from the same source\",\n        },\n    },\n}\n\nresponse = client.bundle.create(bundle_hit)\nprint(f\"Created bundle with {len(response['howler']['hits'])} existing hits\")\n</code></pre>"},{"location":"overview/detection_engineers/#example-3-add-or-remove-hits-from-a-bundle","title":"Example 3: Add or Remove Hits from a Bundle","text":"<p>You can modify bundles after creation:</p> <pre><code>bundle_id = \"existing-bundle-id\"\n\n# Add hits to an existing bundle\nnew_hit_ids = [\"hit-id-1\", \"hit-id-2\"]\nclient.bundle.add(bundle_id, new_hit_ids)\n\n# Remove hits from a bundle\nclient.bundle.remove(bundle_id, [\"hit-id-to-remove\"])\n\n# Remove all hits from a bundle\nclient.bundle.remove(bundle_id, \"*\")\n</code></pre>"},{"location":"overview/detection_engineers/#when-to-create-bundles","title":"When to Create Bundles","text":"<p>Detection engineers should create bundles when:</p> <ul> <li>Multiple detections are part of the same attack chain - e.g., initial access, persistence, and data exfiltration   from the same actor</li> <li>Events occur in temporal proximity - Related events happening on the same host within a short time window</li> <li>Correlated indicators - Multiple hits sharing common indicators (IPs, file hashes, etc.)</li> <li>Kill chain analysis - Mapping multiple detections to stages of an attack framework</li> </ul> <p>Bundles help triage analysts see the full picture and make more informed decisions about the overall threat.</p>"},{"location":"overview/detection_engineers/#analytics-page","title":"Analytics Page","text":"<p>The Analytics section of the Howler UI provides a support page for analytics and individual detections. It contains useful information for both the author of a analytic or detection as well as the triage analysts who are investigating the hits.</p>"},{"location":"overview/detection_engineers/#overview","title":"Overview","text":"<p>Here, you are encouraged to provide documentation of your analytic in Markdown. This should provide more details about how the analytic or detection works, what it's looking for and how to validate the hits.</p> <p>Metrics are automatically generated to give insights on the performance. A very high false-positive rate might be a sign that detection needs improvement. On the other hand, a high true-positive rate might warrant that hits be automatically promoted to alerts.</p>"},{"location":"overview/detection_engineers/#comments","title":"Comments","text":"<p>In this tab, users can leave feedback about an analytic or detection. Consider this your end-user's line of communication with you.</p>"},{"location":"overview/detection_engineers/#hit-comments","title":"Hit Comments","text":"<p>From here, you can review all of the comments left on specific hits to better understand what triage analysts are signaling to each other.</p>"},{"location":"overview/detection_engineers/#notebooks","title":"Notebooks","text":"<p>If your triage analysts are frequently needing to investigate alerts outside of Howler, you can link to a Jupyter Notebook. That means a button will appear in the Howler UI. When a user clicks the button, they will be taken to JupyterHub with the specified Notebook open and the specific hit loaded, allowing the queries to be pre-populated with relevant values.</p>"},{"location":"overview/detection_engineers/#triage-settings","title":"Triage Settings","text":"<p>Configure which assessment options are valid for your analytic. For example, if your analytic only detects malicious activity, you might limit assessments to <code>compromise</code>, <code>attempt</code>, or <code>mitigated</code> - excluding options like <code>false-positive</code> or <code>legitimate</code> that don't make sense for your detection logic.</p> <p>This helps guide analysts toward appropriate assessments and maintains consistency in how hits are triaged.</p>"},{"location":"overview/detection_engineers/#related-documentation","title":"Related Documentation","text":"<ul> <li>Client Development Guide - Comprehensive guide on using the Howler Python   client, including installation, authentication, and advanced hit operations</li> <li>Elastic Common Schema (ECS) - Official Elastic   documentation for the ECS field reference and guidelines</li> <li>Hit Schema Reference - View the complete Howler hit schema in your Howler instance under Help \u2192 Hit Schema</li> <li>API Documentation - Interactive API documentation for your Howler   instance (replace with your actual URL)</li> </ul>"},{"location":"overview/triage_analysts/","title":"Triage Analysts","text":""},{"location":"overview/triage_analysts/#triage-analysts","title":"Triage Analysts","text":"<p>Howler is designed to consolidate alerts from all sources, and differentiates those that require triage from those that might not. Detection engineers are expected to normalize the alerts, so that they can all be looked up and compared with a common schema: Elastic Common Schema (ECS). By putting all of the alerts in one place under one schema, it's much easier to find correlating events that warrant scrutiny from a triage analyst. For example, an analyst can easily find all alerts related to a given source IP with a single filter criteria regardless of the schema of the original telemetry.</p> <p>Howler demands that detection engineers explicitly outline the who, what, when, where and why for each alert they produce. This means that triage analysts aren't presented with cryptic alerts that provide no clue how to validate them. For example, the threat and target fields make it clear who is attacking whom.</p> <p>The next big improvement offered by Howler is customization. Each type of event can have a custom presentation, so we don't flood the triage analyst's screen with unimportant information or leave important details tucked away behind multiple clicks. For example, with some alerts, the HTTP referrer field might be critical, but in others it may be meaningless.</p> <p>Howler supports automation through matching alerts to filters. If a new alert matches the prepared filter, the specified actions will automatically be carried out. These include prioritization, tagging and assessments to name a few. If an analyst keeps seeing alerts for the same sys-admin script that they know is legitimate activity, they might add an action to apply a \"sys-admin\" tag to alerts that match a carefully tailored filter. Then, they might decide to automatically assess any alert with a \"sys-admin\" tag as \"legitimate\" to avoid wasting effort triaging them.</p> <p>All of these capabilities combine to provide triage teams with a comprehensive suite of tools that enable them to process more alerts in greater detail.</p>"},{"location":"overview/triage_analysts/#hits","title":"Hits","text":"<p>A lot of detected events are only weak-indicators and aren't worth the effort to triage individually, so we refer to them as hits. Howler uses the term alert to describe the subset that should be triaged. Any that are assessed as inaccurate (false-positive) can be demoted to miss while those that are assess as accurate are promoted to evidence.</p> <p>Their continuum of escalation is as such: miss -&gt; hit -&gt; alert -&gt; evidence</p> <p>In most cases, triage analysts are concerned with alerts, which they promote to evidence or demote to a miss. To review alerts, a triage analyst navigates to the Alerts page from the left side-bar. There, they are presented with a filter box. The syntax for the filter is Lucene. The schema of the data is Elastic Common Schema (ECS).</p> <p>To filter for a certain escalation, filter on <code>howler.escalation</code>. For example, to look at alerts, write: <code>howler.escalation: alert</code>.</p>"},{"location":"overview/triage_analysts/#hit-cards","title":"Hit Cards","text":"<p>The Howler UI displays an abbreviated version of each hit as a card. This is designed in a way to reduce the amount of effort required for a triage analyst to understand the nature of the hit and its context.</p>"},{"location":"overview/triage_analysts/#banner","title":"Banner","text":"<p>The banner at the top of each hit provides standardized context addressing the who, what, when, where and why.</p>"},{"location":"overview/triage_analysts/#title","title":"Title","text":"<p>The title on the card is the analytic and detection that created the hit. The software product that created the hit is called the analytic. The logic finding and selecting specific events is called the detection. One analytic can have many detections. These two concepts are expressed in the <code>howler.analytic</code> and <code>howler.detection</code> fields.</p> <p>You can filter for hits belonging to a specific detection. For example, to look at hits produced by a detection called \"User Creds Beacon\", write: <code>howler.detection: \"User Creds Beacon\"</code>.</p>"},{"location":"overview/triage_analysts/#icon","title":"Icon","text":"<p>The name represents the affected organization, department or team. It is stored in <code>organization.name</code>. The left of the banner is coloured based on the event collection mechanism. This is determined by the <code>event.provider</code> field. The picture represents the Mitre ATT&amp;CK Framework specified in <code>threat.tactic.id</code> or <code>threat.technique.id</code>.</p> <p>For more information on how these fields are populated by detection engineers, see the Detection Engineers guide.</p>"},{"location":"overview/triage_analysts/#status","title":"Status","text":"<p>To the right of the banner is the status. This has a timestamp, the user the hit is assigned to and the escalation for the hit. Additionally, if other users are currently reviewing this hit, their icon will appear in this section.</p>"},{"location":"overview/triage_analysts/#context","title":"Context","text":"<p>The lower part of the banner provides the key aspects of context needed to understand the hit.</p>"},{"location":"overview/triage_analysts/#threat","title":"Threat","text":"<p>The identifier that best represents the attacker. This could be an IP, email address, etc... Use this to find other hits that appear to come from the same attacker. (<code>howler.outline.threat</code>)</p>"},{"location":"overview/triage_analysts/#target","title":"Target","text":"<p>The identifier that best represents the victim. This could be an IP, email address, etc... Use this to find other hits that appear to affect the same victim. (<code>howler.outline.target</code>)</p>"},{"location":"overview/triage_analysts/#indicators","title":"Indicators","text":"<p>A free-form list of indicators of compromise (IoC). These are typically IPs, domains and hashes. Use this to find related attacks based on their infrastructure and tactics. (<code>howler.outline.indicators</code>)</p>"},{"location":"overview/triage_analysts/#summary","title":"Summary","text":"<p>An executive summary explaining the activity that is being detected. When assessing a hit, you are try to corroborate or refute this very statement. (<code>howler.outline.summary</code>)</p>"},{"location":"overview/triage_analysts/#details","title":"Details","text":"<p>This section can show additional metadata contained in an alert. The fields shown should be the ones that are most important for making an assessment of that particular detection.</p>"},{"location":"overview/triage_analysts/#templates","title":"Templates","text":"<p>Templates are the mechanism used to customize which fields are displayed in a hit card's details section. On the top right of the details section of a hit card is an icon specifying whether you are currently viewing a global or personal template. Clicking on this icon will allow you to modify the template.</p> <p>Here you can specify whether you are creating a template for all hits from a given analytic, or optionally, that it is only for hits from a specific detection.</p> <p>You can make it a personal template that only affects the hit cards you're seeing. This will override any global template.  If you make your template global, it will affect the template of any user who hasn't created a personal template.</p> <p>When designing a template, you can add or delete any field found in the hit's metadata. All those present will be displayed in the details of hits matching from the analytic or detection. Avoid adding fields that aren't necessary for an assessment as they will slow down the rate at which analysts can interpret the hit card.</p>"},{"location":"overview/triage_analysts/#dossier","title":"Dossier","text":"<p>Clicking on a hit card will open its dossier on the right side of the Howler UI. A series of tabs provide additional information about a given hit. At the top is the same banner found at the top of a hit card. If the detection engineer has provided integration with external tools, their button (image) will appear below the banner.</p>"},{"location":"overview/triage_analysts/#comments","title":"Comments","text":"<p>This section allows you to write comments for yourself or colleagues.</p>"},{"location":"overview/triage_analysts/#json","title":"JSON","text":"<p>This will show you a JSON representation of the hit's metadata, including all fields that the detection engineer mapped to ECS.</p>"},{"location":"overview/triage_analysts/#raw-data","title":"Raw Data","text":"<p>This is the raw event that was identified by the detection. This will be a list of events if multiple are involved. Use this if you need to continue your investigation outside of Howler. It will show the original field names before mapping to ECS, so that you're able to build the right queries.</p>"},{"location":"overview/triage_analysts/#worklog","title":"Worklog","text":"<p>All changes made to a given hit are logged here.</p>"},{"location":"overview/triage_analysts/#related-links","title":"Related Links","text":"<p>These are provided if they offer additional useful context that couldn't be integrated with Howler.</p>"},{"location":"overview/triage_analysts/#controls","title":"Controls","text":"<p>At the bottom of the dossier are a series of controls that allow analysts affect hits in various ways.</p>"},{"location":"overview/triage_analysts/#manage","title":"Manage","text":"<ul> <li>Promote: Go from hit to alert</li> <li>Demote: Go from alert to hit</li> <li>Assign To Me: Signal to others that you will assess this hit.</li> <li>Delegate: Signal to an individual or team that they should assess this hit.</li> <li>Release: Return this hit to unassigned.</li> <li>Pause: Signal that you are delaying your assessment.</li> <li>Resume: Signal you are once again working on your assessment.</li> </ul> <p>The options here change based on the current state of a hit, so you will only see a few choices at any given moment.</p>"},{"location":"overview/triage_analysts/#assess","title":"Assess","text":"<p>This is where you can indicate a final verdict for your investigation. (<code>howler.assessment</code>)</p> <ul> <li>Ambiguous: There wasn't enough information to make an assessment.</li> <li>Security: The event is authorized cyber-security activity like training exercises.</li> <li>Development: The hit is for development purposes and should be ignored.</li> <li>False-Positive: The event is not indicative of the circumstances the detection is looking for.</li> <li>Legitimate: The event is authorized activity.</li> <li>Trivial: The impact of the event is not significant enough to merit mitigation.</li> <li>Recon: The event represents reconnaissance, but does not pose an imminent threat.</li> <li>Attempt: The event represents an attempted attack that doesn't appear to have succeeded.</li> <li>Compromise: The event represents a successful compromise that must be mitigated.</li> <li>Mitigated: The event represents a successful compromise for which mitigating action is underway.</li> </ul> <p>Rationale: Once you add an assessment, you're asked to provide a rationale as free-form text. This is a quick summary explaining to your colleagues, or your future-self, why you have confidence in that assessment. (<code>howler.rationale</code>)</p>"},{"location":"overview/triage_analysts/#vote","title":"Vote","text":"<p>In instances where an analyst doesn't have enough information to make a confident assessment, but they they have a \"gut feeling\" about the event, they can place a vote. It's up to the triage team to decide how they use the votes, but one suggestions could be that a consensus in votes can be used to make an assessment. (<code>howler.votes.benign/obscure/malicious</code>)</p>"},{"location":"overview/triage_analysts/#views","title":"Views","text":"<p>Writing filters can be time consuming. Triage analysts often need to use the same filters for their workflow. Howler streamlines this through views. After writing a filter, click the heart icon to the right of the filter and specify a name. Now that view can be accessed from the View Manager on the left side-bar. If you click on the star to the right of a filter here, it will appear under Saved Views in the left side-bar.</p>"},{"location":"overview/triage_analysts/#global-views","title":"Global Views","text":"<p>Members of a team often rely on the same filters. By specifying a view as global during it's creation, other users will see this view in the Global Views page under the GLOBAL filter.</p>"},{"location":"overview/triage_analysts/#bundles","title":"Bundles","text":"<p>In instances where multiple events appear to be related to each-other, they can be packaged together as a bundle. This is a special type of hit that points to other hits. They can be identified by the <code>howler.is_bundle:true</code> filter. The related hits can be found in the <code>howler.hits</code> list which contains the <code>howler.id</code> value of each.</p> <p>For more information on creating and managing bundles programmatically, see the Bundles ingestion guide.</p> <p>When a triage analysts clicks on a bundle's card, the banner for the bundle is moved above the filter bar and the bundle hits' cards are displayed under the filter bar. Any filter provided will only apply to the hits associated with the bundle.</p> <p>Any controls used on the bundle will automatically be propagated to its related hits.</p> <p>A good example of hits you'd want to bundle would be a sequence of hits occurring on the same host within a short window of time. Individually, those hits might be far too unreliable to consider triaging them, but with the added context that several of them happening on the same host in a short time window, it would be reasonable to automatically promote the bundle to alert to ensure someone triages it. By bundling them, we ensure that not only does a triage analyst review the host, but knows of all other potentially related activity taking place.</p>"},{"location":"overview/triage_analysts/#bundle-summary","title":"Bundle Summary","text":"<p>Bundles have an additional tab in the bundle's dossier called Summary. If you click the Create Summary button, it will count the distinct values of each field of the hits. Use this to get an idea of the overall situation.</p>"},{"location":"overview/triage_analysts/#related-documentation","title":"Related Documentation","text":"<ul> <li>Detection Engineers Guide - Understand how alerts are created and what fields detection   engineers populate to help you triage effectively</li> <li>Lucene Query Syntax - Reference for writing   filters and searches in Howler</li> <li>Elastic Common Schema (ECS) - Official documentation   for the field schema used across all alerts in Howler</li> <li>Data Ontology - Comprehensive reference for all Howler-specific fields and data   structures</li> </ul>"},{"location":"fr/","title":"Accueil","text":""},{"location":"fr/developer/backend/","title":"Proc\u00e9dure d'installation","text":""},{"location":"fr/developer/backend/#procedure-dinstallation","title":"Proc\u00e9dure d'installation","text":"D\u00e9pendances syst\u00e8me <p>Avant d'ex\u00e9cuter ces \u00e9tapes, assurez-vous d'avoir compl\u00e9t\u00e9 les \u00e9tapes d'installation pour les d\u00e9pendances backend.</p> <p>L'ex\u00e9cution du serveur Howler, une fois les d\u00e9pendances install\u00e9es, est assez simple. Tout d'abord, nous d\u00e9marrons les d\u00e9pendances. Celles-ci incluent :</p> <ol> <li>Elasticsearch 8</li> <li>Une instance Redis</li> <li>Une instance Minio</li> <li>Keycloak (pour l'authentification OAuth)</li> </ol> <pre><code>cd ~/repos/howler/api/dev\ndocker compose up\n</code></pre> <p>Maintenant, nous installons les packages Python dont Howler d\u00e9pend en utilisant Poetry :</p> <pre><code>cd ~/repos/howler/api\n\n# Installer poetry si vous ne l'avez pas\npython3 -m pip install poetry\n\n# Configurer poetry pour cr\u00e9er le virtualenv dans le r\u00e9pertoire du projet\npoetry config virtualenvs.in-project true\n\n# Installer les d\u00e9pendances (incluant les d\u00e9pendances de test)\npoetry install --with test\n</code></pre> <p>Nous devons configurer quelques dossiers sur le syst\u00e8me que Howler utilisera :</p> <pre><code>sudo mkdir -p /etc/howler/conf\nsudo mkdir -p /etc/howler/lookups\nsudo mkdir -p /var/log/howler\n\nsudo chown -R $USER /etc/howler\nsudo chown -R $USER /var/log/howler\n</code></pre> <p>Ensuite, nous initialisons les configurations :</p> <pre><code># Copier les fichiers de configuration\ncp build_scripts/classification.yml /etc/howler/conf/classification.yml\ncp build_scripts/mappings.yml /etc/howler/conf/mappings.yml\ncp test/unit/config.yml /etc/howler/conf/config.yml\n\n# G\u00e9n\u00e9rer les lookups MITRE ATT&amp;CK\npoetry run mitre /etc/howler/lookups\n\n# G\u00e9n\u00e9rer les r\u00e8gles Sigma\npoetry run sigma\n</code></pre> <p>Cr\u00e9er des utilisateurs par d\u00e9faut pour les tests :</p> <pre><code>poetry run python howler/odm/random_data.py users\n</code></pre> <p>Finalement, nous pouvons ex\u00e9cuter Howler !</p> <pre><code>poetry run server\n# Ou alternativement : poetry run python howler/app.py\n</code></pre> <p>Le serveur API d\u00e9marrera sur <code>http://localhost:5000</code> par d\u00e9faut.</p>"},{"location":"fr/developer/client/","title":"D\u00e9veloppement du client","text":""},{"location":"fr/developer/client/#developpement-du-client","title":"D\u00e9veloppement du client","text":""},{"location":"fr/developer/client/#introduction","title":"Introduction","text":"<p>Le client Python Howler (<code>howler-client</code>) est une biblioth\u00e8que qui fournit une interface simple et intuitive pour interagir de mani\u00e8re programmatique avec l'API Howler. Il permet aux d\u00e9veloppeurs de :</p> <ul> <li>Cr\u00e9er et ing\u00e9rer des hits provenant de diverses sources de donn\u00e9es</li> <li>Rechercher et interroger des hits avec la syntaxe Lucene</li> <li>Mettre \u00e0 jour, modifier et supprimer des hits</li> <li>G\u00e9rer les commentaires et m\u00e9tadonn\u00e9es des hits</li> <li>Int\u00e9grer Howler dans des flux de travail et pipelines automatis\u00e9s</li> </ul> <p>Le client g\u00e8re l'authentification, le formatage des requ\u00eates et l'analyse des r\u00e9ponses, facilitant ainsi la cr\u00e9ation d'outils et d'int\u00e9grations avec Howler.</p> <p>Le package est publi\u00e9 sur PyPI et le code source se trouve dans le dossier <code>client/</code> du monorepo Howler.</p>"},{"location":"fr/developer/client/#installation","title":"Installation","text":"<p>Le client Howler n\u00e9cessite Python 3.10 ou sup\u00e9rieur. Installez-le avec pip :</p> <pre><code>pip install howler-client\n</code></pre>"},{"location":"fr/developer/client/#authentification-et-connexion","title":"Authentification et connexion","text":""},{"location":"fr/developer/client/#generer-une-cle-api","title":"G\u00e9n\u00e9rer une cl\u00e9 API","text":"<p>Pour vous authentifier avec l'API Howler, vous devrez g\u00e9n\u00e9rer une cl\u00e9 API :</p> <ol> <li>Ouvrez l'interface utilisateur Howler et connectez-vous</li> <li>Cliquez sur votre ic\u00f4ne de profil dans le coin sup\u00e9rieur droit</li> <li>S\u00e9lectionnez Param\u00e8tres dans le menu utilisateur</li> <li>Sous S\u00e9curit\u00e9 utilisateur, cliquez sur l'ic\u00f4ne (+) \u00e0 c\u00f4t\u00e9 des cl\u00e9s API</li> <li>Nommez votre cl\u00e9 et attribuez les permissions appropri\u00e9es</li> <li>Cliquez sur Cr\u00e9er et copiez la cl\u00e9 g\u00e9n\u00e9r\u00e9e</li> </ol> <p>Important : Conservez cette cl\u00e9 en s\u00e9curit\u00e9 - vous ne pourrez plus la voir !</p>"},{"location":"fr/developer/client/#se-connecter-a-howler","title":"Se connecter \u00e0 Howler","text":"<p>Le client prend en charge plusieurs m\u00e9thodes d'authentification :</p>"},{"location":"fr/developer/client/#utiliser-une-cle-api-recommande","title":"Utiliser une cl\u00e9 API (Recommand\u00e9)","text":"<p>Une fois que vous avez votre cl\u00e9 API, connectez-vous \u00e0 Howler en utilisant la fonction <code>get_client()</code> :</p> <pre><code>from howler_client import get_client\n\n# Vos identifiants\nUSERNAME = 'votre_nom_utilisateur'  # Des param\u00e8tres utilisateur de l'interface Howler\nAPIKEY = 'nom_cle_api:donnees_cle_api'  # La cl\u00e9 que vous avez g\u00e9n\u00e9r\u00e9e\n\n# Cr\u00e9er le client\nclient = get_client(\"https://votre-instance-howler.com\", apikey=(USERNAME, APIKEY))\n</code></pre>"},{"location":"fr/developer/client/#utiliser-un-jeton-jwt","title":"Utiliser un jeton JWT","text":"<p>Si vous avez un jeton JWT (par exemple, d'un flux OAuth), vous pouvez vous authentifier en le passant au param\u00e8tre <code>auth</code> :</p> <pre><code>from howler_client import get_client\n\n# Votre jeton JWT\nJWT_TOKEN = 'eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9...'  # Votre jeton JWT\n\n# Cr\u00e9er le client\nclient = get_client(\"https://votre-instance-howler.com\", auth=JWT_TOKEN)\n</code></pre> <p>Maintenant vous pouvez utiliser l'objet <code>client</code> pour interagir avec Howler !</p>"},{"location":"fr/developer/client/#creer-des-hits","title":"Cr\u00e9er des hits","text":"<p>La cr\u00e9ation de hits est le cas d'utilisation principal du client Howler. Le client fournit deux m\u00e9thodes principales pour ing\u00e9rer des donn\u00e9es : <code>client.hit.create()</code> pour les donn\u00e9es d\u00e9j\u00e0 au format du sch\u00e9ma Howler, et <code>client.hit.create_from_map()</code> pour les donn\u00e9es personnalis\u00e9es qui doivent \u00eatre mapp\u00e9es au sch\u00e9ma Howler.</p>"},{"location":"fr/developer/client/#utiliser-clienthitcreate","title":"Utiliser <code>client.hit.create()</code>","text":"<p>La m\u00e9thode <code>create()</code> accepte les donn\u00e9es de hit au format imbriqu\u00e9 ou plat. Les donn\u00e9es doivent \u00eatre conformes au sch\u00e9ma Howler.</p>"},{"location":"fr/developer/client/#format-imbrique","title":"Format imbriqu\u00e9","text":"<p>C'est le format recommand\u00e9 car il correspond \u00e9troitement au mod\u00e8le de donn\u00e9es Howler :</p> <pre><code>from hashlib import sha256\n\n# Cr\u00e9er un hit avec une structure imbriqu\u00e9e\nhit = {\n    \"howler\": {\n        \"analytic\": \"Un test pour cr\u00e9er un hit\",\n        \"score\": 0.8,\n        \"hash\": sha256(b\"identifiant_unique\").hexdigest(),\n        \"outline\": {\n            \"threat\": \"10.0.0.1\",\n            \"target\": \"asdf123\",\n            \"indicators\": [\"me.ps1\"],\n            \"summary\": \"Ceci est un r\u00e9sum\u00e9\",\n        },\n    },\n}\n\n# Cr\u00e9er le hit\nresponse = client.hit.create(hit)\n\n# V\u00e9rifier la r\u00e9ponse\nprint(f\"Hits valides : {len(response['valid'])}\")\nprint(f\"Hits invalides : {len(response['invalid'])}\")\n</code></pre>"},{"location":"fr/developer/client/#format-plat","title":"Format plat","text":"<p>Vous pouvez \u00e9galement fournir les donn\u00e9es de hit dans un format plat, avec notation par points :</p> <pre><code>from hashlib import sha256\n\n# Cr\u00e9er un hit avec une structure plate\nhit = {\n    \"howler.analytic\": \"Test Dupes\",\n    \"howler.score\": 0.0,\n    \"howler.hash\": sha256(b\"identifiant_unique\").hexdigest(),\n}\n\n# Cr\u00e9er le hit\nresponse = client.hit.create(hit)\n</code></pre>"},{"location":"fr/developer/client/#creation-par-lot","title":"Cr\u00e9ation par lot","text":"<p>Vous pouvez cr\u00e9er plusieurs hits \u00e0 la fois en passant une liste :</p> <pre><code>hits = [\n    {\n        \"howler.analytic\": \"Test par lot\",\n        \"howler.score\": 0.5,\n        \"howler.outline.threat\": \"192.168.1.1\",\n        \"howler.outline.target\": \"serveur01\",\n        \"howler.outline.indicators\": [\"malware.exe\"],\n        \"howler.outline.summary\": \"Premier hit\",\n    },\n    {\n        \"howler.analytic\": \"Test par lot\",\n        \"howler.score\": 0.8,\n        \"howler.outline.threat\": \"192.168.1.2\",\n        \"howler.outline.target\": \"serveur02\",\n        \"howler.outline.indicators\": [\"suspicious.dll\"],\n        \"howler.outline.summary\": \"Deuxi\u00e8me hit\",\n    },\n]\n\nresponse = client.hit.create(hits)\n</code></pre>"},{"location":"fr/developer/client/#structure-de-la-reponse","title":"Structure de la r\u00e9ponse","text":"<p>La m\u00e9thode <code>create()</code> retourne un dictionnaire avec deux cl\u00e9s :</p> <ul> <li><code>valid</code> : Liste des hits cr\u00e9\u00e9s avec succ\u00e8s avec leurs ID</li> <li><code>invalid</code> : Liste des hits qui ont \u00e9chou\u00e9 \u00e0 la validation avec les messages d'erreur</li> </ul> <pre><code>response = client.hit.create(hits)\n\n# Traiter les hits valides\nfor hit in response['valid']:\n    print(f\"Hit cr\u00e9\u00e9 avec l'ID : {hit['id']}\")\n\n# G\u00e9rer les hits invalides\nfor result in response['invalid']:\n    print(f\"\u00c9chec de cr\u00e9ation du hit : {result['error']}\")\n    print(f\"Donn\u00e9es du hit : {json.dumps(result['hit'], indent=2)}\")\n</code></pre>"},{"location":"fr/developer/client/#utiliser-clienthitcreate_from_map","title":"Utiliser <code>client.hit.create_from_map()</code>","text":"<p>Lorsque vous avez des donn\u00e9es dans un format personnalis\u00e9, <code>create_from_map()</code> vous permet de d\u00e9finir un mappage de votre structure de donn\u00e9es vers le sch\u00e9ma Howler. Ceci est particuli\u00e8rement utile pour l'int\u00e9gration avec des syst\u00e8mes externes ou l'ingestion de donn\u00e9es provenant de diverses sources.</p>"},{"location":"fr/developer/client/#exemple-de-base","title":"Exemple de base","text":"<pre><code>import datetime\nfrom hashlib import sha256\n\n# D\u00e9finir le mappage de votre format de donn\u00e9es vers le sch\u00e9ma Howler\n# Les cl\u00e9s sont vos chemins de champs, les valeurs sont des listes de chemins de champs Howler\nmapping = {\n    \"file.sha256\": [\"file.hash.sha256\", \"howler.hash\"],\n    \"file.name\": [\"file.name\"],\n    \"src_ip\": [\"source.ip\", \"related.ip\"],\n    \"dest_ip\": [\"destination.ip\", \"related.ip\"],\n    \"time.created\": [\"event.start\"],\n    \"time.completed\": [\"event.end\"],\n}\n\n# Vos donn\u00e9es personnalis\u00e9es\nhits = [\n    {\n        \"src_ip\": \"43.228.141.216\",\n        \"dest_ip\": \"31.46.39.115\",\n        \"file\": {\n            \"name\": \"cool_file.exe\",\n            \"sha256\": sha256(b\"cool_file.exe\").hexdigest(),\n        },\n        \"time\": {\n            \"created\": datetime.datetime(2020, 5, 17).isoformat() + \"Z\",\n            \"completed\": datetime.datetime(2020, 5, 18).isoformat() + \"Z\",\n        },\n    },\n]\n\n# Cr\u00e9er des hits en utilisant le mappage\nresponse = client.hit.create_from_map(\"mon_outil_analytique\", mapping, hits)\n\n# V\u00e9rifier les r\u00e9sultats\nfor hit in response:\n    if hit[\"error\"]:\n        print(f\"Erreur : {hit['error']}\")\n    else:\n        print(f\"Hit cr\u00e9\u00e9 : {hit['id']}\")\n        if hit[\"warn\"]:\n            print(f\"Avertissements : {hit['warn']}\")\n</code></pre>"},{"location":"fr/developer/client/#structure-de-la-reponse_1","title":"Structure de la r\u00e9ponse","text":"<p>La m\u00e9thode <code>create_from_map()</code> retourne une liste de dictionnaires, un pour chaque hit d'entr\u00e9e :</p> <ul> <li><code>id</code> : L'ID du hit cr\u00e9\u00e9 (en cas de succ\u00e8s)</li> <li><code>error</code> : Message d'erreur si la cr\u00e9ation a \u00e9chou\u00e9 (None en cas de succ\u00e8s)</li> <li><code>warn</code> : Liste de messages d'avertissement (par exemple, champs obsol\u00e8tes utilis\u00e9s)</li> </ul>"},{"location":"fr/developer/client/#gerer-les-erreurs-de-validation","title":"G\u00e9rer les erreurs de validation","text":"<p>Lors de la cr\u00e9ation de hits, des erreurs de validation peuvent se produire. Le client fournit des messages d'erreur d\u00e9taill\u00e9s :</p> <pre><code>from howler_client.common.utils import ClientError\n\ntry:\n    hits = [\n        {\n            \"howler.analytic\": \"Test\",\n            \"howler.score\": 0.8,\n            # Les champs requis manquants causeront l'\u00e9chec de la validation\n        },\n        {\n            \"howler.analytic\": \"Test\",\n            # Champ score manquant\n            \"howler.outline.threat\": \"10.0.0.1\",\n        },\n    ]\n\n    response = client.hit.create(hits)\nexcept ClientError as e:\n    print(f\"Erreur : {e}\")\n    print(f\"Hits valides : {len(e.api_response['valid'])}\")\n    print(f\"Hits invalides : {len(e.api_response['invalid'])}\")\n\n    for invalid_hit in e.api_response['invalid']:\n        print(f\"Erreur de validation : {invalid_hit['error']}\")\n</code></pre>"},{"location":"fr/developer/client/#detection-des-doublons","title":"D\u00e9tection des doublons","text":"<p>Howler d\u00e9tecte automatiquement les hits en double bas\u00e9s sur le champ <code>howler.hash</code>. Si vous tentez de cr\u00e9er un hit avec le m\u00eame hash qu'un hit existant, il sera ignor\u00e9 :</p> <pre><code>from hashlib import sha256\n\n# Cr\u00e9er un hash unique\nunique_hash = sha256(b\"identifiant_unique\").hexdigest()\n\n# La premi\u00e8re cr\u00e9ation r\u00e9ussit\nhit1 = {\n    \"howler.analytic\": \"Test Dupes\",\n    \"howler.score\": 0,\n    \"howler.hash\": unique_hash,\n}\nclient.hit.create(hit1)\n\n# La deuxi\u00e8me cr\u00e9ation avec le m\u00eame hash est ignor\u00e9e\nhit2 = {\n    \"howler.analytic\": \"Test Dupes\",\n    \"howler.score\": 0,\n    \"howler.hash\": unique_hash,  # M\u00eame hash !\n}\nresponse = client.hit.create(hit2)\n# Ce hit ne sera pas cr\u00e9\u00e9 car c'est un doublon\n</code></pre>"},{"location":"fr/developer/client/#operations-de-base-sur-les-hits","title":"Op\u00e9rations de base sur les hits","text":""},{"location":"fr/developer/client/#rechercher-des-hits","title":"Rechercher des hits","text":"<p>La m\u00e9thode <code>client.search.hit()</code> vous permet d'interroger des hits en utilisant la syntaxe Lucene :</p> <pre><code># Rechercher tous les hits\nresults = client.search.hit(\"howler.id:*\")\n\nprint(f\"Total de hits : {results['total']}\")\nprint(f\"Retourn\u00e9s : {len(results['items'])}\")\n\n# Acc\u00e9der aux hits individuels\nfor hit in results['items']:\n    print(f\"ID du hit : {hit['howler']['id']}\")\n    print(f\"Analytique : {hit['howler']['analytic']}\")\n    print(f\"Score : {hit['howler']['score']}\")\n</code></pre>"},{"location":"fr/developer/client/#parametres-de-requete","title":"Param\u00e8tres de requ\u00eate","text":"<p>La m\u00e9thode <code>search.hit()</code> prend en charge plusieurs param\u00e8tres :</p> <pre><code># Rechercher avec des param\u00e8tres sp\u00e9cifiques\nresults = client.search.hit(\n    \"howler.analytic:mon_analytique\",  # Requ\u00eate Lucene\n    rows=50,                            # Nombre de r\u00e9sultats \u00e0 retourner (d\u00e9faut : 25)\n    offset=0,                           # D\u00e9calage de d\u00e9part (d\u00e9faut : 0)\n    sort=\"event.created desc\",          # Champ de tri et direction\n    fl=\"howler.id,howler.score\",       # Champs \u00e0 retourner (s\u00e9par\u00e9s par des virgules)\n    filters=[\"event.created:[now-7d TO now]\"],  # Filtres additionnels\n)\n</code></pre>"},{"location":"fr/developer/client/#mettre-a-jour-des-hits","title":"Mettre \u00e0 jour des hits","text":"<p>Le client fournit plusieurs m\u00e9thodes pour mettre \u00e0 jour les hits, <code>overwrite()</code> \u00e9tant la plus simple pour la plupart des cas d'utilisation.</p>"},{"location":"fr/developer/client/#ecraser-les-donnees-de-hit-recommande","title":"\u00c9craser les donn\u00e9es de hit (Recommand\u00e9)","text":"<p>La m\u00e9thode <code>client.hit.overwrite()</code> est la fa\u00e7on la plus simple de mettre \u00e0 jour un hit. Fournissez simplement un objet hit partiel avec les champs que vous souhaitez modifier :</p> <pre><code># Obtenir un hit \u00e0 mettre \u00e0 jour\nhit = client.search.hit(\"howler.id:*\", rows=1, sort=\"event.created desc\")[\"items\"][0]\nhit_id = hit[\"howler\"][\"id\"]\n\n# \u00c9craser des champs sp\u00e9cifiques\nupdated_hit = client.hit.overwrite(\n    hit_id,\n    {\n        \"source.ip\": \"127.0.0.1\",\n        \"destination.ip\": \"8.8.8.8\",\n        \"howler.score\": 0.95,\n        \"howler.status\": \"resolved\",\n    }\n)\n\nprint(f\"Hit mis \u00e0 jour : {updated_hit['howler']['id']}\")\n</code></pre> <p>La m\u00e9thode overwrite accepte \u00e0 la fois les formats imbriqu\u00e9s et plats :</p> <pre><code># Format imbriqu\u00e9\nclient.hit.overwrite(\n    hit_id,\n    {\n        \"howler\": {\n            \"score\": 0.9,\n            \"status\": \"open\"\n        },\n        \"source\": {\n            \"ip\": \"10.0.0.1\"\n        }\n    }\n)\n\n# Format plat (notation par points)\nclient.hit.overwrite(\n    hit_id,\n    {\n        \"howler.score\": 0.9,\n        \"howler.status\": \"open\",\n        \"source.ip\": \"10.0.0.1\"\n    }\n)\n</code></pre>"},{"location":"fr/developer/client/#mises-a-jour-transactionnelles-pour-les-operations-en-masse","title":"Mises \u00e0 jour transactionnelles (Pour les op\u00e9rations en masse)","text":"<p>Pour des sc\u00e9narios plus complexes comme les mises \u00e0 jour en masse ou les op\u00e9rations atomiques (incr\u00e9ment, ajout, etc.), utilisez <code>client.hit.update()</code> :</p> <pre><code>from howler_client.module.hit import UPDATE_SET, UPDATE_INC\n\n# Obtenir un hit \u00e0 mettre \u00e0 jour\nhit = client.search.hit(\"howler.id:*\", rows=1)[\"items\"][0]\nhit_id = hit[\"howler\"][\"id\"]\n\n# Mettre \u00e0 jour le hit avec des op\u00e9rations\nupdated_hit = client.hit.update(\n    hit_id,\n    [\n        (UPDATE_SET, \"howler.score\", 0.95),\n        (UPDATE_INC, \"howler.escalation\", 1),\n    ]\n)\n\nprint(f\"Score mis \u00e0 jour : {updated_hit['howler']['score']}\")\n</code></pre> <p>Op\u00e9rations de mise \u00e0 jour disponibles :</p> <p>Op\u00e9rations sur les listes :</p> <pre><code>from howler_client.module.hit import UPDATE_APPEND, UPDATE_APPEND_IF_MISSING, UPDATE_REMOVE\n\n# Ajouter une valeur \u00e0 une liste\n(UPDATE_APPEND, \"howler.outline.indicators\", \"nouvel_indicateur.exe\")\n\n# Ajouter uniquement si pas d\u00e9j\u00e0 pr\u00e9sent\n(UPDATE_APPEND_IF_MISSING, \"related.ip\", \"192.168.1.1\")\n\n# Retirer une valeur d'une liste\n(UPDATE_REMOVE, \"howler.outline.indicators\", \"faux_positif.exe\")\n</code></pre> <p>Op\u00e9rations num\u00e9riques :</p> <pre><code>from howler_client.module.hit import UPDATE_INC, UPDATE_DEC, UPDATE_MAX, UPDATE_MIN\n\n# Incr\u00e9menter par montant\n(UPDATE_INC, \"howler.score\", 10)\n\n# D\u00e9cr\u00e9menter par montant\n(UPDATE_DEC, \"howler.score\", 5)\n\n# D\u00e9finir au maximum de la valeur actuelle et de la valeur sp\u00e9cifi\u00e9e\n(UPDATE_MAX, \"howler.score\", 50)\n\n# D\u00e9finir au minimum de la valeur actuelle et de la valeur sp\u00e9cifi\u00e9e\n(UPDATE_MIN, \"howler.score\", 20)\n</code></pre> <p>Op\u00e9rations g\u00e9n\u00e9rales :</p> <pre><code>from howler_client.module.hit import UPDATE_SET, UPDATE_DELETE\n\n# D\u00e9finir un champ \u00e0 une valeur sp\u00e9cifique\n(UPDATE_SET, \"howler.status\", \"resolved\")\n\n# Supprimer un champ\n(UPDATE_DELETE, \"champ_personnalise\", None)\n</code></pre>"},{"location":"fr/developer/client/#mise-a-jour-en-masse-par-requete","title":"Mise \u00e0 jour en masse par requ\u00eate","text":"<p>Utilisez <code>client.hit.update_by_query()</code> pour mettre \u00e0 jour plusieurs hits correspondant \u00e0 une requ\u00eate :</p> <pre><code>from howler_client.module.hit import UPDATE_INC\n\n# Incr\u00e9menter le score pour tous les hits d'une analytique sp\u00e9cifique\nclient.hit.update_by_query(\n    'howler.analytic:\"mon_analytique\"',\n    [\n        (UPDATE_INC, \"howler.score\", 100),\n    ]\n)\n\n# Note : Cette op\u00e9ration est asynchrone et peut prendre du temps\n</code></pre>"},{"location":"fr/developer/client/#supprimer-des-hits","title":"Supprimer des hits","text":"<p>Supprimez un ou plusieurs hits par leurs ID :</p> <pre><code># Supprimer un seul hit\nclient.hit.delete([\"hit_id_1\"])\n\n# Supprimer plusieurs hits\nclient.hit.delete([\"hit_id_1\", \"hit_id_2\", \"hit_id_3\"])\n\n# Exemple : Supprimer tous les hits d'une recherche\nresults = client.search.hit(\"howler.analytic:test_analytique\")\nhit_ids = [hit[\"howler\"][\"id\"] for hit in results[\"items\"]]\nclient.hit.delete(hit_ids)\n</code></pre>"},{"location":"fr/developer/client/#contribuer-au-client","title":"Contribuer au client","text":"<p>Si vous souhaitez contribuer au d\u00e9veloppement du client Howler, vous devrez configurer l'environnement de d\u00e9veloppement.</p>"},{"location":"fr/developer/client/#configuration-du-developpement","title":"Configuration du d\u00e9veloppement","text":"<p>Le code du client se trouve dans le dossier <code>client/</code> du monorepo Howler. Pour configurer pour le d\u00e9veloppement :</p> <pre><code>cd ~/repos/howler/client\n\n# Installer Poetry si vous ne l'avez pas\npython3 -m pip install poetry\n\n# Configurer Poetry pour cr\u00e9er le virtualenv dans le r\u00e9pertoire du projet\npoetry config virtualenvs.in-project true\n\n# Installer les d\u00e9pendances incluant les d\u00e9pendances de test\npoetry install --with test\n</code></pre>"},{"location":"fr/developer/client/#executer-les-tests","title":"Ex\u00e9cuter les tests","text":"<p>Le client dispose d'une suite de tests compl\u00e8te qui s'ex\u00e9cute contre une instance Howler en direct :</p> <pre><code># D\u00e9marrer les d\u00e9pendances de test (API, Elasticsearch, Redis) avec Docker Compose\ndocker compose -f test/docker-compose.yml up -d\n\n# Attendre que les services soient pr\u00eats, puis ex\u00e9cuter les tests\npoetry run test\n</code></pre> <p>Les tests sont situ\u00e9s dans <code>client/test/</code> et incluent :</p> <ul> <li>Tests unitaires pour la fonctionnalit\u00e9 du client</li> <li>Tests d'int\u00e9gration contre l'API</li> </ul>"},{"location":"fr/developer/client/#qualite-du-code","title":"Qualit\u00e9 du code","text":"<p>Avant de soumettre des modifications, assurez-vous que votre code passe toutes les v\u00e9rifications de qualit\u00e9 :</p> <pre><code># Ex\u00e9cuter les v\u00e9rifications de formatage\npoetry run ruff format howler_client --diff\n\n# Ex\u00e9cuter les v\u00e9rifications du linter\npoetry run ruff check howler_client\n\n# Ex\u00e9cuter la v\u00e9rification des types\npoetry run type_check\n</code></pre>"},{"location":"fr/developer/client/#executer-des-tests-specifiques","title":"Ex\u00e9cuter des tests sp\u00e9cifiques","text":"<p>Vous pouvez ex\u00e9cuter des fichiers de test sp\u00e9cifiques ou des fonctions de test :</p> <pre><code># Ex\u00e9cuter un fichier de test sp\u00e9cifique\npoetry run pytest test/integration/test_hit.py\n\n# Ex\u00e9cuter une fonction de test sp\u00e9cifique\npoetry run pytest test/integration/test_hit.py::test_create\n\n# Ex\u00e9cuter avec sortie d\u00e9taill\u00e9e\npoetry run pytest test/integration/test_hit.py -v\n</code></pre>"},{"location":"fr/developer/client/#ressources-supplementaires","title":"Ressources suppl\u00e9mentaires","text":"<ul> <li>Documentation de l'API : Explorez l'API compl\u00e8te sur <code>https://votre-instance-howler.com/api/doc</code></li> <li>Sch\u00e9ma Howler : Consultez le sch\u00e9ma des hits dans l'interface sous Aide \u2192 Sch\u00e9ma des hits</li> <li>D\u00e9p\u00f4t GitHub : https://github.com/CybercentreCanada/howler</li> <li>Package PyPI : https://pypi.org/project/howler-client/</li> <li>Suivi des probl\u00e8mes : Signalez des bugs ou demandez des fonctionnalit\u00e9s sur GitHub Issues</li> </ul>"},{"location":"fr/developer/frontend/","title":"D\u00e9veloppement du frontend","text":""},{"location":"fr/developer/frontend/#developpement-du-frontend","title":"D\u00e9veloppement du frontend","text":"D\u00e9pendances syst\u00e8me <p>Avant d'ex\u00e9cuter ces \u00e9tapes, assurez-vous d'avoir compl\u00e9t\u00e9 les \u00e9tapes d'installation ici.</p>"},{"location":"fr/developer/frontend/#executer-le-serveur-de-developpement","title":"Ex\u00e9cuter le serveur de d\u00e9veloppement","text":"<p>L'ex\u00e9cution de l'interface utilisateur Howler pour le d\u00e9veloppement est simple :</p> <pre><code># Naviguer vers le r\u00e9pertoire UI\ncd ui\n\n# Installer les d\u00e9pendances\npnpm install\n\n# Ex\u00e9cuter le serveur de d\u00e9veloppement\npnpm dev\n</code></pre> <p>Le serveur de d\u00e9veloppement d\u00e9marrera sur <code>http://localhost:5173</code> par d\u00e9faut (le port par d\u00e9faut de Vite).</p>"},{"location":"fr/developer/frontend/#scripts-disponibles","title":"Scripts disponibles","text":"<p>L'interface utilisateur fournit plusieurs scripts npm pour le d\u00e9veloppement :</p> <ul> <li><code>pnpm dev</code> ou <code>pnpm start</code> - D\u00e9marrer le serveur de d\u00e9veloppement Vite</li> <li><code>pnpm build</code> - Construire l'application pour la production (ex\u00e9cute le compilateur TypeScript et la construction Vite)</li> <li><code>pnpm serve</code> - Pr\u00e9visualiser la construction de production localement</li> <li><code>pnpm lint</code> - Formater le code en utilisant Prettier</li> <li><code>pnpm test</code> - Ex\u00e9cuter les tests avec couverture en utilisant Vitest</li> <li><code>pnpm test-ui</code> - Ex\u00e9cuter les tests avec interface et couverture</li> </ul>"},{"location":"fr/developer/frontend/#dependances-cles","title":"D\u00e9pendances cl\u00e9s","text":"<p>L'interface utilisateur Howler est construite avec des technologies web modernes :</p>"},{"location":"fr/developer/frontend/#framework-de-base","title":"Framework de base","text":"<ul> <li>React 18 - Le framework d'interface utilisateur qui alimente l'application</li> <li>React Router v6 - Routage c\u00f4t\u00e9 client</li> <li>TypeScript - S\u00e9curit\u00e9 des types et exp\u00e9rience de d\u00e9veloppement am\u00e9lior\u00e9e</li> <li>Vite - Outil de construction et serveur de d\u00e9veloppement rapide</li> </ul>"},{"location":"fr/developer/frontend/#composants-ui-et-stylisation","title":"Composants UI et stylisation","text":"<ul> <li>Material-UI (MUI) v5 - Biblioth\u00e8que de composants principale fournissant le syst\u00e8me de design</li> </ul>"},{"location":"fr/developer/frontend/#gestion-detat-et-donnees","title":"Gestion d'\u00e9tat et donn\u00e9es","text":"<ul> <li>axios - Client HTTP pour les requ\u00eates API</li> <li>use-context-selector - Contexte React optimis\u00e9 pour la gestion d'\u00e9tat</li> <li>react-pluggable - Syst\u00e8me de plugins pour l'extensibilit\u00e9</li> </ul>"},{"location":"fr/developer/frontend/#edition-de-code-et-de-contenu","title":"\u00c9dition de code et de contenu","text":"<ul> <li>Monaco Editor - Composant d'\u00e9diteur de VS Code (via @monaco-editor/react)</li> <li>react-markdown - Rendu Markdown avec support markdown GitHub-flavored</li> </ul>"},{"location":"fr/developer/frontend/#utilitaires","title":"Utilitaires","text":"<ul> <li>dayjs - Biblioth\u00e8que de date/heure l\u00e9g\u00e8re</li> <li>lodash-es - Biblioth\u00e8que d'utilitaires moderne (modules ES)</li> <li>i18next - Framework d'internationalisation</li> </ul>"},{"location":"fr/developer/frontend/#outils-de-developpement","title":"Outils de d\u00e9veloppement","text":"<ul> <li>Vitest - Framework de tests unitaires rapide (natif Vite)</li> <li>ESLint - Linting de code avec int\u00e9gration TypeScript, React et Prettier</li> <li>Prettier - Formatage de code</li> <li>lint-staged - Ex\u00e9cuter les linters sur les fichiers mis en sc\u00e8ne</li> </ul>"},{"location":"fr/developer/frontend/#visual-studio-code","title":"Visual Studio Code","text":"<p>Si vous d\u00e9veloppez dans VS Code, il est recommand\u00e9 d'installer les extensions recommand\u00e9es de l'espace de travail pour le support int\u00e9gr\u00e9 de Prettier et ESLint. Celles-ci se trouvent dans le fichier <code>.vscode/extensions.json</code>.</p>"},{"location":"fr/developer/getting_started/","title":"D\u00e9pendances syst\u00e8me","text":""},{"location":"fr/developer/getting_started/#dependances-systeme","title":"D\u00e9pendances syst\u00e8me","text":"<p>Afin de contribuer \u00e0 Howler, vous devrez d'abord pr\u00e9parer votre environnement de d\u00e9veloppement.</p> Notes sur le syst\u00e8me d'exploitation <p>Veuillez noter que ces commandes ont \u00e9t\u00e9 \u00e9crites pour \u00eatre utilis\u00e9es dans Ubuntu, soit sur Windows via WSL ou un OS Ubuntu autonome. Vous devrez adapter les instructions sp\u00e9cifiques au syst\u00e8me d'exploitation \u00e0 votre syst\u00e8me d'exploitation personnel.</p> <pre><code># Cloner le monorepo Howler\nmkdir -p ~/repos &amp;&amp; cd ~/repos\ngit clone git@github.com:CybercentreCanada/howler.git\ncd howler\n</code></pre>"},{"location":"fr/developer/getting_started/#dependances-frontend","title":"D\u00e9pendances frontend","text":""},{"location":"fr/developer/getting_started/#nodejs","title":"Node.js","text":"<p>L'interface utilisateur de Howler est d\u00e9velopp\u00e9e en utilisant Vite, qui n\u00e9cessite Node.js v20 ou sup\u00e9rieur. Nous recommandons d'utiliser Node Version Manager (nvm) pour g\u00e9rer les versions de Node.js.</p> Installation sans NVM <p>NVM n'est pas requis - si vous pr\u00e9f\u00e9rez installer Node.js vous-m\u00eame, vous pouvez le faire. Assurez-vous simplement que la version que vous installez est v20 ou sup\u00e9rieure pour \u00eatre compatible avec Vite.</p> <pre><code># Installer nvm\ncurl -o- https://raw.githubusercontent.com/nvm-sh/nvm/v0.39.7/install.sh | bash\n\n# Red\u00e9marrer votre shell ou ex\u00e9cuter :\nexport NVM_DIR=\"$HOME/.nvm\"\n[ -s \"$NVM_DIR/nvm.sh\" ] &amp;&amp; \\. \"$NVM_DIR/nvm.sh\"\n[ -s \"$NVM_DIR/bash_completion\" ] &amp;&amp; \\. \"$NVM_DIR/bash_completion\"\n\n# Installer et utiliser Node.js v20 (comme sp\u00e9cifi\u00e9 dans ui/.nvmrc)\nnvm install v20\nnvm use v20\n\n# Optionnel : D\u00e9finir v20 comme version par d\u00e9faut\nnvm alias default v20\n</code></pre>"},{"location":"fr/developer/getting_started/#pnpm","title":"pnpm","text":"<p>L'interface utilisateur de Howler utilise pnpm pour la gestion des packages. Le projet impose l'utilisation de pnpm via un script de pr\u00e9installation.</p> <pre><code># Installer pnpm globalement\nnpm install -g pnpm\n\n# V\u00e9rifier l'installation\npnpm --version\n</code></pre>"},{"location":"fr/developer/getting_started/#dependances-backend","title":"D\u00e9pendances backend","text":""},{"location":"fr/developer/getting_started/#docker","title":"Docker","text":"<p>Le backend de Howler d\u00e9pend de conteneurs Docker pour des services comme les bases de donn\u00e9es, les files d'attente de messages et d'autres composants d'infrastructure. Vous aurez besoin de Docker et Docker Compose install\u00e9s.</p> <p>Suivez le guide d'installation officiel de Docker pour votre syst\u00e8me d'exploitation : Installation de Docker Engine</p> <p>Pour Ubuntu sp\u00e9cifiquement, voir : Installer Docker sur Ubuntu</p> \u00c9tapes post-installation <p>Apr\u00e8s avoir install\u00e9 Docker, vous voudrez peut-\u00eatre ajouter votre utilisateur au groupe <code>docker</code> pour ex\u00e9cuter les commandes Docker sans <code>sudo</code> :</p> <pre><code># Ajouter le groupe docker (peut d\u00e9j\u00e0 exister)\nsudo groupadd docker\n\n# Ajouter l'utilisateur actuel au groupe docker\nsudo usermod -aG docker $USER\n\n# Se d\u00e9connecter et se reconnecter pour que le changement de groupe prenne effet\n</code></pre> <p>V\u00e9rifier que Docker fonctionne :</p> <pre><code>docker run hello-world\n</code></pre>"},{"location":"fr/developer/getting_started/#python","title":"Python","text":"<p>Le backend de Howler n\u00e9cessite Python 3.12. Nous recommandons d'utiliser pyenv pour g\u00e9rer les versions de Python, car cela vous permet d'installer et de basculer facilement entre plusieurs versions de Python.</p>"},{"location":"fr/developer/getting_started/#installation-de-pyenv","title":"Installation de pyenv","text":"<p>Pour des instructions d'installation d\u00e9taill\u00e9es, consultez le guide d'installation de pyenv.</p> <p>Installation rapide pour Ubuntu/WSL :</p> <pre><code># Installer les d\u00e9pendances de construction\nsudo apt update\nsudo apt install -y build-essential libssl-dev zlib1g-dev \\\nlibbz2-dev libreadline-dev libsqlite3-dev curl git \\\nlibncursesw5-dev xz-utils tk-dev libxml2-dev libxmlsec1-dev libffi-dev liblzma-dev\n\n# Installer pyenv\ncurl https://pyenv.run | bash\n\n# Ajouter pyenv \u00e0 votre configuration shell\necho 'export PYENV_ROOT=\"$HOME/.pyenv\"' &gt;&gt; ~/.bashrc\necho 'command -v pyenv &gt;/dev/null || export PATH=\"$PYENV_ROOT/bin:$PATH\"' &gt;&gt; ~/.bashrc\necho 'eval \"$(pyenv init -)\"' &gt;&gt; ~/.bashrc\n\n# Si vous utilisez zsh au lieu de bash, remplacez ~/.bashrc par ~/.zshrc dans les commandes ci-dessus\n</code></pre> <p>Red\u00e9marrez votre shell ou ex\u00e9cutez :</p> <pre><code>exec \"$SHELL\"\n</code></pre>"},{"location":"fr/developer/getting_started/#installation-de-python-312","title":"Installation de Python 3.12","text":"<pre><code># Installer Python 3.12\npyenv install 3.12\n\n# D\u00e9finir Python 3.12 comme version globale par d\u00e9faut\npyenv global 3.12\n\n# V\u00e9rifier l'installation\npython --version  # Devrait afficher Python 3.12.x\n</code></pre> Installation sans pyenv <p>Si vous pr\u00e9f\u00e9rez ne pas utiliser pyenv, vous pouvez installer Python 3.12 directement. Assurez-vous simplement d'avoir Python 3.12 ou sup\u00e9rieur disponible dans votre environnement.</p>"},{"location":"fr/developer/random_data/","title":"G\u00e9n\u00e9ration de donn\u00e9es al\u00e9atoires","text":""},{"location":"fr/developer/random_data/#generation-de-donnees-aleatoires","title":"G\u00e9n\u00e9ration de donn\u00e9es al\u00e9atoires","text":"<p>Pour avoir une id\u00e9e de ce \u00e0 quoi ressemble Howler avec des donn\u00e9es, et pour tester votre code, vous pouvez utiliser le script d'aide <code>api/howler/odm/random_data.py</code>. Ce script contient des m\u00e9thodes pour g\u00e9n\u00e9rer des donn\u00e9es de test r\u00e9alistes pour tous les mod\u00e8les utilis\u00e9s dans Howler.</p>"},{"location":"fr/developer/random_data/#utilisation-de-base","title":"Utilisation de base","text":"<pre><code>cd ~/repos/howler/api\n\n# Ex\u00e9cuter sans arguments - tous les index sont effac\u00e9s et remplis avec des donn\u00e9es de test\npython howler/odm/random_data.py\n\n# Remplir tous les index sans effacer les donn\u00e9es existantes\npython howler/odm/random_data.py all --no-wipe\n\n# Remplir uniquement des index sp\u00e9cifiques\npython howler/odm/random_data.py users hits analytics\n\n# Remplir des index sp\u00e9cifiques sans effacer\npython howler/odm/random_data.py users hits --no-wipe\n</code></pre>"},{"location":"fr/developer/random_data/#index-disponibles","title":"Index disponibles","text":"<p>Les index suivants peuvent \u00eatre remplis avec des donn\u00e9es de test :</p> <ul> <li>users - Comptes utilisateurs avec divers niveaux de permission et cl\u00e9s API</li> <li>templates - Mod\u00e8les d'affichage de hits pour diff\u00e9rentes analytiques et d\u00e9tections</li> <li>overviews - Mod\u00e8les de vue d'ensemble bas\u00e9s sur Markdown avec support Handlebars</li> <li>views - Requ\u00eates de recherche et filtres sauvegard\u00e9s</li> <li>hits - Donn\u00e9es d'alertes/d\u00e9tections incluant des bundles</li> <li>analytics - D\u00e9finitions d'analytiques avec r\u00e8gles et param\u00e8tres de triage</li> <li>actions - Configurations d'actions automatis\u00e9es</li> <li>dossiers - Dossiers d'enqu\u00eate</li> </ul>"},{"location":"fr/developer/random_data/#donnees-de-test-generees","title":"Donn\u00e9es de test g\u00e9n\u00e9r\u00e9es","text":""},{"location":"fr/developer/random_data/#utilisateurs","title":"Utilisateurs","text":"<p>Le script cr\u00e9e plusieurs utilisateurs pr\u00e9d\u00e9finis pour tester diff\u00e9rents sc\u00e9narios :</p> Nom d'utilisateur Mot de passe Type Description <code>admin</code> <code>admin</code> (ou <code>$DEV_ADMIN_PASS</code>) admin, user, automation_basic, automation_advanced Acc\u00e8s admin complet avec plusieurs cl\u00e9s API <code>user</code> <code>user</code> (ou <code>$DEV_USER_PASS</code>) user Utilisateur standard avec cl\u00e9s d'impersonnalisation <code>shawn-h</code> <code>shawn-h</code> admin, user Utilisateur admin pour les tests <code>goose</code> <code>goose</code> admin, user Utilisateur admin pour les tests <code>huey</code> <code>huey</code> user Utilisateur standard pour les tests Mots de passe personnalis\u00e9s <p>Vous pouvez personnaliser les mots de passe admin et utilisateur en d\u00e9finissant des variables d'environnement :</p> <pre><code>export DEV_ADMIN_PASS=\"mon_mot_de_passe_securise\"\nexport DEV_USER_PASS=\"mon_mot_de_passe_utilisateur\"\npython howler/odm/random_data.py users\n</code></pre>"},{"location":"fr/developer/random_data/#hits","title":"Hits","text":"<p>Par d\u00e9faut, le script g\u00e9n\u00e8re 200 hits al\u00e9atoires avec des donn\u00e9es r\u00e9alistes incluant :</p> <ul> <li>Diff\u00e9rents types de d\u00e9tection et analytiques</li> <li>Diff\u00e9rents niveaux de statut (ouvert, en cours, r\u00e9solu)</li> <li>Assignations al\u00e9atoires aux utilisateurs</li> <li>Donn\u00e9es d'\u00e9valuation (escalades et niveaux de scrutiny)</li> <li>Cat\u00e9gories d'\u00e9v\u00e9nements et m\u00e9tadonn\u00e9es</li> </ul> <p>Le script cr\u00e9e \u00e9galement des bundles - groupes de hits li\u00e9s ensemble.</p>"},{"location":"fr/developer/random_data/#analytiques","title":"Analytiques","text":"<p>Le script g\u00e9n\u00e8re des analytiques dans plusieurs cat\u00e9gories :</p> <ul> <li>Analytiques existantes \u00e0 partir des hits - Les analytiques sont automatiquement cr\u00e9\u00e9es \u00e0 partir des hits g\u00e9n\u00e9r\u00e9s</li> <li>Analytiques al\u00e9atoires (10 par d\u00e9faut) - D\u00e9finitions d'analytiques enti\u00e8rement al\u00e9atoires</li> <li>Analytiques bas\u00e9es sur des r\u00e8gles - Analytiques avec r\u00e8gles Lucene, EQL et Sigma</li> </ul> <p>Chaque analytique inclut :</p> <ul> <li>D\u00e9tections</li> <li>Commentaires (au niveau de l'analytique et de la d\u00e9tection)</li> <li>Notebooks (si activ\u00e9 dans la configuration)</li> <li>Param\u00e8tres de triage avec \u00e9valuations valides</li> <li>Contributeurs et propri\u00e9taires</li> </ul> R\u00e8gles Sigma <p>Pour de meilleures donn\u00e9es de test utilisant les r\u00e8gles Sigma, ex\u00e9cutez d'abord le g\u00e9n\u00e9rateur de r\u00e8gles Sigma :</p> <pre><code>python howler/external/generate_sigma_rules.py\n</code></pre>"},{"location":"fr/developer/random_data/#modeles","title":"Mod\u00e8les","text":"<p>Les mod\u00e8les sont g\u00e9n\u00e9r\u00e9s pour diff\u00e9rentes analytiques et d\u00e9tections, incluant :</p> <ul> <li>Mod\u00e8les globaux - Disponibles pour tous les utilisateurs</li> <li>Mod\u00e8les personnels - Mod\u00e8les sp\u00e9cifiques \u00e0 l'utilisateur</li> </ul> <p>Chaque mod\u00e8le d\u00e9finit quels champs de hit doivent \u00eatre affich\u00e9s et dans quel ordre.</p>"},{"location":"fr/developer/random_data/#vues-densemble","title":"Vues d'ensemble","text":"<p>Les mod\u00e8les de vue d'ensemble utilisent la syntaxe Handlebars pour cr\u00e9er des vues dynamiques bas\u00e9es sur Markdown des hits. Les vues d'ensemble g\u00e9n\u00e9r\u00e9es incluent des exemples de :</p> <ul> <li>Rendu conditionnel bas\u00e9 sur le statut du hit</li> <li>R\u00e9cup\u00e9ration de donn\u00e9es externes via des appels API</li> <li>Affichage d'avatars utilisateur</li> <li>Badges de statut et formatage</li> </ul>"},{"location":"fr/developer/random_data/#actions","title":"Actions","text":"<p>Des actions automatis\u00e9es al\u00e9atoires sont g\u00e9n\u00e9r\u00e9es avec diverses op\u00e9rations telles que :</p> <ul> <li>Ajustements de priorisation</li> <li>Transitions de statut</li> <li>Mises \u00e0 jour de champs</li> <li>Op\u00e9rations en masse</li> </ul> <p>Chaque action inclut une requ\u00eate pour correspondre aux hits et une s\u00e9rie d'op\u00e9rations \u00e0 effectuer.</p>"},{"location":"fr/developer/random_data/#vues","title":"Vues","text":"<p>Des vues sauvegard\u00e9es sont cr\u00e9\u00e9es incluant :</p> <ul> <li>Vues globales - Requ\u00eates partag\u00e9es pour des cas d'utilisation courants</li> <li>Vues personnelles - Recherches sauvegard\u00e9es sp\u00e9cifiques \u00e0 l'utilisateur</li> <li>Vues en lecture seule - Filtres pr\u00e9configur\u00e9s (par exemple, \"Assign\u00e9 \u00e0 moi\")</li> </ul>"},{"location":"fr/developer/random_data/#variables-denvironnement","title":"Variables d'environnement","text":"<p>Le script respecte plusieurs variables d'environnement :</p> <ul> <li><code>DEV_ADMIN_PASS</code> - Mot de passe pour l'utilisateur admin (d\u00e9faut : <code>admin</code>)</li> <li><code>DEV_USER_PASS</code> - Mot de passe pour le compte utilisateur (d\u00e9faut : <code>user</code>)</li> <li><code>HWL_PLUGIN_DIRECTORY</code> - Emplacement des plugins Howler (d\u00e9faut : <code>/etc/howler/plugins</code>)</li> <li><code>ELASTIC_HIT_SHARDS</code> - Nombre de shards pour l'index des hits (d\u00e9fini \u00e0 1 pendant la configuration)</li> <li><code>ELASTIC_HIT_REPLICAS</code> - Nombre de r\u00e9plicas pour l'index des hits (d\u00e9fini \u00e0 1 pendant la configuration)</li> <li><code>ELASTIC_USER_REPLICAS</code> - Nombre de r\u00e9plicas pour l'index utilisateur (d\u00e9fini \u00e0 1 pendant la configuration)</li> <li><code>ELASTIC_USER_AVATAR_REPLICAS</code> - Nombre de r\u00e9plicas pour l'index des avatars utilisateur (d\u00e9fini \u00e0 1 pendant la configuration)</li> </ul>"},{"location":"fr/developer/random_data/#integration-de-plugins","title":"Int\u00e9gration de plugins","text":"<p>Le g\u00e9n\u00e9rateur de donn\u00e9es al\u00e9atoires prend en charge les plugins via la fonction <code>run_modifications</code>. Si vous avez des plugins personnalis\u00e9s qui \u00e9tendent les mod\u00e8les de donn\u00e9es de Howler, ils seront automatiquement invoqu\u00e9s pendant la g\u00e9n\u00e9ration de donn\u00e9es pour remplir les champs sp\u00e9cifiques aux plugins.</p>"},{"location":"fr/developer/random_data/#cas-dutilisation","title":"Cas d'utilisation","text":""},{"location":"fr/developer/random_data/#configuration-de-lenvironnement-de-developpement","title":"Configuration de l'environnement de d\u00e9veloppement","text":"<p>Remplir rapidement une instance Howler fra\u00eeche avec des donn\u00e9es de test r\u00e9alistes :</p> <pre><code>python howler/odm/random_data.py all\n</code></pre>"},{"location":"fr/developer/random_data/#tester-des-fonctionnalites-specifiques","title":"Tester des fonctionnalit\u00e9s sp\u00e9cifiques","text":"<p>Remplir uniquement les donn\u00e9es n\u00e9cessaires pour votre fonctionnalit\u00e9 :</p> <pre><code># Tester les permissions utilisateur\npython howler/odm/random_data.py users --no-wipe\n\n# Tester le traitement des hits\npython howler/odm/random_data.py hits analytics --no-wipe\n\n# Tester les actions\npython howler/odm/random_data.py hits actions --no-wipe\n</code></pre>"},{"location":"fr/developer/random_data/#integration-continue","title":"Int\u00e9gration continue","text":"<p>Utilisez le flag <code>--no-wipe</code> pour ajouter des donn\u00e9es de test sans d\u00e9truire les donn\u00e9es existantes pendant les ex\u00e9cutions de tests.</p>"},{"location":"fr/ingestion/authentication/#authentification-de-howler","title":"Authentification de Howler","text":"<p>L'API de Howler prend en charge un certain nombre d'approches d'authentification lors de l'acc\u00e8s \u00e0 l'API. Ce document pr\u00e9sente les diff\u00e9rentes approches et explique comment utiliser chacune d'entre elles.</p>"},{"location":"fr/ingestion/authentication/#types-dauthentification","title":"Types d'authentification","text":"<p>Il existe quatre m\u00e9thodes d'authentification que l'on peut utiliser pour se connecter \u00e0 l'API howler:</p> <ol> <li>Nom d'utilisateur et mot de passe</li> <li>Nom d'utilisateur et cl\u00e9 API</li> <li>Nom d'utilisateur et cl\u00e9 d'application (apr\u00e8s connexion)</li> <li>Jeton d'acc\u00e8s OAuth</li> </ol> <p>Nous allons maintenant pr\u00e9senter les cas d'utilisation de chaque type d'authentification.</p>"},{"location":"fr/ingestion/authentication/#authentification-par-nom-dutilisateurmot-de-passe","title":"Authentification par nom d'utilisateur/mot de passe","text":"<p>L'authentification par nom d'utilisateur et mot de passe est la m\u00e9thode d'authentification la plus simple et la moins s\u00fbre. Il est peu probable qu'elle soit activ\u00e9e dans un environnement de production, elle permet aux utilisateurs de se connecter facilement \u00e0 l'API Howler et 'effectuer des modifications en tant qu'utilisateur donn\u00e9, sans avoir \u00e0 se soucier de cr\u00e9er des cl\u00e9s API ou d'utiliser un fournisseur OAuth comme Keycloak ou Azure. Les utilisateurs peuvent se connecter en utilisant l'authentification par nom d'utilisateur et mot de passe de l'une des deux mani\u00e8res suivantes :</p>"},{"location":"fr/ingestion/authentication/#appel-direct-au-point-de-terminaison-requis-mot-de-passe","title":"Appel direct au point de terminaison requis (mot de passe)","text":"<p>C'est de loin la m\u00e9thode la plus simple. Il suffit d'ajouter un en-t\u00eate d'autorisation de base \u00e0 la requ\u00eate HTTP que vous souhaitez effectuer, et tout est pris en charge. que vous voulez faire, et tout est pris en charge:</p> <pre><code>echo -n \"user:user\" | base64 -w0\n# -&gt; dXNlcjp1c2Vy\n</code></pre> <pre><code>GET howler.example.com/api/v1/user/whoami\nAuthorization: Basic dXNlcjp1c2Vy\n</code></pre>"},{"location":"fr/ingestion/authentication/#echange-contre-un-jeton-dapplication-mot-de-passe","title":"\u00c9change contre un jeton d'application (mot de passe)","text":"<p>Il s'agit d'une approche un peu plus complexe, mais qui pr\u00e9sente l'avantage de ne pas exposer le nom d'utilisateur et le mot de passe \u00e0 chaque demande. \u00e0 chaque requ\u00eate. Vous pouvez utiliser le point de terminaison <code>v1/auth/login</code> pour \u00e9changer votre nom d'utilisateur et votre mot de passe contre un jeton d'application. Le jeton fonctionne de la m\u00eame mani\u00e8re qu'un jeton d'acc\u00e8s OAuth - vous le fournissez \u00e0 chaque requ\u00eate ult\u00e9rieure, et il vous authentifie jusqu'\u00e0 ce que le jeton expire. jusqu'\u00e0 ce que le jeton expire.</p> <pre><code>POST howler.example.com/api/v1/auth/login/\nContent-Type: application/json\n\n{\n  \"user\": \"user\",\n  \"password\": \"user\"\n}\n</code></pre> <p>Le r\u00e9sultat sera quelque chose comme:</p> <pre><code>{\n  \"api_error_message\": \"\",\n  \"api_response\": {\n    \"app_token\": \"user:5791a142067745c3af51d6596da7da8f86357a9fa92ad78d1ce118ea7d89d34e\",\n    \"provider\": null,\n    \"refresh_token\": null\n  },\n  \"api_server_version\": \"0.0.0.dev0\",\n  \"api_status_code\": 200\n}\n</code></pre> <p>Utilisation de ce jeton dans un autre appel d'API:</p> <pre><code>GET howler.example.com/api/v1/user/whoami\nAuthorization: Bearer user:5791a142067745c3af51d6596da7da8f86357a9fa92ad78d1ce118ea7d89d34e\n</code></pre>"},{"location":"fr/ingestion/authentication/#authentification-par-nom-dutilisateurcle-api","title":"Authentification par nom d'utilisateur/cl\u00e9 API","text":"<p>L'authentification par nom d'utilisateur et cl\u00e9 API fonctionne en grande partie de la m\u00eame mani\u00e8re que l'authentification par nom d'utilisateur/mot de passe du point de vue du client. Du c\u00f4t\u00e9 du serveur, cependant, les cl\u00e9s API pr\u00e9sentent plusieurs avantages essentiels. Tout d'abord, elles peuvent \u00eatre facilement r\u00e9voqu\u00e9es par l'utilisateur. Deuxi\u00e8mement, leurs privil\u00e8ges peuvent \u00eatre limit\u00e9s, n'autorisant qu'un sous-ensemble de permissions.</p> <p>Il existe deux m\u00e9thodes d'authentification, refl\u00e9tant le nom d'utilisateur et le mot de passe:</p>"},{"location":"fr/ingestion/authentication/#appel-direct-au-point-de-terminaison-requis-cle-api","title":"Appel direct au point de terminaison requis (cl\u00e9 API)","text":"<p>Il suffit d'ajouter un en-t\u00eate d'autorisation de base contenant le nom d'utilisateur et la cl\u00e9 API \u00e0 la requ\u00eate HTTP que vous souhaitez effectuer, et tout est pris en charge:</p> <pre><code># note the format is &lt;username&gt;:&lt;apikeyname&gt;:&lt;secret&gt;\necho -n \"user:devkey:user\" | base64 -w0\n# -&gt; dXNlcjpkZXZrZXk6dXNlcg==\n</code></pre> <pre><code>GET howler.example.com/api/v1/user/whoami\nAuthorization: Basic dXNlcjpkZXZrZXk6dXNlcg==\n</code></pre>"},{"location":"fr/ingestion/authentication/#echange-contre-un-jeton-dapplication-cle-api","title":"\u00c9change contre un jeton d'application (cl\u00e9 API)","text":"<p>Vous pouvez \u00e9galement utiliser le point de terminaison <code>v1/auth/login</code> pour \u00e9changer votre nom d'utilisateur et votre cl\u00e9 API contre un jeton d'application. Le jeton fonctionne de la m\u00eame mani\u00e8re qu'un jeton d'acc\u00e8s OAuth - vous le fournissez \u00e0 chaque demande ult\u00e9rieure, et il vous authentifie jusqu'\u00e0 ce que le jeton expire.</p> <pre><code>POST howler.example.com/api/v1/auth/login/\nContent-Type: application/json\n\n{\n  \"user\": \"user\",\n  \"apikey\": \"devkey:user\"\n}\n</code></pre> <p>Le r\u00e9sultat sera quelque chose comme:</p> <pre><code>{\n  \"api_error_message\": \"\",\n  \"api_response\": {\n    \"app_token\": \"user:f220eb76ff8404abfece8c0c2f3368c7d89618c776bedcd3a506843dc4a952e4\",\n    \"provider\": null,\n    \"refresh_token\": null\n  },\n  \"api_server_version\": \"0.0.0.dev0\",\n  \"api_status_code\": 200\n}\n</code></pre> <p>Utilisation de ce jeton dans un autre appel d'API:</p> <pre><code>GET howler.example.com/api/v1/user/whoami\nAuthorization: Bearer user:f220eb76ff8404abfece8c0c2f3368c7d89618c776bedcd3a506843dc4a952e4\n</code></pre> <p>Notez que lorsque vous vous connectez \u00e0 l'aide d'une cl\u00e9 d'api, les autorisations de la cl\u00e9 d'api continuent de s'appliquer. Ainsi, si vous essayez d'acc\u00e9der \u00e0 \u00e0 un point d'acc\u00e8s qui requiert l'autorisation \"write\" avec une cl\u00e9 API qui n'a que l'autorisation \"read\", cela provoquera une erreur 403 Forbidden (Interdit).</p>"},{"location":"fr/ingestion/authentication/#authentification-par-jeton-dacces","title":"Authentification par jeton d'acc\u00e8s","text":"<p>En plus des m\u00e9thodes d'authentification fournies en interne par Howler, vous pouvez \u00e9galement vous authentifier avec un fournisseur OAuth externe comme Azure ou Keycloak. Pour ce faire, vous devez obtenir un jeton d'acc\u00e8s aupr\u00e8s de l'un de ces fournisseurs. Pour obtenir un jeton d'acc\u00e8s, il y a g\u00e9n\u00e9ralement deux flux - On-Behalf-Of, ou le flux de connexion de l'utilisateur (voir ici pour un r\u00e9capitulatif de cela). Dans le cas de Howler, le point de terminaison <code>v1/auth/login</code> est utilis\u00e9 pour les \u00e9tapes D &amp; E du flux de connexion de l'utilisateur, et il renvoie ce qui suit:</p> <pre><code>{\n    \"api_response\": {\n        \"app_token\": \"eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJ1c2VyIn0\",\n        \"provider\": \"keycloak\",\n        \"refresh_token\": \"eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJyZWZyZXNoIn0\"\n    }\n}\n</code></pre> <p>Dans ce cas, le <code>app_token</code> est le Web Token JSON que l'application utilise comme jeton d'acc\u00e8s. De la m\u00eame mani\u00e8re, le <code>refresh_token</code> est un autre JWT qui est utilis\u00e9 pour rafra\u00eechir le jeton d'acc\u00e8s si n\u00e9cessaire. Enfin, le champ <code>provider</code> (fournisseur) indique \u00e0 quel fournisseur correspond ce jeton d'acc\u00e8s.</p> <p>Une fois que vous avez ce jeton d'acc\u00e8s, vous pouvez simplement le transmettre dans l'en-t\u00eate Authorization :</p> <pre><code>GET howler.example.com/api/v1/user/whoami\nAuthorization: Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJ1c2VyIn0\n</code></pre> <p>Howler d\u00e9tectera automatiquement qu'il s'agit d'un JWT et le traitera comme tel. Si le jeton est valide, l'utilisateur sera authentifi\u00e9.</p> <p>Afin de rafra\u00eechir un jeton d'acc\u00e8s expir\u00e9, vous pouvez utiliser l'appel API suivant:</p> <pre><code>POST howler.example.com/api/v1/auth/login/\nContent-Type: application/json\n\n{\n  \"oauth_provider\": \"keycloak\",\n  \"refresh_token\": \"eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJyZWZyZXNoIn0\"\n}\n</code></pre> <p>Et vous obtiendrez quelque chose comme ceci en retour:</p> <pre><code>{\n    \"api_response\": {\n        \"app_token\": \"eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJ1c2VyMiJ9\",\n        \"provider\": \"keycloak\",\n        \"refresh_token\": \"eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJyZWZyZXNodG9rZW4yIn0\"\n    }\n}\n</code></pre>"},{"location":"fr/ingestion/authentication/#impersonation","title":"Impersonation","text":"<p>Le dernier \u00e9l\u00e9ment important du flux d'authentification est la fonctionnalit\u00e9 d'usurpation d'identit\u00e9. Pour qu'un compte de service ou un autre utilisateur puisse se faire passer pour vous (c'est-\u00e0-dire cr\u00e9er des alertes en votre nom), Howler permet aux utilisateurs de fournir une deuxi\u00e8me cl\u00e9 API afin de s'authentifier en tant qu'autre utilisateur.</p> <p>Avant d'utiliser la cl\u00e9 API d'un autre utilisateur pour vous authentifier en tant que lui, il est important que la cl\u00e9 API que vous utilisez ait \u00e9t\u00e9 marqu\u00e9e comme valide pour l'usurpation d'identit\u00e9 - v\u00e9rifiez aupr\u00e8s de l'utilisateur qui l'a fournie. Si c'est le cas, vous pouvez l'utiliser en formulant votre requ\u00eate comme suit:</p> <pre><code># Your credentials\necho -n \"admin:devkey:admin\" | base64 -w0\n# -&gt; YWRtaW46ZGV2a2V5OmFkbWlu\n\n# Their credentials\necho -n \"user:impersonate_admin:user\" | base64 -w0\n# -&gt; dXNlcjppbXBlcnNvbmF0ZV9hZG1pbjp1c2Vy\n</code></pre> Note <p>Toute forme d'authentification peut \u00eatre utilis\u00e9e par l'usurpateur, mais les cl\u00e9s API valid\u00e9es sont la seule m\u00e9thode d'authentification autoris\u00e9e pour la personne dont vous usurpez l'identit\u00e9.</p> <pre><code>GET howler.example.com/api/v1/user/whoami\nAuthorization: Basic YWRtaW46ZGV2a2V5OmFkbWlu\nX-Impersonating: Basic dXNlcjppbXBlcnNvbmF0ZV9hZG1pbjp1c2Vy\n</code></pre> <p>Si la configuration est correcte, le r\u00e9sultat sera le suivant:</p> <pre><code>{\n  \"api_error_message\": \"\",\n  \"api_response\": {\n    \"avatar\": null,\n    \"classification\": \"TLP:W\",\n    \"email\": \"user@howler.example.com\",\n    \"groups\": [\n      \"USERS\"\n    ],\n    \"is_active\": true,\n    \"is_admin\": false,\n    \"name\": \"User\",\n    \"roles\": [\n      \"user\"\n    ],\n    \"username\": \"user\"\n  },\n  \"api_server_version\": \"0.0.0.dev0\",\n  \"api_status_code\": 200\n}\n</code></pre> <p>Notez que le serveur a renvoy\u00e9 cette requ\u00eate comme si vous \u00e9tiez <code>user</code>, PAS <code>admin</code>. Il est cependant clairement indiqu\u00e9 dans les logs que c'est vous qui faites la requ\u00eate:</p> <pre><code>22/12/05 14:15:02 INFO howler.api.security | Authenticating user for path /api/v1/user/whoami/\n22/12/05 14:15:03 WARNING howler.api.security | admin is impersonating user\n22/12/05 14:15:03 INFO howler.api.security | Logged in as user from 127.0.0.1\n22/12/05 14:15:03 INFO howler.api | GET /api/v1/user/whoami/ - 200\n</code></pre>"},{"location":"fr/ingestion/bundles/#les-groupes-des-hits-howler","title":"Les groupes des hits Howler","text":"<p>Les groupes des hits peuvent \u00eatre utilis\u00e9s pour regrouper facilement un grand nombre d'alertes similaires, ce qui permet aux analystes de les traiter comme un seul incident. Prenons l'exemple d'un ordinateur qui effectue \u00e0 plusieurs reprises un appel r\u00e9seau vers <code>baddomain.ru</code> - bien qu'une alerte puisse \u00eatre g\u00e9n\u00e9r\u00e9e pour chaque cas o\u00f9 cet ordinateur acc\u00e8de \u00e0 ce domaine, il est logique que les analystes traitent toutes ces alertes comme un seul et m\u00eame cas.</p>"},{"location":"fr/ingestion/bundles/#creation-de-groupes-via-le-client-howler","title":"Cr\u00e9ation de groupes via le client Howler","text":"<p>Il y a plusieurs fa\u00e7ons de cr\u00e9er un groupe via le client Howler:</p> <pre><code>from howler_client import get_client\n\nhowler = get_client(\"https://howler.example.com\")\n\n\"\"\"Cr\u00e9ation simultan\u00e9e d'un groupe howler et de hits\"\"\"\nhowler.bundle.create(\n    # Le premier argument est le hit de l'offre group\u00e9e\n    {\n        \"howler.analytic\": \"example-test\",\n        \"howler.score\": 0\n    },\n    # Le deuxi\u00e8me argument est un hit ou une liste de hits \u00e0 inclure dans l'offre group\u00e9e.\n    [\n        {\n            \"howler.analytic\": \"example-test\",\n            \"howler.score\": 0\n        },\n        {\n            \"howler.analytic\": \"example-test\",\n            \"howler.score\": 0\n        }\n    ]\n)\n\n\"\"\"Cr\u00e9ation d'un groupe howler \u00e0 partir de hits existants\"\"\"\nhowler.bundle.create(\n    {\n        \"howler.analytic\": \"example-test\",\n        \"howler.score\": 0,\n        \"howler.hits\": [\"YcUsL8QsjmwwIdstieROk\", \"6s7MztwuSvz6tM0PgGJhvz\"]\n    },\n    # Noter: Dans les prochaines versions, vous n'aurez plus besoin d'inclure cet argument.\n    []\n)\n\n\n\"\"\"Cr\u00e9ation \u00e0 partir d'une carte\"\"\"\nbundle_hit = {\n    \"score\": 0,\n    \"bundle\": True\n}\n\nmap = {\n    \"score\": [\"howler.score\"],\n    \"bundle\": [\"howler.is_bundle\"]\n}\n\nhowler.bundle.create_from_map(\"example-test\", bundle_hit, map, [{\"score\": 0}])\n</code></pre>"},{"location":"fr/ingestion/bundles/#visualiser-les-groupes-sur-linterface-utilisateur-de-howler","title":"Visualiser les groupes sur l'interface utilisateur de Howler","text":"<p>Afin de visualiser les groupes cr\u00e9\u00e9s sur l'interface utilisateur de Howler, vous pouvez utiliser la requ\u00eate `howler.example.com/hits?query=howler.is_bundle%3Atrue)).</p> <p>En cliquant sur un groupe, vous ouvrirez une interface de recherche l\u00e9g\u00e8rement diff\u00e9rente de l'interface normale. Dans ce cas, nous filtrons automatiquement les r\u00e9sultats de la recherche pour n'inclure que les r\u00e9sultats inclus dans le groupe. Pour que cela soit \u00e9vident, l'en-t\u00eate repr\u00e9sentant le groupe appara\u00eet au-dessus de la barre de recherche.</p> <p>Vous pouvez continuer \u00e0 filtrer les r\u00e9sultats en utilisant les m\u00eames requ\u00eates que d'habitude et \u00e0 les visualiser comme d'habitude. Lors du triage d'un groupe, son \u00e9valuation s'appliquera \u00e0 tous les hits du groupe, sauf ceux qui ont d\u00e9j\u00e0 \u00e9t\u00e9 tri\u00e9s. En d'autres termes, si le groupe est ouvert, tous les hits ouverts seront \u00e9valu\u00e9s lorsque vous l'\u00e9valuerez.</p> <p>Les groupes disposent \u00e9galement d'un onglet R\u00e9sum\u00e9 qui n'est pas disponible pour les hits ordinaires. Cet onglet vous aidera \u00e0 regrouper les donn\u00e9es relatives \u00e0 tous les r\u00e9sultats du groupe. Il suffit d'ouvrir l'onglet et de cliquer sur \"Cr\u00e9er un sommaire\". Notez que cette op\u00e9ration peut prendre un certain temps, car un grand nombre de requ\u00eates sont ex\u00e9cut\u00e9es pour agr\u00e9ger les donn\u00e9es.</p>"},{"location":"fr/ingestion/client/#documentation-du-client-howler","title":"Documentation du client Howler","text":"<p>Le client Python Howler (<code>howler-client</code>) est une biblioth\u00e8que qui fournit une interface simple et intuitive pour interagir programmatiquement avec l'API Howler. Il permet aux d\u00e9veloppeurs de :</p> <ul> <li>Cr\u00e9er et ing\u00e9rer des hits provenant de diverses sources de donn\u00e9es</li> <li>Rechercher et interroger les hits avec la syntaxe Lucene</li> <li>Mettre \u00e0 jour, modifier et supprimer des hits</li> <li>G\u00e9rer les commentaires et les m\u00e9tadonn\u00e9es des hits</li> <li>Int\u00e9grer Howler dans des workflows et des pipelines automatis\u00e9s</li> </ul> <p>Le client g\u00e8re l'authentification, le formatage des requ\u00eates et l'analyse des r\u00e9ponses, ce qui facilite la cr\u00e9ation d'outils et d'int\u00e9grations avec Howler.</p> <p>Le package est publi\u00e9 sur PyPI et le code source se trouve dans le dossier <code>client/</code> du monorepo Howler.</p>"},{"location":"fr/ingestion/client/#installation","title":"Installation","text":"<p>Le client Howler n\u00e9cessite Python 3.10 ou sup\u00e9rieur. Installez-le avec pip :</p> <pre><code>pip install howler-client\n</code></pre>"},{"location":"fr/ingestion/client/#authentification-et-connexion","title":"Authentification et connexion","text":""},{"location":"fr/ingestion/client/#generer-une-cle-api","title":"G\u00e9n\u00e9rer une cl\u00e9 API","text":"<p>Pour vous authentifier avec l'API Howler, vous devez g\u00e9n\u00e9rer une cl\u00e9 API :</p> <ol> <li>Ouvrez l'interface utilisateur Howler et connectez-vous</li> <li>Cliquez sur votre ic\u00f4ne de profil en haut \u00e0 droite</li> <li>S\u00e9lectionnez Param\u00e8tres dans le menu utilisateur</li> <li>Sous S\u00e9curit\u00e9 utilisateur, cliquez sur l'ic\u00f4ne (+) \u00e0 c\u00f4t\u00e9 de Cl\u00e9s API</li> <li>Nommez votre cl\u00e9 et attribuez les permissions appropri\u00e9es</li> <li>Cliquez sur Cr\u00e9er et copiez la cl\u00e9 g\u00e9n\u00e9r\u00e9e</li> </ol> <p>Important : Stockez cette cl\u00e9 en s\u00e9curit\u00e9 - vous ne pourrez plus la voir !</p>"},{"location":"fr/ingestion/client/#se-connecter-a-howler","title":"Se connecter \u00e0 Howler","text":"<p>Le client prend en charge plusieurs m\u00e9thodes d'authentification :</p>"},{"location":"fr/ingestion/client/#utiliser-une-cle-api-recommande","title":"Utiliser une cl\u00e9 API (Recommand\u00e9)","text":"<p>Une fois que vous avez votre cl\u00e9 API, connectez-vous \u00e0 Howler en utilisant la fonction <code>get_client()</code> :</p> <pre><code>from howler_client import get_client\n\n# Vos identifiants\nUSERNAME = 'votre_nom_utilisateur'  # De la page param\u00e8tres utilisateur de l'interface Howler\nAPIKEY = 'nom_cle_api:donnees_cle_api'  # La cl\u00e9 que vous avez g\u00e9n\u00e9r\u00e9e\n\n# Cr\u00e9er le client\nclient = get_client(\"https://votre-instance-howler.com\", apikey=(USERNAME, APIKEY))\n</code></pre>"},{"location":"fr/ingestion/client/#utiliser-un-jeton-jwt","title":"Utiliser un jeton JWT","text":"<p>Si vous avez un jeton JWT (par exemple, d'un flux OAuth), vous pouvez vous authentifier en le passant au param\u00e8tre <code>auth</code> :</p> <pre><code>from howler_client import get_client\n\n# Votre jeton JWT\nJWT_TOKEN = 'eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9...'  # Votre jeton JWT\n\n# Cr\u00e9er le client\nclient = get_client(\"https://votre-instance-howler.com\", auth=JWT_TOKEN)\n</code></pre> <p>Maintenant vous pouvez utiliser l'objet <code>client</code> pour interagir avec Howler !</p>"},{"location":"fr/ingestion/client/#creer-des-hits","title":"Cr\u00e9er des hits","text":"<p>La cr\u00e9ation de hits est le cas d'utilisation principal du client Howler. Le client fournit deux m\u00e9thodes principales pour l'ingestion de donn\u00e9es : <code>client.hit.create()</code> pour les donn\u00e9es d\u00e9j\u00e0 au format du sch\u00e9ma Howler, et <code>client.hit.create_from_map()</code> pour les donn\u00e9es personnalis\u00e9es qui doivent \u00eatre mapp\u00e9es au sch\u00e9ma Howler.</p>"},{"location":"fr/ingestion/client/#utiliser-clienthitcreate","title":"Utiliser <code>client.hit.create()</code>","text":"<p>La m\u00e9thode <code>create()</code> accepte les donn\u00e9es de hit au format imbriqu\u00e9 ou aplati. Les donn\u00e9es doivent \u00eatre conformes au sch\u00e9ma Howler.</p>"},{"location":"fr/ingestion/client/#format-imbrique","title":"Format imbriqu\u00e9","text":"<p>C'est le format recommand\u00e9 car il correspond \u00e9troitement au mod\u00e8le de donn\u00e9es Howler :</p> <pre><code>from hashlib import sha256\n\n# Cr\u00e9er un hit avec une structure imbriqu\u00e9e\nhit = {\n    \"howler\": {\n        \"analytic\": \"Un test pour cr\u00e9er un hit\",\n        \"score\": 0.8,\n        \"hash\": sha256(b\"identifiant_unique\").hexdigest(),\n        \"outline\": {\n            \"threat\": \"10.0.0.1\",\n            \"target\": \"asdf123\",\n            \"indicators\": [\"me.ps1\"],\n            \"summary\": \"Ceci est un r\u00e9sum\u00e9\",\n        },\n    },\n}\n\n# Cr\u00e9er le hit\nresponse = client.hit.create(hit)\n\n# V\u00e9rifier la r\u00e9ponse\nprint(f\"Hits valides : {len(response['valid'])}\")\nprint(f\"Hits invalides : {len(response['invalid'])}\")\n</code></pre>"},{"location":"fr/ingestion/client/#format-aplati","title":"Format aplati","text":"<p>Vous pouvez \u00e9galement fournir les donn\u00e9es de hit dans un format aplati avec notation par points :</p> <pre><code>from hashlib import sha256\n\n# Cr\u00e9er un hit avec une structure aplatie\nhit = {\n    \"howler.analytic\": \"Test Dupes\",\n    \"howler.score\": 0.0,\n    \"howler.hash\": sha256(b\"identifiant_unique\").hexdigest(),\n}\n\n# Cr\u00e9er le hit\nresponse = client.hit.create(hit)\n</code></pre>"},{"location":"fr/ingestion/client/#creation-par-lots","title":"Cr\u00e9ation par lots","text":"<p>Vous pouvez cr\u00e9er plusieurs hits \u00e0 la fois en passant une liste :</p> <pre><code>hits = [\n    {\n        \"howler.analytic\": \"Test par lots\",\n        \"howler.score\": 0.5,\n        \"howler.outline.threat\": \"192.168.1.1\",\n        \"howler.outline.target\": \"serveur01\",\n        \"howler.outline.indicators\": [\"malware.exe\"],\n        \"howler.outline.summary\": \"Premier hit\",\n    },\n    {\n        \"howler.analytic\": \"Test par lots\",\n        \"howler.score\": 0.8,\n        \"howler.outline.threat\": \"192.168.1.2\",\n        \"howler.outline.target\": \"serveur02\",\n        \"howler.outline.indicators\": [\"suspicious.dll\"],\n        \"howler.outline.summary\": \"Deuxi\u00e8me hit\",\n    },\n]\n\nresponse = client.hit.create(hits)\n</code></pre>"},{"location":"fr/ingestion/client/#structure-de-la-reponse","title":"Structure de la r\u00e9ponse","text":"<p>La m\u00e9thode <code>create()</code> renvoie un dictionnaire avec deux cl\u00e9s :</p> <ul> <li><code>valid</code> : Liste des hits cr\u00e9\u00e9s avec succ\u00e8s avec leurs IDs</li> <li><code>invalid</code> : Liste des hits qui n'ont pas pass\u00e9 la validation avec des messages d'erreur</li> </ul> <pre><code>response = client.hit.create(hits)\n\n# Traiter les hits valides\nfor hit in response['valid']:\n    print(f\"Hit cr\u00e9\u00e9 avec l'ID : {hit['id']}\")\n\n# G\u00e9rer les hits invalides\nfor result in response['invalid']:\n    print(f\"\u00c9chec de cr\u00e9ation du hit : {result['error']}\")\n    print(f\"Donn\u00e9es du hit : {json.dumps(result['hit'], indent=2)}\")\n</code></pre>"},{"location":"fr/ingestion/client/#utiliser-clienthitcreate_from_map","title":"Utiliser <code>client.hit.create_from_map()</code>","text":"<p>Lorsque vous avez des donn\u00e9es dans un format personnalis\u00e9, <code>create_from_map()</code> vous permet de d\u00e9finir un mappage de votre structure de donn\u00e9es vers le sch\u00e9ma Howler. Cela est particuli\u00e8rement utile pour l'int\u00e9gration avec des syst\u00e8mes externes ou l'ingestion de donn\u00e9es provenant de diverses sources.</p>"},{"location":"fr/ingestion/client/#exemple-de-base","title":"Exemple de base","text":"<pre><code>import datetime\nfrom hashlib import sha256\n\n# D\u00e9finir le mappage de votre format de donn\u00e9es vers le sch\u00e9ma Howler\n# Les cl\u00e9s sont les chemins de vos champs, les valeurs sont des listes de chemins de champs Howler\nmapping = {\n    \"file.sha256\": [\"file.hash.sha256\", \"howler.hash\"],\n    \"file.name\": [\"file.name\"],\n    \"src_ip\": [\"source.ip\", \"related.ip\"],\n    \"dest_ip\": [\"destination.ip\", \"related.ip\"],\n    \"time.created\": [\"event.start\"],\n    \"time.completed\": [\"event.end\"],\n}\n\n# Vos donn\u00e9es personnalis\u00e9es\nhits = [\n    {\n        \"src_ip\": \"43.228.141.216\",\n        \"dest_ip\": \"31.46.39.115\",\n        \"file\": {\n            \"name\": \"fichier_cool.exe\",\n            \"sha256\": sha256(b\"fichier_cool.exe\").hexdigest(),\n        },\n        \"time\": {\n            \"created\": datetime.datetime(2020, 5, 17).isoformat() + \"Z\",\n            \"completed\": datetime.datetime(2020, 5, 18).isoformat() + \"Z\",\n        },\n    },\n]\n\n# Cr\u00e9er des hits en utilisant le mappage\nresponse = client.hit.create_from_map(\"mon_outil_analytique\", mapping, hits)\n\n# V\u00e9rifier les r\u00e9sultats\nfor hit in response:\n    if hit[\"error\"]:\n        print(f\"Erreur : {hit['error']}\")\n    else:\n        print(f\"Hit cr\u00e9\u00e9 : {hit['id']}\")\n        if hit[\"warn\"]:\n            print(f\"Avertissements : {hit['warn']}\")\n</code></pre>"},{"location":"fr/ingestion/client/#structure-de-la-reponse_1","title":"Structure de la r\u00e9ponse","text":"<p>La m\u00e9thode <code>create_from_map()</code> renvoie une liste de dictionnaires, un pour chaque hit d'entr\u00e9e :</p> <ul> <li><code>id</code> : L'ID du hit cr\u00e9\u00e9 (si r\u00e9ussi)</li> <li><code>error</code> : Message d'erreur si la cr\u00e9ation a \u00e9chou\u00e9 (None si r\u00e9ussi)</li> <li><code>warn</code> : Liste de messages d'avertissement (par exemple, champs obsol\u00e8tes utilis\u00e9s)</li> </ul>"},{"location":"fr/ingestion/client/#gerer-les-erreurs-de-validation","title":"G\u00e9rer les erreurs de validation","text":"<p>Lors de la cr\u00e9ation de hits, des erreurs de validation peuvent survenir. Le client fournit des messages d'erreur d\u00e9taill\u00e9s :</p> <pre><code>from howler_client.common.utils import ClientError\n\ntry:\n    hits = [\n        {\n            \"howler.analytic\": \"Test\",\n            \"howler.score\": 0.8,\n            # Des champs requis manquants feront \u00e9chouer la validation\n        },\n        {\n            \"howler.analytic\": \"Test\",\n            # Champ score manquant\n            \"howler.outline.threat\": \"10.0.0.1\",\n        },\n    ]\n\n    response = client.hit.create(hits)\nexcept ClientError as e:\n    print(f\"Erreur : {e}\")\n    print(f\"Hits valides : {len(e.api_response['valid'])}\")\n    print(f\"Hits invalides : {len(e.api_response['invalid'])}\")\n\n    for invalid_hit in e.api_response['invalid']:\n        print(f\"Erreur de validation : {invalid_hit['error']}\")\n</code></pre>"},{"location":"fr/ingestion/client/#detection-des-doublons","title":"D\u00e9tection des doublons","text":"<p>Howler d\u00e9tecte automatiquement les hits en double bas\u00e9s sur le champ <code>howler.hash</code>. Si vous tentez de cr\u00e9er un hit avec le m\u00eame hash qu'un hit existant, il sera ignor\u00e9 :</p> <pre><code>from hashlib import sha256\n\n# Cr\u00e9er un hash unique\nunique_hash = sha256(b\"identifiant_unique\").hexdigest()\n\n# La premi\u00e8re cr\u00e9ation r\u00e9ussit\nhit1 = {\n    \"howler.analytic\": \"Test Doublons\",\n    \"howler.score\": 0,\n    \"howler.hash\": unique_hash,\n}\nclient.hit.create(hit1)\n\n# La deuxi\u00e8me cr\u00e9ation avec le m\u00eame hash est ignor\u00e9e\nhit2 = {\n    \"howler.analytic\": \"Test Doublons\",\n    \"howler.score\": 0,\n    \"howler.hash\": unique_hash,  # M\u00eame hash !\n}\nresponse = client.hit.create(hit2)\n# Ce hit ne sera pas cr\u00e9\u00e9 car c'est un doublon\n</code></pre>"},{"location":"fr/ingestion/client/#operations-de-base-sur-les-hits","title":"Op\u00e9rations de base sur les hits","text":""},{"location":"fr/ingestion/client/#rechercher-des-hits","title":"Rechercher des hits","text":"<p>La m\u00e9thode <code>client.search.hit()</code> vous permet d'interroger les hits en utilisant la syntaxe Lucene :</p> <pre><code># Rechercher tous les hits\nresults = client.search.hit(\"howler.id:*\")\n\nprint(f\"Total de hits : {results['total']}\")\nprint(f\"Retourn\u00e9s : {len(results['items'])}\")\n\n# Acc\u00e9der aux hits individuels\nfor hit in results['items']:\n    print(f\"ID du hit : {hit['howler']['id']}\")\n    print(f\"Analytique : {hit['howler']['analytic']}\")\n    print(f\"Score : {hit['howler']['score']}\")\n</code></pre>"},{"location":"fr/ingestion/client/#parametres-de-requete","title":"Param\u00e8tres de requ\u00eate","text":"<p>La m\u00e9thode <code>search.hit()</code> prend en charge plusieurs param\u00e8tres :</p> <pre><code># Rechercher avec des param\u00e8tres sp\u00e9cifiques\nresults = client.search.hit(\n    \"howler.analytic:mon_analytique\",  # Requ\u00eate Lucene\n    rows=50,                            # Nombre de r\u00e9sultats \u00e0 retourner (d\u00e9faut : 25)\n    offset=0,                           # D\u00e9calage de d\u00e9part (d\u00e9faut : 0)\n    sort=\"event.created desc\",          # Champ de tri et direction\n    fl=\"howler.id,howler.score\",       # Champs \u00e0 retourner (s\u00e9par\u00e9s par des virgules)\n    filters=[\"event.created:[now-7d TO now]\"],  # Filtres additionnels\n)\n</code></pre>"},{"location":"fr/ingestion/client/#mettre-a-jour-des-hits","title":"Mettre \u00e0 jour des hits","text":"<p>Le client fournit plusieurs m\u00e9thodes pour mettre \u00e0 jour les hits, avec <code>overwrite()</code> \u00e9tant la plus simple pour la plupart des cas d'utilisation.</p>"},{"location":"fr/ingestion/client/#ecraser-les-donnees-de-hit-recommande","title":"\u00c9craser les donn\u00e9es de hit (Recommand\u00e9)","text":"<p>La m\u00e9thode <code>client.hit.overwrite()</code> est le moyen le plus simple de mettre \u00e0 jour un hit. Fournissez simplement un objet hit partiel avec les champs que vous voulez modifier :</p> <pre><code># Obtenir un hit \u00e0 mettre \u00e0 jour\nhit = client.search.hit(\"howler.id:*\", rows=1, sort=\"event.created desc\")[\"items\"][0]\nhit_id = hit[\"howler\"][\"id\"]\n\n# \u00c9craser des champs sp\u00e9cifiques\nupdated_hit = client.hit.overwrite(\n    hit_id,\n    {\n        \"source.ip\": \"127.0.0.1\",\n        \"destination.ip\": \"8.8.8.8\",\n        \"howler.score\": 0.95,\n        \"howler.status\": \"resolved\",\n    }\n)\n\nprint(f\"Hit mis \u00e0 jour : {updated_hit['howler']['id']}\")\n</code></pre> <p>La m\u00e9thode overwrite accepte les formats imbriqu\u00e9 et aplati :</p> <pre><code># Format imbriqu\u00e9\nclient.hit.overwrite(\n    hit_id,\n    {\n        \"howler\": {\n            \"score\": 0.9,\n            \"status\": \"open\"\n        },\n        \"source\": {\n            \"ip\": \"10.0.0.1\"\n        }\n    }\n)\n\n# Format aplati (notation par points)\nclient.hit.overwrite(\n    hit_id,\n    {\n        \"howler.score\": 0.9,\n        \"howler.status\": \"open\",\n        \"source.ip\": \"10.0.0.1\"\n    }\n)\n</code></pre>"},{"location":"fr/ingestion/client/#mises-a-jour-transactionnelles-pour-les-operations-en-lot","title":"Mises \u00e0 jour transactionnelles (Pour les op\u00e9rations en lot)","text":"<p>Pour des sc\u00e9narios plus complexes comme les mises \u00e0 jour en lot ou les op\u00e9rations atomiques (incr\u00e9menter, ajouter, etc.), utilisez <code>client.hit.update()</code> :</p> <pre><code>from howler_client.module.hit import UPDATE_SET, UPDATE_INC\n\n# Obtenir un hit \u00e0 mettre \u00e0 jour\nhit = client.search.hit(\"howler.id:*\", rows=1)[\"items\"][0]\nhit_id = hit[\"howler\"][\"id\"]\n\n# Mettre \u00e0 jour le hit avec des op\u00e9rations\nupdated_hit = client.hit.update(\n    hit_id,\n    [\n        (UPDATE_SET, \"howler.score\", 0.95),\n        (UPDATE_INC, \"howler.escalation\", 1),\n    ]\n)\n\nprint(f\"Score mis \u00e0 jour : {updated_hit['howler']['score']}\")\n</code></pre> <p>Op\u00e9rations de mise \u00e0 jour disponibles :</p> <p>Op\u00e9rations sur les listes :</p> <pre><code>from howler_client.module.hit import UPDATE_APPEND, UPDATE_APPEND_IF_MISSING, UPDATE_REMOVE\n\n# Ajouter une valeur \u00e0 une liste\n(UPDATE_APPEND, \"howler.outline.indicators\", \"nouvel_indicateur.exe\")\n\n# Ajouter seulement si pas d\u00e9j\u00e0 pr\u00e9sent\n(UPDATE_APPEND_IF_MISSING, \"related.ip\", \"192.168.1.1\")\n\n# Retirer une valeur d'une liste\n(UPDATE_REMOVE, \"howler.outline.indicators\", \"faux_positif.exe\")\n</code></pre> <p>Op\u00e9rations num\u00e9riques :</p> <pre><code>from howler_client.module.hit import UPDATE_INC, UPDATE_DEC, UPDATE_MAX, UPDATE_MIN\n\n# Incr\u00e9menter par montant\n(UPDATE_INC, \"howler.score\", 10)\n\n# D\u00e9cr\u00e9menter par montant\n(UPDATE_DEC, \"howler.score\", 5)\n\n# D\u00e9finir au maximum de la valeur actuelle et sp\u00e9cifi\u00e9e\n(UPDATE_MAX, \"howler.score\", 50)\n\n# D\u00e9finir au minimum de la valeur actuelle et sp\u00e9cifi\u00e9e\n(UPDATE_MIN, \"howler.score\", 20)\n</code></pre> <p>Op\u00e9rations g\u00e9n\u00e9rales :</p> <pre><code>from howler_client.module.hit import UPDATE_SET, UPDATE_DELETE\n\n# D\u00e9finir un champ \u00e0 une valeur sp\u00e9cifique\n(UPDATE_SET, \"howler.status\", \"resolved\")\n\n# Supprimer un champ\n(UPDATE_DELETE, \"champ_personnalise\", None)\n</code></pre>"},{"location":"fr/ingestion/client/#mise-a-jour-en-lot-par-requete","title":"Mise \u00e0 jour en lot par requ\u00eate","text":"<p>Utilisez <code>client.hit.update_by_query()</code> pour mettre \u00e0 jour plusieurs hits correspondant \u00e0 une requ\u00eate :</p> <pre><code>from howler_client.module.hit import UPDATE_INC\n\n# Incr\u00e9menter le score pour tous les hits d'un analytique sp\u00e9cifique\nclient.hit.update_by_query(\n    'howler.analytic:\"mon_analytique\"',\n    [\n        (UPDATE_INC, \"howler.score\", 100),\n    ]\n)\n\n# Note : Cette op\u00e9ration est asynchrone et peut prendre du temps\n</code></pre>"},{"location":"fr/ingestion/client/#supprimer-des-hits","title":"Supprimer des hits","text":"<p>Supprimer un ou plusieurs hits par leurs IDs :</p> <pre><code># Supprimer un seul hit\nclient.hit.delete([\"hit_id_1\"])\n\n# Supprimer plusieurs hits\nclient.hit.delete([\"hit_id_1\", \"hit_id_2\", \"hit_id_3\"])\n\n# Exemple : Supprimer tous les hits d'une recherche\nresults = client.search.hit(\"howler.analytic:analytique_test\")\nhit_ids = [hit[\"howler\"][\"id\"] for hit in results[\"items\"]]\nclient.hit.delete(hit_ids)\n</code></pre>"},{"location":"fr/ingestion/key_generation/","title":"G\u00e9n\u00e9rer une cl\u00e9 API","text":""},{"location":"fr/ingestion/key_generation/#generer-une-cle-api","title":"G\u00e9n\u00e9rer une cl\u00e9 API","text":"<p>Lors de l'int\u00e9gration de Howler dans un autre syst\u00e8me, vous ne devez pas enregistrer votre nom d'utilisateur et votre mot de passe dans une autre application. Au lieu de cela, vous devez cr\u00e9er une cl\u00e9 API avec seulement les exigences appropri\u00e9es pour cette int\u00e9gration sp\u00e9cifique.</p>"},{"location":"fr/ingestion/key_generation/#creer-une-cle-api","title":"Cr\u00e9er une cl\u00e9 API","text":"<ol> <li>Connectez-vous \u00e0 l'interface utilisateur de Howler avec l'utilisateur qui effectuera les requ\u00eates API.</li> <li>Cliquez sur votre avatar dans le coin sup\u00e9rieur droit de l'interface utilisateur de Howler et s\u00e9lectionnez \"Settings\" (Param\u00e8tres)</li> <li>Faites d\u00e9filer vers le bas jusqu'\u00e0 la section \"S\u00e9curit\u00e9 de l'utilisateur\" et appuyez sur le bouton plus.</li> <li>Ajoutez le nom de la cl\u00e9 API, s\u00e9lectionnez les privil\u00e8ges d'acc\u00e8s et les dates d'expiration, puis cliquez sur le bouton \"Cr\u00e9er\".</li> <li>La cl\u00e9 API ne sera affich\u00e9e qu'une seule fois et ne pourra pas \u00eatre r\u00e9cup\u00e9r\u00e9e. Copiez-la dans un endroit s\u00fbr afin de pouvoir l'utiliser ult\u00e9rieurement.</li> <li>Fermez le tiroir.</li> </ol>"},{"location":"fr/ingestion/links/#liens-du-hit","title":"Liens du hit","text":"<p>Afin de faciliter l'ajout d'outils suppl\u00e9mentaires que l'on peut utiliser pour suivre un hit, Howler permet aux utilisateurs de sp\u00e9cifier un ensemble de liens, ainsi qu'un titre et une ic\u00f4ne \u00e0 afficher. Cette documentation vous expliquera comment utiliser ces liens.</p>"},{"location":"fr/ingestion/links/#specification","title":"Specification","text":"<p>Afin d'ajouter des liens, vous pouvez utiliser le champ <code>howler.links</code>. Ce champ contient une liste d'objets avec trois cl\u00e9s :</p> <pre><code>hit = {\n  \"howler.links\": [\n    {\n      \"title\": \"Titre du lien avec image interne\",\n      \"href\": \"https://example.com\",\n      # Notez qu'il s'agit d'une autre application, et non d'un lien vers une image.\n      \"icon\": \"superset\",\n    },\n    {\n      \"title\": \"Titre du lien avec image externe\",\n      \"href\": \"https://www.britannica.com/animal/goose-bird\",\n      # Notez qu'il s'agit d'un lien vers une image. Nous ne fournissons pas d'h\u00e9bergement, vous devrez donc l'h\u00e9berger ailleurs !\n      \"icon\": \"https://cdn.britannica.com/76/76076-050-39DDCBA1/goose-Canada-North-America.jpg\",\n    },\n  ]\n}\n</code></pre>"},{"location":"fr/ingestion/user/","title":"Cr\u00e9er des utilisateurs dans Howler","text":""},{"location":"fr/ingestion/user/#creer-des-utilisateurs-dans-howler","title":"Cr\u00e9er des utilisateurs dans Howler","text":"<p>Howler ne dispose pas actuellement d'une interface graphique pour la cr\u00e9ation d'utilisateurs. La mani\u00e8re g\u00e9n\u00e9ralement sugg\u00e9r\u00e9e de cr\u00e9er des utilisateurs est de connecter Howler \u00e0 un fournisseur OAuth 2.0 (azure, google, etc.) et de cr\u00e9er un utilisateur bas\u00e9 sur le jeton d'authentification JWT renvoy\u00e9. Ceci est d\u00e9j\u00e0 g\u00e9r\u00e9 dans Howler, et n\u00e9cessite juste la mise en place d'un fournisseur OAuth externe (voir ici pour les informations de configuration).</p> <p>Si vous souhaitez cr\u00e9er un utilisateur directement, sans passer par la cr\u00e9ation d'OAuth, vous pouvez utiliser le script suivant, sur la m\u00eame machine que celle sur laquelle Howler est h\u00e9berg\u00e9 :</p> <pre><code>from howler.common.logging import get_logger\nfrom howler.odm.models.user import User\nfrom howler.security.utils import get_password_hash\nfrom howler.common.loader import datastore\n\nlogger = get_logger(__file__)\n\n\ndef create_user(name: str, email: str, username: str):\n    \"\"\"Cr\u00e9er un utilisateur de base avec un nom d'utilisateur, un email et un mot de passe\"\"\"\n\n    ds = datastore()\n\n    user_data = User(\n        {\n            \"name\": name,\n            \"email\": email,\n            \"password\": get_password_hash(username),\n            \"uname\": f\"{username}\",\n        }\n    )\n    ds.user.save(username, user_data)\n    logger.info(f\"{username}:{username}\")\n\n    ds.user.commit()\n\n\nif __name__ == \"__main__\":\n    name = input(\"Entrer le nom:\\n&gt; \")\n    username = input(\"\\nEntrer le nom d'utilisateur:\\n&gt; \")\n    email = input(\"\\nEntrer l'email:\\n&gt; \")\n\n    print(\n        f\"Un nouvel utilisateur sera cr\u00e9\u00e9.\\n\\tNom: {name}\\n\\tNom d'utilisateur: {username}\\n\\tEmail: {email}\"\n    )\n\n    create_user(name, email, username)\n</code></pre> <p>Un ticket pour la cr\u00e9ation d'un utilisateur graphique a \u00e9t\u00e9 cr\u00e9\u00e9 et est actuellement en cours de d\u00e9veloppement.</p>"},{"location":"fr/overview/detection_engineers/","title":"Ing\u00e9nieurs en d\u00e9tection","text":""},{"location":"fr/overview/detection_engineers/#ingenieurs-en-detection","title":"Ing\u00e9nieurs en d\u00e9tection","text":"<p>Vous venez d'\u00e9crire une analyse qui d\u00e9tecte une activit\u00e9 suspecte et vous aimeriez que votre centre d'op\u00e9rations de s\u00e9curit\u00e9 (SOC) en b\u00e9n\u00e9ficie. Dans Howler, un \u00e9v\u00e9nement int\u00e9ressant est appel\u00e9 un hit. Le terme alerte est r\u00e9serv\u00e9 aux hits qui n\u00e9cessitent un triage.</p> <p>Pour cr\u00e9er un nouveau hit, produisez un objet JSON dans lequel vous avez normalis\u00e9 les donn\u00e9es de l'\u00e9v\u00e9nement selon Elastic Common Schema (ECS). Nous proc\u00e9dons ainsi pour que les analystes de triage disposent d'un sch\u00e9ma unique \u00e0 apprendre quelle que soit la source des alertes, ce qui leur facilitera grandement la t\u00e2che.</p>"},{"location":"fr/overview/detection_engineers/#champs-specifiques-a-howler","title":"Champs sp\u00e9cifiques \u00e0 Howler","text":"<p>Ensuite, vous devez remplir certains champs sp\u00e9cifiques \u00e0 Howler :</p>"},{"location":"fr/overview/detection_engineers/#champs-requis","title":"Champs requis","text":"Champ Description Notes <code>howler.analytic</code> Le produit qui effectue la d\u00e9tection. Certains produits analytiques ex\u00e9cuteront plusieurs d\u00e9tections distinctes. Doit contenir uniquement des lettres et des espaces pour les meilleures pratiques"},{"location":"fr/overview/detection_engineers/#champs-generes-automatiquement","title":"Champs g\u00e9n\u00e9r\u00e9s automatiquement","text":"<p>Ces champs sont automatiquement remplis par Howler s'ils ne sont pas fournis :</p> Champ Description Comportement par d\u00e9faut <code>howler.id</code> Un identifiant unique pour le hit UUID g\u00e9n\u00e9r\u00e9 automatiquement <code>howler.hash</code> Un hash utilis\u00e9 pour d\u00e9dupliquer les hits Auto-g\u00e9n\u00e9r\u00e9 \u00e0 partir de l'analytique, de la d\u00e9tection et des donn\u00e9es brutes si non fourni <code>event.created</code> Horodatage de cr\u00e9ation de l'\u00e9v\u00e9nement D\u00e9fini \u00e0 l'heure actuelle si non fourni"},{"location":"fr/overview/detection_engineers/#champs-recommandes","title":"Champs recommand\u00e9s","text":"<p>Bien que non strictement requis, ces champs sont fortement recommand\u00e9s pour un triage efficace :</p> Champ Description D\u00e9faut Notes <code>howler.detection</code> Un identifiant court et unique pour la d\u00e9tection sp\u00e9cifique Aucun Doit contenir uniquement des lettres et des espaces pour les meilleures pratiques <code>howler.outline.threat</code> L'identifiant qui repr\u00e9sente le mieux l'attaquant Aucun Peut \u00eatre une IP, une adresse \u00e9lectronique, etc. <code>howler.outline.target</code> L'identifiant qui repr\u00e9sente le mieux la victime Aucun Une IP, un domaine, une adresse \u00e9lectronique, etc. <code>howler.outline.indicators</code> Une liste libre d'indicateurs de compromission (IoC) Liste vide G\u00e9n\u00e9ralement des IPs, des domaines et des hashes <code>howler.outline.summary</code> Un r\u00e9sum\u00e9 expliquant l'activit\u00e9 d\u00e9tect\u00e9e Aucun D\u00e9crivez l'\u00e9v\u00e9nement en supposant que la d\u00e9tection est correcte <code>howler.data</code> Une liste de donn\u00e9es d'\u00e9v\u00e9nement brut avant normalisation Liste vide Facilite les enqu\u00eates en dehors de Howler <code>howler.escalation</code> Le niveau d'escalade du hit <code>hit</code> Valeurs valides : <code>miss</code>, <code>hit</code>, <code>alert</code>, <code>evidence</code> <code>howler.status</code> Le statut actuel du hit <code>open</code> Valeurs valides : <code>open</code>, <code>in-progress</code>, <code>on-hold</code>, <code>resolved</code> <code>howler.scrutiny</code> Niveau de scrutiny appliqu\u00e9 au hit <code>unseen</code> Valeurs valides : <code>unseen</code>, <code>surveyed</code>, <code>scanned</code>, <code>inspected</code>, <code>investigated</code>"},{"location":"fr/overview/detection_engineers/#niveaux-descalade","title":"Niveaux d'escalade","text":"<p>Howler utilise des niveaux d'escalade (<code>howler.escalation</code>) pour cat\u00e9goriser les hits :</p> <ul> <li><code>miss</code> - L'\u00e9v\u00e9nement est \u00e9valu\u00e9 comme n'\u00e9tant pas li\u00e9 \u00e0 la d\u00e9tection (faux-positif).</li> <li><code>hit</code> - (par d\u00e9faut) L'\u00e9v\u00e9nement peut ne pas \u00eatre tr\u00e8s fiable sans contexte suppl\u00e9mentaire.</li> <li><code>alert</code> - L'\u00e9v\u00e9nement doit \u00eatre \u00e9valu\u00e9 par un analyste de triage.</li> <li><code>evidence</code> - L'\u00e9v\u00e9nement a \u00e9t\u00e9 \u00e9valu\u00e9 comme \u00e9tant li\u00e9 \u00e0 la d\u00e9tection (vrai-positif).</li> </ul> <p>Vous pouvez promouvoir certains hits en alertes imm\u00e9diates au moment de la cr\u00e9ation si l'on s'attend \u00e0 ce que tous les hits m\u00e9ritent d'\u00eatre tri\u00e9s.</p> <p>Une fois l'objet JSON compl\u00e9t\u00e9, utilisez le client Howler pour cr\u00e9er un nouveau hit. Ce hit sera imm\u00e9diatement disponible pour les analystes de triage \u00e0 partir de l'interface utilisateur de Howler.</p>"},{"location":"fr/overview/detection_engineers/#exemple-creer-un-hit","title":"Exemple : Cr\u00e9er un hit","text":"<p>Tout d'abord, assurez-vous d'avoir install\u00e9 le client Howler et un moyen de vous authentifier aupr\u00e8s de Howler (voir Authentification et connexion pour plus de d\u00e9tails).</p> <pre><code>from howler_client import get_client\nfrom hashlib import sha256\n\n# Se connecter \u00e0 Howler\nclient = get_client(\"https://votre-instance-howler.com\", apikey=(USERNAME, APIKEY))\n\n# Cr\u00e9er un hit\nhit = {\n    \"howler\": {\n        \"analytic\": \"D\u00e9tecteur de connexions suspectes\",\n        \"detection\": \"Pic de connexions \u00e9chou\u00e9es\",\n        \"hash\": sha256(b\"user123-2024-10-22-failed-logins\").hexdigest(),\n        \"escalation\": \"alert\",  # Promouvoir en alerte pour triage\n        \"outline\": {\n            \"threat\": \"203.0.113.42\",\n            \"target\": \"user123@example.com\",\n            \"indicators\": [\"203.0.113.42\"],\n            \"summary\": \"Le compte utilisateur a subi 15 tentatives de connexion \u00e9chou\u00e9es depuis une seule IP en 5 minutes\",\n        },\n        \"data\": [{\"raw_event\": \"donn\u00e9es_log_originales_ici\"}],\n    },\n    \"source\": {\"ip\": \"203.0.113.42\"},\n    \"user\": {\"email\": \"user123@example.com\"},\n    \"event\": {\"category\": [\"authentication\"], \"outcome\": \"failure\"},\n}\n\nresponse = client.hit.create(hit)\nprint(f\"Hit cr\u00e9\u00e9 : {response['valid'][0]['id']}\")\n</code></pre> <p>Pour plus d'exemples et une utilisation d\u00e9taill\u00e9e, consultez le Guide de d\u00e9veloppement client.</p>"},{"location":"fr/overview/detection_engineers/#bundles","title":"Bundles","text":"<p>Un bundle est un regroupement logique de hits qui doivent \u00eatre \u00e9valu\u00e9s ensemble. Par exemple, si une s\u00e9rie de hits multiples se produit sur le m\u00eame h\u00f4te dans un court laps de temps, un analyste de triage devrait effectuer une enqu\u00eate unique qui les prend toutes en compte. L'interface utilisateur de Howler fournit un flux de travail permettant de travailler intuitivement avec ces bundles.</p> <p>Les bundles sont impl\u00e9ment\u00e9s comme des hits sp\u00e9ciaux dont le champ <code>howler.is_bundle</code> est d\u00e9fini sur true, et <code>howler.hits</code> contient une liste de valeurs <code>howler.id</code> des hits enfants. Cela signifie que des analyses peuvent \u00eatre cr\u00e9\u00e9es pour rechercher des hits li\u00e9s et les regrouper.</p> Cr\u00e9er des bundles <p>Ne d\u00e9finissez pas manuellement les champs <code>howler.is_bundle</code> ou <code>howler.hits</code> lors de la cr\u00e9ation de hits. Les bundles doivent \u00eatre cr\u00e9\u00e9s via le point de terminaison API bundle pour garantir une validation et une gestion des relations appropri\u00e9es. Tenter de cr\u00e9er un bundle en d\u00e9finissant directement ces champs peut entra\u00eener un \u00e9tat incoh\u00e9rent ou des erreurs de validation.</p>"},{"location":"fr/overview/detection_engineers/#creer-un-bundle-par-programmation","title":"Cr\u00e9er un bundle par programmation","text":"<p>Les ing\u00e9nieurs en d\u00e9tection doivent cr\u00e9er des bundles via l'API bundle du client Howler plut\u00f4t que de compter sur la cr\u00e9ation automatique. Cela vous donne un contr\u00f4le explicite sur les hits qui sont regroup\u00e9s ensemble.</p>"},{"location":"fr/overview/detection_engineers/#exemple-1-creer-un-bundle-avec-de-nouveaux-hits","title":"Exemple 1 : Cr\u00e9er un bundle avec de nouveaux hits","text":"<p>Cet exemple cr\u00e9e un bundle et ses hits enfants en une seule op\u00e9ration :</p> <pre><code>from howler_client import get_client\n\nclient = get_client(\"https://votre-instance-howler.com\", apikey=(USERNAME, APIKEY))\n\n# D\u00e9finir le hit du bundle\nbundle_hit = {\n    \"howler\": {\n        \"analytic\": \"D\u00e9tecteur d'attaques multi-\u00e9tapes\",\n        \"detection\": \"Cha\u00eene d'acc\u00e8s aux identifiants\",\n        \"outline\": {\n            \"threat\": \"192.168.1.100\",\n            \"target\": \"serveur-entreprise-01\",\n            \"summary\": \"Plusieurs activit\u00e9s suspectes li\u00e9es d\u00e9tect\u00e9es sur le m\u00eame h\u00f4te\",\n        },\n    },\n}\n\n# D\u00e9finir les hits enfants\nchild_hits = [\n    {\n        \"howler\": {\n            \"analytic\": \"D\u00e9tecteur d'attaques multi-\u00e9tapes\",\n            \"detection\": \"Processus inhabituel\",\n            \"outline\": {\n                \"threat\": \"192.168.1.100\",\n                \"target\": \"serveur-entreprise-01\",\n                \"indicators\": [\"suspicious.exe\"],\n                \"summary\": \"Ex\u00e9cution de processus suspect d\u00e9tect\u00e9e\",\n            },\n        },\n    },\n    {\n        \"howler\": {\n            \"analytic\": \"D\u00e9tecteur d'attaques multi-\u00e9tapes\",\n            \"detection\": \"Modification du registre\",\n            \"outline\": {\n                \"threat\": \"192.168.1.100\",\n                \"target\": \"serveur-entreprise-01\",\n                \"indicators\": [\"HKLM\\\\Software\\\\Persistence\"],\n                \"summary\": \"M\u00e9canisme de persistance ajout\u00e9 au registre\",\n            },\n        },\n    },\n]\n\n# Cr\u00e9er le bundle avec ses enfants\nresponse = client.bundle.create(bundle_hit, child_hits)\nprint(f\"Bundle cr\u00e9\u00e9 : {response['howler']['id']}\")\nprint(f\"Contient {len(response['howler']['hits'])} hits enfants\")\n</code></pre>"},{"location":"fr/overview/detection_engineers/#exemple-2-creer-un-bundle-a-partir-de-hits-existants","title":"Exemple 2 : Cr\u00e9er un bundle \u00e0 partir de hits existants","text":"<p>Si vous avez d\u00e9j\u00e0 cr\u00e9\u00e9 des hits individuels et souhaitez les regrouper ult\u00e9rieurement :</p> <pre><code># Rechercher des hits li\u00e9s\nrelated_hits = client.search.hit('source.ip:\"192.168.1.100\" AND event.created:[now-1h TO now]')\n\n# Extraire les IDs des hits\nhit_ids = [hit[\"howler\"][\"id\"] for hit in related_hits[\"items\"]]\n\n# Cr\u00e9er un bundle \u00e0 partir de hits existants\nbundle_hit = {\n    \"howler\": {\n        \"analytic\": \"Moteur de corr\u00e9lation\",\n        \"detection\": \"Activit\u00e9 li\u00e9e\",\n        \"hits\": hit_ids,  # R\u00e9f\u00e9rencer les IDs de hits existants\n        \"outline\": {\n            \"threat\": \"192.168.1.100\",\n            \"summary\": f\"Bundle de {len(hit_ids)} \u00e9v\u00e9nements li\u00e9s de la m\u00eame source\",\n        },\n    },\n}\n\nresponse = client.bundle.create(bundle_hit)\nprint(f\"Bundle cr\u00e9\u00e9 avec {len(response['howler']['hits'])} hits existants\")\n</code></pre>"},{"location":"fr/overview/detection_engineers/#exemple-3-ajouter-ou-supprimer-des-hits-dun-bundle","title":"Exemple 3 : Ajouter ou supprimer des hits d'un bundle","text":"<p>Vous pouvez modifier les bundles apr\u00e8s leur cr\u00e9ation :</p> <pre><code>bundle_id = \"id-bundle-existant\"\n\n# Ajouter des hits \u00e0 un bundle existant\nnew_hit_ids = [\"hit-id-1\", \"hit-id-2\"]\nclient.bundle.add(bundle_id, new_hit_ids)\n\n# Supprimer des hits d'un bundle\nclient.bundle.remove(bundle_id, [\"hit-id-a-supprimer\"])\n\n# Supprimer tous les hits d'un bundle\nclient.bundle.remove(bundle_id, \"*\")\n</code></pre>"},{"location":"fr/overview/detection_engineers/#quand-creer-des-bundles","title":"Quand cr\u00e9er des bundles","text":"<p>Les ing\u00e9nieurs en d\u00e9tection devraient cr\u00e9er des bundles lorsque :</p> <ul> <li>Plusieurs d\u00e9tections font partie de la m\u00eame cha\u00eene d'attaque - par exemple, acc\u00e8s initial, persistance et   exfiltration de donn\u00e9es du m\u00eame acteur</li> <li>Les \u00e9v\u00e9nements se produisent en proximit\u00e9 temporelle - \u00c9v\u00e9nements li\u00e9s se produisant sur le m\u00eame h\u00f4te dans une   courte fen\u00eatre de temps</li> <li>Indicateurs corr\u00e9l\u00e9s - Plusieurs hits partageant des indicateurs communs (IPs, hashes de fichiers, etc.)</li> <li>Analyse de la cha\u00eene d'attaque - Mappage de plusieurs d\u00e9tections aux \u00e9tapes d'un framework d'attaque</li> </ul> <p>Les bundles aident les analystes de triage \u00e0 voir l'image compl\u00e8te et \u00e0 prendre des d\u00e9cisions plus \u00e9clair\u00e9es sur la menace globale.</p>"},{"location":"fr/overview/detection_engineers/#page-danalyse","title":"Page d'analyse","text":"<p>La section Analytics de l'interface utilisateur de Howler fournit une page de support pour les analyses et les d\u00e9tections individuelles. Elle contient des informations utiles \u00e0 la fois pour l'auteur d'une analyse ou d'une d\u00e9tection et pour les analystes de triage qui enqu\u00eatent sur les hits.</p>"},{"location":"fr/overview/detection_engineers/#vue-densemble","title":"Vue d'ensemble","text":"<p>Ici, vous \u00eates encourag\u00e9 \u00e0 fournir de la documentation de votre analytique en Markdown. Celle-ci devrait fournir plus de d\u00e9tails sur le fonctionnement de l'analyse ou de la d\u00e9tection, sur ce qu'elle recherche et sur la mani\u00e8re de valider les hits.</p> <p>Des mesures sont automatiquement g\u00e9n\u00e9r\u00e9es pour donner un aper\u00e7u des performances. Un taux de faux positifs tr\u00e8s \u00e9lev\u00e9 peut \u00eatre le signe que la d\u00e9tection doit \u00eatre am\u00e9lior\u00e9e. En revanche, un taux \u00e9lev\u00e9 de vrais positifs peut justifier que les hits soient automatiquement promus au rang d'alertes.</p>"},{"location":"fr/overview/detection_engineers/#commentaires","title":"Commentaires","text":"<p>Dans cet onglet, les utilisateurs peuvent laisser des commentaires sur une analyse ou une d\u00e9tection. Consid\u00e9rez ceci comme votre ligne de communication avec l'utilisateur final.</p>"},{"location":"fr/overview/detection_engineers/#commentaires-sur-les-hits","title":"Commentaires sur les hits","text":"<p>\u00c0 partir de cet onglet, vous pouvez consulter tous les commentaires laiss\u00e9s sur des hits sp\u00e9cifiques afin de mieux comprendre ce que les analystes de triage se signalent les uns aux autres.</p>"},{"location":"fr/overview/detection_engineers/#carnets-de-notes","title":"Carnets de notes","text":"<p>Si vos analystes de triage ont fr\u00e9quemment besoin d'enqu\u00eater sur des alertes en dehors de Howler, vous pouvez cr\u00e9er un lien vers un carnet de notes Jupyter. Cela signifie qu'un bouton appara\u00eetra dans l'interface utilisateur de Howler. Lorsqu'un utilisateur clique sur le bouton, il est dirig\u00e9 vers JupyterHub avec le Notebook sp\u00e9cifi\u00e9 ouvert et le hit sp\u00e9cifique charg\u00e9, ce qui permet aux requ\u00eates d'\u00eatre pr\u00e9-remplies avec des valeurs pertinentes.</p>"},{"location":"fr/overview/detection_engineers/#parametres-de-triage","title":"Param\u00e8tres de triage","text":"<p>Configurez quelles options d'\u00e9valuation sont valides pour votre analytique. Par exemple, si votre analytique ne d\u00e9tecte que des activit\u00e9s malveillantes, vous pourriez limiter les \u00e9valuations \u00e0 <code>compromise</code>, <code>attempt</code> ou <code>mitigated</code> - en excluant des options comme <code>false-positive</code> ou <code>legitimate</code> qui n'ont pas de sens pour votre logique de d\u00e9tection.</p> <p>Cela aide \u00e0 guider les analystes vers des \u00e9valuations appropri\u00e9es et maintient la coh\u00e9rence dans la fa\u00e7on dont les hits sont tri\u00e9s.</p>"},{"location":"fr/overview/detection_engineers/#documentation-connexe","title":"Documentation connexe","text":"<ul> <li>Guide de d\u00e9veloppement client - Guide complet sur l'utilisation du client   Python Howler, y compris l'installation, l'authentification et les op\u00e9rations avanc\u00e9es sur les hits</li> <li>Elastic Common Schema (ECS) - Documentation officielle   Elastic pour la r\u00e9f\u00e9rence des champs ECS et les directives</li> <li>R\u00e9f\u00e9rence du sch\u00e9ma Hit - Consultez le sch\u00e9ma complet des hits Howler dans votre instance Howler sous Aide \u2192   Sch\u00e9ma Hit</li> <li>Documentation API - Documentation API interactive pour votre   instance Howler (remplacez par votre URL r\u00e9elle)</li> </ul>"},{"location":"fr/overview/triage_analysts/","title":"Analystes de triage","text":""},{"location":"fr/overview/triage_analysts/#analystes-de-triage","title":"Analystes de triage","text":"<p>Howler est con\u00e7u pour consolider les alertes provenant de toutes les sources et diff\u00e9rencier celles qui n\u00e9cessitent un triage de celles qui n'en n\u00e9cessitent pas. Les ing\u00e9nieurs de d\u00e9tection sont cens\u00e9s normaliser les alertes, de sorte qu'elles puissent toutes \u00eatre consult\u00e9es et compar\u00e9es avec un sch\u00e9ma commun : Elastic Common Schema (ECS). En regroupant toutes les alertes sous un m\u00eame sch\u00e9ma, il est beaucoup plus facile de trouver des \u00e9v\u00e9nements corr\u00e9l\u00e9s qui justifient un examen minutieux de la part d'un analyste de triage. Par exemple, un analyste peut facilement trouver toutes les alertes li\u00e9es \u00e0 une IP source donn\u00e9e avec un seul crit\u00e8re de filtrage, quel que soit le sch\u00e9ma de la t\u00e9l\u00e9m\u00e9trie d'origine.</p> <p>Howler exige que les ing\u00e9nieurs de d\u00e9tection d\u00e9crivent explicitement le qui, le quoi, le quand, le o\u00f9 et le pourquoi de chaque alerte qu'ils produisent. Cela signifie que les analystes de triage ne sont pas confront\u00e9s \u00e0 des alertes cryptiques qui ne donnent aucun indice sur la mani\u00e8re de les valider. Par exemple, les champs menace et cible indiquent clairement qui attaque qui.</p> <p>L'autre grande am\u00e9lioration offerte par Howler est la personnalisation. Chaque type d'\u00e9v\u00e9nement peut avoir une pr\u00e9sentation personnalis\u00e9e, de sorte que nous n'inondons pas l'\u00e9cran de l'analyste de triage avec des informations sans importance ou que nous ne laissons pas des d\u00e9tails importants cach\u00e9s derri\u00e8re de multiples clics. Par exemple, pour certaines alertes, le champ HTTP referrer peut \u00eatre critique, mais pour d'autres, il peut \u00eatre sans importance.</p> <p>Howler prend en charge l'automatisation en faisant correspondre les alertes aux filtres. Si une nouvelle alerte correspond au filtre pr\u00e9par\u00e9, les actions sp\u00e9cifi\u00e9es seront automatiquement ex\u00e9cut\u00e9es. Celles-ci incluent la priorisation, le marquage et les \u00e9valuations, pour n'en citer que quelques-unes. Si un analyste voit constamment des alertes pour le m\u00eame script sys-admin alors qu'il sait qu'il s'agit d'une activit\u00e9 l\u00e9gitime, il peut ajouter une action pour appliquer une \u00e9tiquette \"sys-admin\" aux alertes qui correspondent \u00e0 un filtre soigneusement adapt\u00e9. Ensuite, ils pourraient d\u00e9cider d'\u00e9valuer automatiquement toute alerte avec une \u00e9tiquette \"sys-admin\" comme \"l\u00e9gitime\" afin d'\u00e9viter de gaspiller des efforts pour les trier.</p> <p>Toutes ces fonctionnalit\u00e9s se combinent pour fournir aux \u00e9quipes de triage une suite compl\u00e8te d'outils qui leur permet de traiter plus d'alertes de mani\u00e8re plus d\u00e9taill\u00e9e.</p>"},{"location":"fr/overview/triage_analysts/#hits","title":"Hits","text":"<p>Un grand nombre d'\u00e9v\u00e9nements d\u00e9tect\u00e9s ne sont que des indicateurs faibles et ne valent pas la peine d'\u00eatre tri\u00e9s individuellement, c'est pourquoi nous les appelons hits. Howler utilise le terme alerte pour d\u00e9crire le sous-ensemble qui doit \u00eatre tri\u00e9. Tous ceux qui sont consid\u00e9r\u00e9s comme inexacts (faux positifs) peuvent \u00eatre r\u00e9trograd\u00e9s \u00e0 miss, tandis que ceux qui sont consid\u00e9r\u00e9s comme exacts sont promus \u00e0 evidence.</p> <p>Le continuum d'escalade est le suivant : miss -&gt; hit -&gt; alert -&gt; evidence</p> <p>Dans la plupart des cas, les analystes de triage s'int\u00e9ressent aux alertes, qu'ils font passer \u00e0 l'\u00e9tat de preuves ou qu'ils r\u00e9trogradent \u00e0 l'\u00e9tat d'\u00e9chec. Pour examiner les alertes, l'analyste de triage se rend sur la page Alerts dans la barre lat\u00e9rale gauche. Une bo\u00eete de filtre lui est alors pr\u00e9sent\u00e9e. La syntaxe du filtre est Lucene. Le sch\u00e9ma des donn\u00e9es est Elastic Common Schema (ECS).</p> <p>Pour filtrer une certaine escalade, filtrez sur <code>howler.escalation</code>. Par exemple, pour regarder les alertes, \u00e9crivez : <code>howler.escalation:alert</code>.</p>"},{"location":"fr/overview/triage_analysts/#hit-cards","title":"Hit Cards","text":"<p>L'interface utilisateur de Howler affiche une version abr\u00e9g\u00e9e de chaque hit sous forme de carte. Ceci est con\u00e7u de mani\u00e8re \u00e0 r\u00e9duire la quantit\u00e9 d'efforts n\u00e9cessaires \u00e0 un analyste de triage pour comprendre la nature du hit et son contexte.</p>"},{"location":"fr/overview/triage_analysts/#banniere","title":"Banni\u00e8re","text":"<p>La banni\u00e8re situ\u00e9e en haut de chaque r\u00e9sultat fournit un contexte normalis\u00e9 abordant les questions suivantes : qui, quoi, quand, o\u00f9 et pourquoi.</p>"},{"location":"fr/overview/triage_analysts/#titre","title":"Titre","text":"<p>Le titre de la carte correspond \u00e0 l'analyse et \u00e0 la d\u00e9tection \u00e0 l'origine du r\u00e9sultat positif. Le produit logiciel qui a cr\u00e9\u00e9 la r\u00e9ponse positive est appel\u00e9 analytique. La logique de recherche et de s\u00e9lection d'\u00e9v\u00e9nements sp\u00e9cifiques est appel\u00e9e d\u00e9tection. Une analyse peut avoir plusieurs d\u00e9tections. Ces deux concepts sont exprim\u00e9s dans les champs <code>howler.analytic</code> et <code>howler.detection</code>.</p> <p>Vous pouvez filtrer les hits appartenant \u00e0 une d\u00e9tection sp\u00e9cifique. Par exemple, pour regarder les hits produits par une d\u00e9tection appel\u00e9e \"User Creds Beacon\", \u00e9crivez : <code>howler.detection: \"User Creds Beacon\"</code>.</p>"},{"location":"fr/overview/triage_analysts/#icone","title":"Ic\u00f4ne","text":"<p>Le nom repr\u00e9sente l'organisation, le d\u00e9partement ou l'\u00e9quipe concern\u00e9s. Il est stock\u00e9 dans <code>organization.name</code>. La gauche de la banni\u00e8re est color\u00e9e en fonction du m\u00e9canisme de collecte des \u00e9v\u00e9nements. Ceci est d\u00e9termin\u00e9 par le champ <code>event.provider</code>. L'image repr\u00e9sente le cadre Mitre ATT&amp;CK sp\u00e9cifi\u00e9 dans <code>threat.tactic.id</code> ou <code>threat.technique.id</code>.</p> <p>Pour plus d'informations sur la fa\u00e7on dont ces champs sont remplis par les ing\u00e9nieurs de d\u00e9tection, consultez le guide des ing\u00e9nieurs de d\u00e9tection.</p>"},{"location":"fr/overview/triage_analysts/#statut","title":"Statut","text":"<p>\u00c0 droite de la banni\u00e8re se trouve le statut. Il comporte un horodatage, l'utilisateur auquel le hit est attribu\u00e9 et l'escalade pour le hit. En outre, si d'autres utilisateurs sont en train d'examiner cette r\u00e9ponse positive, leur ic\u00f4ne appara\u00eetra dans cette section.</p>"},{"location":"fr/overview/triage_analysts/#contexte","title":"Contexte","text":"<p>La partie inf\u00e9rieure de la banni\u00e8re pr\u00e9sente les principaux aspects du contexte n\u00e9cessaires \u00e0 la compr\u00e9hension de la r\u00e9ponse positive.</p>"},{"location":"fr/overview/triage_analysts/#menace","title":"Menace","text":"<p>L'identifiant qui repr\u00e9sente le mieux l'attaquant. Il peut s'agir d'une adresse IP, d'une adresse \u00e9lectronique, etc. Utilisez-le pour trouver d'autres r\u00e9sultats qui semblent provenir du m\u00eame attaquant. (<code>howler.outline.threat</code>)</p>"},{"location":"fr/overview/triage_analysts/#cible","title":"Cible","text":"<p>L'identifiant qui repr\u00e9sente le mieux la victime. Il peut s'agir d'une adresse IP, d'une adresse \u00e9lectronique, etc. Utilisez-le pour trouver d'autres hits qui semblent affecter la m\u00eame victime. (<code>howler.outline.target</code>)</p>"},{"location":"fr/overview/triage_analysts/#indicateurs","title":"Indicateurs","text":"<p>Une liste libre d'indicateurs de compromission (IoC). Il s'agit g\u00e9n\u00e9ralement d'adresses IP, de domaines et de hachages. Utilisez-la pour trouver des attaques similaires bas\u00e9es sur leur infrastructure et leurs tactiques. (<code>howler.outline.indicators</code>)</p>"},{"location":"fr/overview/triage_analysts/#resume","title":"R\u00e9sum\u00e9","text":"<p>Un r\u00e9sum\u00e9 expliquant l'activit\u00e9 d\u00e9tect\u00e9e. Lors de l'\u00e9valuation d'un hit, vous essayez de corroborer ou de r\u00e9futer cette d\u00e9claration. (<code>howler.outline.summary</code>)</p>"},{"location":"fr/overview/triage_analysts/#details","title":"D\u00e9tails","text":"<p>Cette section peut afficher des m\u00e9tadonn\u00e9es suppl\u00e9mentaires contenues dans une alerte. Les champs affich\u00e9s doivent \u00eatre ceux qui sont les plus importants pour l'\u00e9valuation de cette d\u00e9tection particuli\u00e8re.</p>"},{"location":"fr/overview/triage_analysts/#modeles","title":"Mod\u00e8les","text":"<p>Les mod\u00e8les sont le m\u00e9canisme utilis\u00e9 pour personnaliser les champs affich\u00e9s dans la section des d\u00e9tails d'une carte d'occurrences. En haut \u00e0 droite de la section des d\u00e9tails d'une fiche de r\u00e9sultat, une ic\u00f4ne indique si vous \u00eates en train de consulter un mod\u00e8le global ou personnel. En cliquant sur cette ic\u00f4ne, vous pourrez modifier le mod\u00e8le.</p> <p>Vous pouvez indiquer ici si vous cr\u00e9ez un mod\u00e8le pour toutes les occurrences d'une analyse donn\u00e9e ou, en option, pour les occurrences d'une d\u00e9tection sp\u00e9cifique.</p> <p>Vous pouvez en faire un filtre personnel qui n'affecte que les fiches de r\u00e9sultats que vous voyez. Ce filtre pr\u00e9vaudra sur tout filtre global. Si votre filtre est global, il affectera le mod\u00e8le de tout utilisateur qui n'a pas cr\u00e9\u00e9 de mod\u00e8le personnel.</p> <p>Lors de la conception d'un mod\u00e8le, vous pouvez ajouter ou supprimer n'importe quel champ figurant dans les m\u00e9tadonn\u00e9es de la r\u00e9ponse. Tous les champs pr\u00e9sents seront affich\u00e9s dans les d\u00e9tails des occurrences correspondant \u00e0 l'analyse ou \u00e0 la d\u00e9tection. \u00c9vitez d'ajouter des champs qui ne sont pas n\u00e9cessaires \u00e0 une \u00e9valuation, car ils ralentiront la vitesse \u00e0 laquelle les analystes peuvent interpr\u00e9ter la fiche de r\u00e9sultat.</p>"},{"location":"fr/overview/triage_analysts/#dossier","title":"Dossier","text":"<p>En cliquant sur une carte de correspondance, vous ouvrirez son dossier sur le c\u00f4t\u00e9 droit de l'interface utilisateur de Howler. Une s\u00e9rie d'onglets fournit des informations suppl\u00e9mentaires sur une correspondance donn\u00e9e. En haut se trouve la m\u00eame banni\u00e8re que celle qui figure en haut d'une fiche d'occurrences. Si l'ing\u00e9nieur de d\u00e9tection a pr\u00e9vu une int\u00e9gration avec des outils externes, son bouton (image) appara\u00eetra sous la banni\u00e8re.</p>"},{"location":"fr/overview/triage_analysts/#commentaires","title":"Commentaires","text":"<p>Cette section vous permet d'\u00e9crire des commentaires pour vous-m\u00eame ou vos coll\u00e8gues.</p>"},{"location":"fr/overview/triage_analysts/#json","title":"JSON","text":"<p>Cette section affiche une repr\u00e9sentation JSON des m\u00e9tadonn\u00e9es de la r\u00e9ponse positive, y compris tous les champs que l'ing\u00e9nieur de d\u00e9tection a mis en correspondance avec ECS.</p>"},{"location":"fr/overview/triage_analysts/#donnees-brutes","title":"Donn\u00e9es brutes","text":"<p>Il s'agit de l'\u00e9v\u00e9nement brut identifi\u00e9 par la d\u00e9tection. Il s'agira d'une liste d'\u00e9v\u00e9nements si plusieurs sont concern\u00e9s. Utilisez-la si vous avez besoin de poursuivre votre enqu\u00eate en dehors de Howler. Il montrera les noms de champs originaux avant le mappage \u00e0 ECS, afin que vous puissiez construire les bonnes requ\u00eates.</p>"},{"location":"fr/overview/triage_analysts/#journal-de-travail","title":"Journal de travail","text":"<p>Toutes les modifications apport\u00e9es \u00e0 un r\u00e9sultat donn\u00e9 sont enregistr\u00e9es ici.</p>"},{"location":"fr/overview/triage_analysts/#liens-connexes","title":"Liens connexes","text":"<p>Ces liens sont fournis s'ils offrent un contexte suppl\u00e9mentaire utile qui n'a pas pu \u00eatre int\u00e9gr\u00e9 \u00e0 Howler.</p>"},{"location":"fr/overview/triage_analysts/#controles","title":"Contr\u00f4les","text":"<p>Au bas du dossier se trouve une s\u00e9rie de contr\u00f4les qui permettent aux analystes d'affecter les r\u00e9sultats de diff\u00e9rentes mani\u00e8res.</p>"},{"location":"fr/overview/triage_analysts/#gerer","title":"G\u00e9rer","text":"<ul> <li>Promouvoir : Passer d'une r\u00e9ponse positive \u00e0 une alerte</li> <li>D\u00e9missionner : Passer de l'alerte \u00e0 la r\u00e9ponse positive</li> <li>Attribuer \u00e0 moi : Signaler aux autres que vous \u00e9valuerez cette r\u00e9ponse positive.</li> <li>D\u00e9l\u00e9guer : signaler \u00e0 une personne ou \u00e0 une \u00e9quipe qu'elle doit \u00e9valuer ce r\u00e9sultat : Signaler \u00e0 une personne ou     \u00e0 une \u00e9quipe qu'elle doit \u00e9valuer ce r\u00e9sultat.</li> <li>Rel\u00e2cher : Ram\u00e8ne le r\u00e9sultat \u00e0 l'\u00e9tat non attribu\u00e9.</li> <li>Pause : Signale que vous retardez votre \u00e9valuation.</li> <li>Reprise : Signale que vous travaillez \u00e0 nouveau sur votre \u00e9valuation.</li> </ul> <p>Les options propos\u00e9es ici changent en fonction de l'\u00e9tat actuel de la r\u00e9ponse positive, de sorte que vous ne verrez que quelques choix \u00e0 un moment donn\u00e9.</p>"},{"location":"fr/overview/triage_analysts/#evaluer","title":"\u00c9valuer","text":"<p>C'est ici que vous pouvez indiquer le verdict final de votre enqu\u00eate. (<code>howler.assessment</code>)</p> <ul> <li>Ambiguous: Il n'y avait pas assez d'informations pour faire une \u00e9valuation.</li> <li>Security: L'\u00e9v\u00e9nement est une activit\u00e9 de cybers\u00e9curit\u00e9 autoris\u00e9e, comme des exercices d'entra\u00eenement.</li> <li>Development: La r\u00e9ponse positive a \u00e9t\u00e9 obtenue \u00e0 des fins de d\u00e9veloppement et doit \u00eatre ignor\u00e9e.</li> <li>False-Positive: L'\u00e9v\u00e9nement ne correspond pas aux circonstances recherch\u00e9es par la d\u00e9tection.</li> <li>Legitimate: L'\u00e9v\u00e9nement correspond \u00e0 une activit\u00e9 autoris\u00e9e.</li> <li>Trivial: L'\u00e9v\u00e9nement n'a pas d'impact significatif : L'impact de l'\u00e9v\u00e9nement n'est pas suffisamment important     pour m\u00e9riter d'\u00eatre att\u00e9nu\u00e9.</li> <li>Recon: L'\u00e9v\u00e9nement repr\u00e9sente une reconnaissance, mais ne constitue pas une menace imminente.</li> <li>Attempt: L'\u00e9v\u00e9nement repr\u00e9sente une tentative d'attaque qui ne constitue pas une menace imminente : L'\u00e9v\u00e9nement     repr\u00e9sente une tentative d'attaque qui ne semble pas avoir abouti.</li> <li>Compromise: L'\u00e9v\u00e9nement repr\u00e9sente une compromission r\u00e9ussie qui doit \u00eatre att\u00e9nu\u00e9e.</li> <li>Mitigated: L'\u00e9v\u00e9nement repr\u00e9sente une compromission r\u00e9ussie qui doit \u00eatre att\u00e9nu\u00e9e : L'\u00e9v\u00e9nement repr\u00e9sente une     compromission r\u00e9ussie pour laquelle des mesures d'att\u00e9nuation sont en cours.</li> </ul> <p>Justification : Une fois que vous avez ajout\u00e9 une \u00e9valuation, il vous est demand\u00e9 de fournir une justification sous forme de texte libre. Il s'agit d'un r\u00e9sum\u00e9 rapide expliquant \u00e0 vos coll\u00e8gues, ou \u00e0 votre futur vous-m\u00eame, pourquoi vous avez confiance en cette \u00e9valuation. (<code>howler.rationale</code>)</p>"},{"location":"fr/overview/triage_analysts/#vote","title":"Vote","text":"<p>Lorsqu'un analyste ne dispose pas de suffisamment d'informations pour proc\u00e9der \u00e0 une \u00e9valuation fiable, mais qu'il a une \"intuition\" concernant l'\u00e9v\u00e9nement, il peut placer un vote. C'est \u00e0 l'\u00e9quipe de triage de d\u00e9cider comment elle utilise les votes, mais on pourrait sugg\u00e9rer qu'un consensus dans les votes soit utilis\u00e9 pour faire une \u00e9valuation. (<code>howler.votes.bening/obscure/malicieux</code>)</p>"},{"location":"fr/overview/triage_analysts/#vues","title":"Vues","text":"<p>La r\u00e9daction de filtres peut prendre beaucoup de temps. Les analystes de triage ont souvent besoin d'utiliser les m\u00eames filtres pour leur flux de travail. Howler rationalise cela gr\u00e2ce aux vues. Apr\u00e8s avoir \u00e9crit un filtre, cliquez sur l'ic\u00f4ne en forme de c\u0153ur \u00e0 droite du filtre et sp\u00e9cifiez un nom. Cette vue est maintenant accessible \u00e0 partir du Gestionnaire de vues sur la barre lat\u00e9rale gauche. Si vous cliquez sur l'\u00e9toile \u00e0 droite d'un filtre ici, il appara\u00eetra sous Vues sauvegard\u00e9es dans la barre lat\u00e9rale de gauche.</p>"},{"location":"fr/overview/triage_analysts/#vues-globales","title":"Vues globales","text":"<p>Les membres d'une \u00e9quipe utilisent souvent les m\u00eames filtres. En sp\u00e9cifiant une vue comme globale lors de sa cr\u00e9ation, les autres utilisateurs verront cette vue dans la page Vues globales sous le filtre GLOBAL.</p>"},{"location":"fr/overview/triage_analysts/#groupes-des-hits","title":"Groupes des Hits","text":"<p>Lorsque plusieurs \u00e9v\u00e9nements semblent li\u00e9s les uns aux autres, ils peuvent \u00eatre regroup\u00e9s sous la forme d'un ensemble. Il s'agit d'un type sp\u00e9cial de r\u00e9sultat qui renvoie \u00e0 d'autres r\u00e9sultats. Ils peuvent \u00eatre identifi\u00e9s par le filtre <code>howler.is_bundle:true</code>. Les hits associ\u00e9s peuvent \u00eatre trouv\u00e9s dans la liste <code>howler.hits</code> qui contient la valeur <code>howler.id</code> de chacun.</p> <p>Pour plus d'informations sur la cr\u00e9ation et la gestion des ensembles par programmation, consultez le guide d'ingestion des ensembles.</p> <p>Lorsqu'un analyste de triage clique sur la carte d'une liasse, la banni\u00e8re de la liasse est d\u00e9plac\u00e9e au-dessus de la barre de filtre et les cartes des occurrences de la liasse sont affich\u00e9es sous la barre de filtre. Tout filtre fourni ne s'appliquera qu'aux occurrences associ\u00e9es \u00e0 la liasse.</p> <p>Tout contr\u00f4le utilis\u00e9 sur l'offre group\u00e9e sera automatiquement propag\u00e9 aux r\u00e9sultats qui lui sont associ\u00e9s.</p> <p>Un bon exemple de r\u00e9sultats que vous souhaiteriez regrouper serait une s\u00e9quence de r\u00e9sultats se produisant sur le m\u00eame h\u00f4te dans un court laps de temps. Individuellement, ces r\u00e9sultats pourraient \u00eatre beaucoup trop peu fiables pour envisager de les trier, mais avec le contexte suppl\u00e9mentaire que plusieurs d'entre eux se produisent sur le m\u00eame h\u00f4te dans une courte fen\u00eatre de temps, il serait raisonnable de promouvoir automatiquement le regroupement en alerte pour s'assurer que quelqu'un le triera. En les regroupant, nous nous assurons que non seulement un analyste de triage examine l'h\u00f4te, mais qu'il est \u00e9galement au courant de toutes les autres activit\u00e9s potentiellement li\u00e9es qui ont lieu.</p>"},{"location":"fr/overview/triage_analysts/#resume-de-loffre-groupee","title":"R\u00e9sum\u00e9 de l'offre group\u00e9e","text":"<p>Les offres group\u00e9es disposent d'un onglet suppl\u00e9mentaire dans le dossier de l'offre group\u00e9e, appel\u00e9 R\u00e9sum\u00e9. Si vous cliquez sur le bouton Cr\u00e9er un r\u00e9sum\u00e9, il comptera les valeurs distinctes de chaque fichier des occurrences. Utilisez cette fonction pour vous faire une id\u00e9e de la situation globale.</p>"},{"location":"fr/overview/triage_analysts/#documentation-connexe","title":"Documentation connexe","text":"<ul> <li>Guide des ing\u00e9nieurs de d\u00e9tection - Comprendre comment les alertes sont cr\u00e9\u00e9es et quels     champs les ing\u00e9nieurs de d\u00e9tection remplissent pour vous aider \u00e0 trier efficacement</li> <li>Syntaxe de requ\u00eate Lucene - R\u00e9f\u00e9rence pour \u00e9crire     des filtres et des recherches dans Howler</li> <li>Elastic Common Schema (ECS) - Documentation officielle     du sch\u00e9ma de champs utilis\u00e9 dans toutes les alertes de Howler</li> <li>Ontologie des donn\u00e9es - R\u00e9f\u00e9rence compl\u00e8te pour tous les champs et structures de     donn\u00e9es sp\u00e9cifiques \u00e0 Howler</li> </ul>"}]}